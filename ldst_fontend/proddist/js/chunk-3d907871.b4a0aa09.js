(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d907871","chunk-2d0d7e27"],{2292:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("mrc_ess_skLoaders",{attrs:{skLoading:e.skLoading}},[a("div",[a("mrc_ess_iconGroup",{attrs:{is_disabled:e.disabled},on:{handleReturn:e.handleReturn,handleEdit:e.handleEdit,handleDel:e.handleDel}}),a("v-card",[a("v-card-subtitle",{staticStyle:{"text-align":"right"}},[e._v(" "+e._s(e.uuid)+" ")]),a("v-card-text",[a("v-form",{ref:"func_detail"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("mrc_ess_multiText",{attrs:{label:e.$t("label_The_name_of_the_module")+"*",isNational:e.judegNational("module_name"),readonly:e.disabled,"append-icon":"mdi-longitude",rules:e.$text_rules(e.$t("label_The_name_of_the_module"))},model:{value:e.detailData.module_name,callback:function(t){e.$set(e.detailData,"module_name",t)},expression:"detailData.module_name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("mrc_ess_multiText",{attrs:{label:e.$t("label_short_code_of_module")+"*",isNational:e.judegNational("module_shortcode"),readonly:e.disabled,"append-icon":"mdi-longitude",rules:e.$text_rules(e.$t("label_short_code_of_module"))},model:{value:e.detailData.module_shortcode,callback:function(t){e.$set(e.detailData,"module_shortcode",t)},expression:"detailData.module_shortcode"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("mrc_ess_multiText",{attrs:{label:e.$t("label_Module_description")+"*",isNational:e.judegNational("module_description"),readonly:e.disabled,"append-icon":"mdi-longitude",rules:e.$text_rules(e.$t("label_Module_description"))},model:{value:e.detailData.module_description,callback:function(t){e.$set(e.detailData,"module_description",t)},expression:"detailData.module_description"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:e.$t("label_version")+"*",placeholder:e.$t("message_Automatically_generated_after_adding"),readonly:"",chips:""},model:{value:e.detailData.version,callback:function(t){e.$set(e.detailData,"version",t)},expression:"detailData.version"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("mrc_ess_dictName",{attrs:{disabled:e.disabled,label:e.$t("label_Client_type")+"*",rules:!1,errMsg:e.$errors("detailData","client_type",e.requiredRule),multiple:"",dict_name:"client_type",chips:""},model:{value:e.detailData.client_type,callback:function(t){e.$set(e.detailData,"client_type",t)},expression:"detailData.client_type"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("mrc_ess_prompt",{attrs:{select_arr:e.top_module,disabled:e.disabled,rules:!1,label:e.$t("label_The_superior_module")+"*","item-text":"view_fields","item-value":"value_field",chips:""},model:{value:e.detailData.tricode_parent,callback:function(t){e.$set(e.detailData,"tricode_parent",t)},expression:"detailData.tricode_parent"}})],1)],1)],1)],1)],1),a("mrc_ess_submitBtn",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],attrs:{loading:e.submitloading},on:{cancel:e.cancel,success:e.success}}),a("confirm",{attrs:{isOpen:e.isOpen,showText:e.showText,isLoading:e.isLoading},on:{onCancel:e.onCancel,onConfirm:e.onConfirm}})],1)])},s=[],n=(a("a15b"),a("b0c0"),a("ac1f"),a("1276"),a("96cf"),a("1da1")),o=a("6924"),l=a("fb42"),r=(a("9858"),a("795d")),d=a("b5ae"),c={components:{confirm:r["default"]},props:{},data:function(){return{submitloading:!1,skLoading:!0,is_del:!1,isLoading:!1,showText:"",isOpen:!1,top_module:[],disabled:!0,table:"mrbase_sys_modules",uuid:null,version_arr:[],detailData:{module_name:"",module_description:"",module_shortcode:"",tricode_parent:"",client_type:[],version:""}}},validations:{detailData:{client_type:{required:d["required"]}}},created:function(){},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,i,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.national("mrbase_sys_modules");case 2:if(this.skLoading=!0,e.prev=3,t=this.$route.params.uuid||this.$store.state.uuid,a=this.$route.params.name||this.$store.state.subPage_name,!t){e.next=17;break}return this.$route.meta.title=a,this.uuid=t,e.next=11,Object(o["get_detail"])({uuid:this.uuid});case 11:i=e.sent,s=i.data,this.detailData=this.$clone(s),this.detailData.client_type=this.detailData.client_type.split(","),e.next=19;break;case 17:this.$route.meta.title=this.$t("label_New_module"),this.disabled=!1;case 19:return e.next=21,Object(l["getBusinessList"])({prompt_name:"module_parent",uuid:this.uuid});case 21:n=e.sent,200==n.code&&(r=n.data,r.unshift({view_fields:"null",value_field:"001"}),this.top_module=r),this.skLoading=!1,e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](3),this.skLoading=!1;case 29:case"end":return e.stop()}}),e,this,[[3,26]])})));function t(){return e.apply(this,arguments)}return t}(),methods:{onCancel:function(){this.isOpen=!1},onConfirm:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.is_del){e.next=8;break}return this.isLoading=!0,e.next=4,Object(o["get_del"])({"~table~":this.table,uuid:this.uuid});case 4:t=e.sent,200==t.code&&(this.isLoading=!1,this.$store.commit("newsTips",this.$t("message_The_deletion_was_successful")),this.$router.go(-1)),e.next=9;break;case 8:this.$router.go(-1);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){var e=this;this.$myConfirm({content:this.$t("message_Confirm_the_cancellation_of_the_edit")}).then((function(){e.$router.go(-1)}))["catch"]((function(){}))},success:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$v.detailData.client_type.$touch(),t=this.$refs.func_detail.validate(),t&&!this.$v.detailData.client_type.$error){e.next=4;break}return e.abrupt("return");case 4:if(a={module_description:this.detailData.module_description,module_name:this.detailData.module_name,module_shortcode:this.detailData.module_shortcode,tricode_parent:this.detailData.tricode_parent,uuid:this.uuid,version:this.detailData.version,client_type:this.$clone(this.detailData.client_type).join(),org_level_uuid:this.$store.state.userData.org_level_uuid},this.submitloading=!0,!this.uuid){e.next=13;break}return e.next=9,Object(o["get_update"])(a);case 9:i=e.sent,200==i.code?(this.$store.commit("newsTips",this.$t("message_The_operation_was_successful")),this.$router.go(-1)):this.$store.commit("newsTips",this.$t("message_The_modification_failed")),e.next=17;break;case 13:return e.next=15,Object(o["get_add"])(a);case 15:s=e.sent,200==s.code?(this.$store.commit("newsTips",this.$t("message_added_successfully")),this.$router.go(-1)):this.$store.commit("newsTips",this.$t("message_Add_failed"));case 17:this.submitloading=!1;case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleReturn:function(){this.$router.go(-1)},handleEdit:function(){this.disabled=!this.disabled},handleDel:function(){var e=this;this.$myConfirm({content:this.$t("message_Confirm_the_deletion")}).then(Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["get_del"])({"~table~":e.table,uuid:e.uuid});case 2:a=t.sent,200==a.code&&(e.isLoading=!1,e.$store.commit("newsTips",e.$t("message_The_deletion_was_successful")),e.$router.go(-1));case 4:case"end":return t.stop()}}),t,this)}))))["catch"]((function(){}))}},computed:{},watch:{}},u=c,_=a("2877"),m=Object(_["a"])(u,i,s,!1,null,"c8fb2440",null);t["default"]=m.exports},"795d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"290"},on:{"click:outside":e.cancel},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-text",[e._v(e._s(e.title))]),a("v-card-subtitle",[e._v(" "+e._s(e.showText)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.cancel}},[e._v(" "+e._s(e.$t("label.no"))+" ")]),a("v-btn",{attrs:{color:"green darken-1",text:"",loading:e.loading},on:{click:e.confirm}},[e._v(" "+e._s(e.$t("label.yes"))+" ")])],1)],1)],1)},s=[],n={components:{},props:{title:{type:String,default:"提示"},isOpen:{type:Boolean,required:!0},isLoading:{type:Boolean,required:!0},showText:{type:String,required:!0}},data:function(){return{loading:!1,dialog:!1}},created:function(){},mounted:function(){this.loading=this.isLoading,this.dialog=this.isOpen},methods:{confirm:function(){this.$emit("onConfirm")},cancel:function(){this.$emit("onCancel")}},computed:{},watch:{isLoading:function(e){this.loading=e},isOpen:function(e){this.dialog=e}}},o=n,l=a("2877"),r=Object(l["a"])(o,i,s,!1,null,"8bb2fffa",null);t["default"]=r.exports}}]);
//# sourceMappingURL=chunk-3d907871.b4a0aa09.js.map