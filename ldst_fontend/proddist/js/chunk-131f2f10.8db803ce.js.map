{"version":3,"sources":["webpack:///./src/views/clientmanage/clientdetail/baimingdan.vue?e37e","webpack:///src/views/clientmanage/clientdetail/baimingdan.vue","webpack:///./src/views/clientmanage/clientdetail/baimingdan.vue?ddca","webpack:///./src/views/clientmanage/clientdetail/baimingdan.vue","webpack:///./src/views/clientmanage/clientdetail/quanxianpeizhi.vue?76a3","webpack:///./src/views/clientmanage/clientdetail/quanxianpeizhi.vue?0910","webpack:///src/views/clientmanage/clientdetail/quanxianpeizhi.vue","webpack:///./src/views/clientmanage/clientdetail/quanxianpeizhi.vue?a9b1","webpack:///./src/views/clientmanage/clientdetail/quanxianpeizhi.vue","webpack:///./src/utils/constant.js","webpack:///./src/views/clientmanage/clientdetail/index.vue?f546","webpack:///src/views/clientmanage/clientdetail/index.vue","webpack:///./src/views/clientmanage/clientdetail/index.vue?7d09","webpack:///./src/views/clientmanage/clientdetail/index.vue","webpack:///./src/views/clientmanage/clientdetail/yuyan.vue?e227","webpack:///src/views/clientmanage/clientdetail/yuyan.vue","webpack:///./src/views/clientmanage/clientdetail/yuyan.vue?4b51","webpack:///./src/views/clientmanage/clientdetail/yuyan.vue","webpack:///./src/views/clientmanage/clientdetail/index.vue?01cd","webpack:///./src/views/clientmanage/clientdetail/yuyan.vue?1ad4","webpack:///./src/views/clientmanage/clientdetail/clientuser.vue?8bc7","webpack:///src/views/clientmanage/clientdetail/clientuser.vue","webpack:///./src/views/clientmanage/clientdetail/clientuser.vue?122f","webpack:///./src/views/clientmanage/clientdetail/clientuser.vue","webpack:///./src/views/clientmanage/clientdetail/clientuser.vue?b2ef"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$t","list","isemail","readonly","on","verifyemail","emailverify","model","value","callback","$$v","states","expression","staticRenderFns","props","type","Array","default","Boolean","data","disabled","select","datastorage","watch","handler","val","deep","computed","mounted","$store","state","detailuuid","methods","v","isErr","pop","component","ref","treeList","isload","uuidslist","getData","components","getchangeref","$refs","reftree","getCheckData","function_permission","typedelmethods","result","i","oldarr","length","c_value","comparisonvalue","isExist","newarr","j","push","SASTOKEN","showSkeleton","iconstatus","hasBtn","change","edmit","tabchange","tabs","_l","item","key","tab","staticStyle","$event","changeicons","_v","_s","mrbase_sys_org_manager","masterlist","mrbase_sys_function_permission","mrbase_sys_client_email_whitelist","mrbase_sys_client_language","tabs2change","tabs2","btnloading","edmitbtn","sumbit","emailbtnchange","btndisabled","clientuser","sasToken","loading","clienthide","tabTitle","uuid","islanguage","oldtreelist","beforeDestroy","commit","updated","items2","items","goback","$myConfirm","content","name","listitems","select1","select2","rules","nodorules","ysdefault","otherlanguagelist","getlanguage","every","asa","console","log","map","is_default_language","changeis","changeno","headers","desserts","scopedSlots","_u","fn","item1","index1","manager_type","obj1","user_account","user_pwd"],"mappings":"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","file":"js/chunk-131f2f10.8db803ce.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pl-8 pr-8 pt-8\"},[_c('v-combobox',{attrs:{\"label\":_vm.$t('label_Email_whitelist_Settings')+'*',\"multiple\":\"\",\"items\":_vm.list,\"validate-on-blur\":true,\"item-text\":\"client_whitelist_email\",\"item-value\":\"uuid\",\"chips\":\"\",\"error-messages\":_vm.isemail,\"readonly\":_vm.readonly},on:{\"update:search-input\":_vm.verifyemail,\"input\":_vm.emailverify},model:{value:(_vm.states),callback:function ($$v) {_vm.states=$$v},expression:\"states\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Autor: yd\r\n * @Date: 2020-06-23 17:44:37\r\n * @LastEditors: yd\r\n * @LastEditTime: 2020-08-15 11:46:06\r\n--> \r\n<template>\r\n  <div class=\"pl-8 pr-8 pt-8\">\r\n    <!--白名单 -->\r\n    <v-combobox v-model=\"states\"\r\n                :label=\"$t('label_Email_whitelist_Settings')+'*'\"\r\n                multiple\r\n                :items=\"list\"\r\n                :validate-on-blur='true'\r\n                item-text=\"client_whitelist_email\"\r\n                item-value=\"uuid\"\r\n                chips\r\n                @update:search-input='verifyemail'\r\n                @input=\"emailverify\"\r\n                :error-messages='isemail'\r\n                :readonly='readonly'></v-combobox>\r\n  </div>\r\n</template>  \r\n\r\n<script> \r\nexport default {\r\n  props: {\r\n    list: {\r\n      type: Array,\r\n      default: () => { return [] }\r\n    },\r\n    readonly: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      states: [],//默认显示\r\n      disabled: false,\r\n      select: [],  //添加的数组\r\n      datastorage: this.list, //保存已有数据\r\n      isemail: '' //错误消息文本\r\n    }\r\n  },\r\n  watch: {\r\n    list: {\r\n      handler (val) {\r\n        this.states = val\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  mounted () {\r\n    if (this.$store.state.detailuuid) {\r\n      this.states = this.list\r\n    }\r\n    else {\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    // cancel () { },\r\n    // success () {\r\n    //   if (this.isemail != '') {\r\n    //     console.log('错误');\r\n    //   }\r\n    //   else {\r\n    //     console.log('正确');\r\n    //     console.log(this.states);\r\n    //   }\r\n    // },\r\n    verifyemail (v) {\r\n      if (v != null) {\r\n        const isErr = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/.test(v)\r\n        if (isErr) {\r\n          this.isemail = ''\r\n        }\r\n        else {\r\n          this.isemail = this.$t('verify_The_mailbox_format_is_wrong')\r\n        }\r\n      }\r\n      else {\r\n        this.isemail = ''\r\n      }\r\n    },\r\n    emailverify (v) {\r\n      if (this.isemail != '') {\r\n        this.states.pop()\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./baimingdan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./baimingdan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./baimingdan.vue?vue&type=template&id=44ffc5f2&\"\nimport script from \"./baimingdan.vue?vue&type=script&lang=js&\"\nexport * from \"./baimingdan.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quanxianpeizhi.vue?vue&type=style&index=0&id=78ae20f4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quanxianpeizhi.vue?vue&type=style&index=0&id=78ae20f4&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"pl-8 pr-8 pt-8\"},[[_c('mrc_ess_mytree',{ref:\"reftree\",attrs:{\"list\":_vm.treeList,\"disabled\":_vm.disabled,\"isload\":_vm.isload,\"uuids\":_vm.uuidslist},on:{\"getData\":_vm.getData}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Autor: yd\r\n * @Date: 2020-07-22 17:17:18\r\n * @LastEditors: yd\r\n * @LastEditTime: 2020-08-20 17:11:56\r\n-->\r\n<template>\r\n  <v-card class=\"pl-8 pr-8 pt-8\">\r\n    <template>\r\n      <mrc_ess_mytree :list='treeList'\r\n                      @getData='getData'\r\n                      :disabled='disabled'\r\n                      :isload='isload'\r\n                      :uuids='uuidslist'\r\n                      ref='reftree'></mrc_ess_mytree>\r\n    </template>\r\n  </v-card>\r\n</template>    \r\n\r\n<script>  \r\nimport { updatequanxian, getTreeList } from '@/service/api/clientmanage_api.js'\r\n\r\nexport default {\r\n  components: {\r\n  },\r\n  props: {\r\n    uuidslist: {  //用户选中的按钮\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data: () => ({\r\n    oldtree: [],  //老数据 用户一开始的数据\r\n    function_permission: [//功能权限 用户实时选中的数据   \r\n    ],\r\n    delete_function_buttons: [], //删除数据\r\n    uuids: [],\r\n    isload: false,\r\n    treeList: [] //完整的树\r\n  }),\r\n  watch: {\r\n  },\r\n  methods: {\r\n    getchangeref () {\r\n      return this.$refs.reftree.getCheckData()\r\n    },\r\n    getData (v) {  //获取最新的选择列表\r\n      // console.log(v);\r\n      this.function_permission = v\r\n    },\r\n    typedelmethods (oldarr, newarr, comparisonvalue) { //加typedel方法\r\n      var result = []  //\r\n      for (var i = 0; i < oldarr.length; i++) {\r\n        var c_value = oldarr[i].comparisonvalue\r\n        var isExist = false\r\n        for (let j = 0; j < newarr.length; j++) {\r\n          if (newarr[j].comparisonvalue == c_value) {\r\n            isExist = true\r\n            break\r\n          }\r\n        }\r\n        if (!isExist) {\r\n          result.push({ ...oldarr[i], '~type~': 'del' })\r\n        }\r\n      }\r\n      return result\r\n    },\r\n    async gettreelist () { //获取默认tree树  \r\n      const listtree = await getTreeList()\r\n      this.treeList = listtree.data\r\n    },\r\n  },\r\n  async mounted () {\r\n    await this.gettreelist()\r\n    this.isload = false\r\n    this.isload = true\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* .treecontent {\r\n  display: flex;\r\n} */\r\n.bigbox {\r\n  background-color: #eeeef0;\r\n}\r\n.box {\r\n  background-color: white;\r\n}\r\n.headers {\r\n  display: flex;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quanxianpeizhi.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quanxianpeizhi.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./quanxianpeizhi.vue?vue&type=template&id=78ae20f4&scoped=true&\"\nimport script from \"./quanxianpeizhi.vue?vue&type=script&lang=js&\"\nexport * from \"./quanxianpeizhi.vue?vue&type=script&lang=js&\"\nimport style0 from \"./quanxianpeizhi.vue?vue&type=style&index=0&id=78ae20f4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78ae20f4\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Description: \r\n * @Autor: yd\r\n * @Date: 2020-08-31 13:51:29\r\n * @LastEditors: yd\r\n * @LastEditTime: 2020-08-31 13:52:27\r\n */\r\n\r\nexport const SASTOKEN = '?sv=2019-12-12&ss=bfqt&srt=co&sp=rwdlacupx&se=2020-09-18T11:56:39Z&st=2020-08-18T03:56:39Z&spr=https,http&sig=T%2FFfmd4JSaxFM%2FdPQGGxggUnBOazPfcUcy9Umit6sdg%3D'","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"boilerplate\":false,\"type\":\"table\",\"tile\":false,\"loading\":_vm.showSkeleton,\"transition\":\"fade-transition\"}},[_c('v-card-text',[_c('div',[(_vm.clienthide)?_c('span',[_c('mrc_ess_iconGroup',{attrs:{\"is_disabled\":_vm.iconstatus,\"showEdit\":_vm.hasBtn('edit-client'),\"show_del\":_vm.hasBtn('delete-client'),\"showReturn\":false},on:{\"handleEdit\":_vm.change,\"handleDel\":_vm.edmit}})],1):_c('span',[_c('mrc_ess_iconGroup',{attrs:{\"is_disabled\":_vm.iconstatus,\"show_del\":_vm.hasBtn('delete-client'),\"showEdit\":false,\"showReturn\":false},on:{\"handleEdit\":_vm.change,\"handleDel\":_vm.edmit}})],1),(_vm.iconstatus)?_c('v-card',{staticClass:\"bigbox\"},[_c('v-tabs',{attrs:{\"background-color\":\"#eeeef0\",\"grow\":\"\",\"dark\":\"\",\"color\":\"primary\",\"slider-size\":\"3\"},on:{\"change\":_vm.tabchange},model:{value:(_vm.tabs),callback:function ($$v) {_vm.tabs=$$v},expression:\"tabs\"}},_vm._l((_vm.items),function(item){return _c('v-tab',{key:item.tab,staticStyle:{\"color\":\"black\"},on:{\"change\":function($event){return _vm.changeicons(item)}}},[_vm._v(\" \"+_vm._s(item.tab)+\" \")])}),1),_c('v-tabs-items',{model:{value:(_vm.tabs),callback:function ($$v) {_vm.tabs=$$v},expression:\"tabs\"}},[_c('v-tab-item',[_c('clientuser',{attrs:{\"list\":_vm.mrbase_sys_org_manager}})],1),_c('v-tab-item',[_c('adduser',{ref:\"adduser\",attrs:{\"list\":_vm.masterlist,\"readonly\":_vm.iconstatus}})],1),_c('v-tab-item',[_c('quanxianpeizhi',{attrs:{\"uuidslist\":_vm.mrbase_sys_function_permission,\"disabled\":_vm.iconstatus}})],1),_c('v-tab-item',[_c('baimingdan',{attrs:{\"list\":_vm.mrbase_sys_client_email_whitelist,\"readonly\":_vm.iconstatus}})],1),_c('v-tab-item',[_c('yuyan',{ref:\"yuyan\",attrs:{\"list\":_vm.mrbase_sys_client_language}})],1)],1)],1):_c('v-card',{staticClass:\"bigbox\"},[_c('v-tabs',{attrs:{\"color\":\"primary\",\"background-color\":\"#eeeef0\",\"slider-size\":\"3\",\"grow\":\"\",\"dark\":\"\"},on:{\"change\":_vm.tabs2change},model:{value:(_vm.tabs2),callback:function ($$v) {_vm.tabs2=$$v},expression:\"tabs2\"}},_vm._l((_vm.items2),function(item){return _c('v-tab',{key:item.tab,staticStyle:{\"color\":\"black\"}},[_vm._v(\" \"+_vm._s(item.tab)+\" \")])}),1),_c('v-tabs-items',{model:{value:(_vm.tabs2),callback:function ($$v) {_vm.tabs2=$$v},expression:\"tabs2\"}},[_c('v-tab-item',[_c('adduser',{ref:\"tabadduser\",attrs:{\"list\":_vm.masterlist,\"readonly\":_vm.iconstatus}}),_c('mrc_ess_submitBtn',{attrs:{\"loading\":_vm.btnloading},on:{\"cancel\":_vm.edmitbtn,\"success\":function($event){return _vm.sumbit('user')}}})],1),_c('v-tab-item',[_c('quanxianpeizhi',{ref:\"tabquanxian\",attrs:{\"uuidslist\":_vm.mrbase_sys_function_permission,\"disabled\":_vm.iconstatus}}),_c('mrc_ess_submitBtn',{attrs:{\"loading\":_vm.btnloading},on:{\"cancel\":_vm.edmitbtn,\"success\":function($event){return _vm.sumbit('quanxian')}}})],1),_c('v-tab-item',[_c('baimingdan',{ref:\"tabbaimingdan\",attrs:{\"list\":_vm.mrbase_sys_client_email_whitelist,\"readonly\":_vm.iconstatus},on:{\"emailbtnchange\":_vm.emailbtnchange}}),_c('mrc_ess_submitBtn',{attrs:{\"loading\":_vm.btnloading,\"disabled\":_vm.btndisabled},on:{\"cancel\":_vm.edmitbtn,\"success\":function($event){return _vm.sumbit('email')}}})],1),_c('v-tab-item',[_c('yuyan',{ref:\"tabyuyan\",attrs:{\"list\":_vm.mrbase_sys_client_language}}),_c('mrc_ess_submitBtn',{attrs:{\"loading\":_vm.btnloading},on:{\"cancel\":_vm.edmitbtn,\"success\":function($event){return _vm.sumbit('language')}}})],1)],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-skeleton-loader :boilerplate=\"false\"\r\n                     type=\"table\"\r\n                     :tile=\"false\"\r\n                     :loading=\"showSkeleton\"\r\n                     transition=\"fade-transition\"\r\n                     class=\"mx-auto\">\r\n    <v-card-text>\r\n\r\n      <div>\r\n\r\n        <span v-if=\"clienthide\">\r\n          <mrc_ess_iconGroup :is_disabled='iconstatus'\r\n                             :showEdit=\"hasBtn('edit-client')\"\r\n                             :show_del=\"hasBtn('delete-client')\"\r\n                             :showReturn='false'\r\n                             @handleEdit='change'\r\n                             @handleDel='edmit'></mrc_ess_iconGroup>\r\n        </span>\r\n        <span v-else>\r\n          <mrc_ess_iconGroup :is_disabled='iconstatus'\r\n                             :show_del=\"hasBtn('delete-client')\"\r\n                             :showEdit='false'\r\n                             :showReturn='false'\r\n                             @handleEdit='change'\r\n                             @handleDel='edmit'></mrc_ess_iconGroup>\r\n        </span>\r\n        <v-card class=\"bigbox\"\r\n                v-if=\"iconstatus\">\r\n          <v-tabs v-model=\"tabs\"\r\n                  background-color=\"#eeeef0\"\r\n                  grow\r\n                  @change='tabchange'\r\n                  dark\r\n                  color='primary'\r\n                  slider-size='3'>\r\n            <v-tab v-for=\"item in items\"\r\n                   :key=\"item.tab\"\r\n                   style=\"color:black\"\r\n                   @change=\"changeicons(item)\">\r\n              {{ item.tab }}\r\n            </v-tab>\r\n          </v-tabs>\r\n          <v-tabs-items v-model=\"tabs\">\r\n\r\n            <v-tab-item>\r\n              <!-- :list='mrbase_sys_org_manager' -->\r\n              <clientuser :list='mrbase_sys_org_manager'></clientuser>\r\n\r\n            </v-tab-item>\r\n\r\n            <v-tab-item>\r\n              <adduser :list='masterlist'\r\n                       ref=\"adduser\"\r\n                       :readonly='iconstatus'></adduser>\r\n            </v-tab-item>\r\n\r\n            <v-tab-item>\r\n              <quanxianpeizhi :uuidslist='mrbase_sys_function_permission'\r\n                              :disabled=\"iconstatus\"></quanxianpeizhi>\r\n\r\n            </v-tab-item>\r\n\r\n            <v-tab-item>\r\n              <baimingdan :list='mrbase_sys_client_email_whitelist'\r\n                          :readonly='iconstatus'></baimingdan>\r\n            </v-tab-item>\r\n\r\n            <v-tab-item>\r\n              <yuyan :list='mrbase_sys_client_language'\r\n                     ref=\"yuyan\"></yuyan>\r\n            </v-tab-item>\r\n          </v-tabs-items>\r\n        </v-card>\r\n\r\n        <v-card class=\"bigbox\"\r\n                v-else>\r\n          <v-tabs v-model=\"tabs2\"\r\n                  color='primary'\r\n                  background-color=\"#eeeef0\"\r\n                  slider-size='3'\r\n                  grow\r\n                  @change='tabs2change'\r\n                  dark>\r\n            <v-tab v-for=\"item in items2\"\r\n                   :key=\"item.tab\"\r\n                   style=\"color:black\">\r\n              {{ item.tab }}\r\n            </v-tab>\r\n          </v-tabs>\r\n          <v-tabs-items v-model=\"tabs2\">\r\n            <!-- 客户资料 -->\r\n            <v-tab-item>\r\n              <adduser :list='masterlist'\r\n                       :readonly='iconstatus'\r\n                       ref=\"tabadduser\"></adduser>\r\n              <mrc_ess_submitBtn @cancel='edmitbtn'\r\n                                 :loading='btnloading'\r\n                                 @success=\"sumbit('user')\"></mrc_ess_submitBtn>\r\n            </v-tab-item>\r\n            <!-- 权限验证 -->\r\n            <v-tab-item>\r\n              <quanxianpeizhi :uuidslist='mrbase_sys_function_permission'\r\n                              :disabled=\"iconstatus\"\r\n                              ref=\"tabquanxian\"></quanxianpeizhi>\r\n              <mrc_ess_submitBtn @cancel='edmitbtn'\r\n                                 :loading='btnloading'\r\n                                 @success=\"sumbit('quanxian')\"></mrc_ess_submitBtn>\r\n            </v-tab-item>\r\n            <!-- 白名单 -->\r\n            <v-tab-item>\r\n              <baimingdan :list='mrbase_sys_client_email_whitelist'\r\n                          :readonly='iconstatus'\r\n                          ref=\"tabbaimingdan\"\r\n                          @emailbtnchange='emailbtnchange'></baimingdan>\r\n              <mrc_ess_submitBtn @cancel='edmitbtn'\r\n                                 :loading='btnloading'\r\n                                 :disabled='btndisabled'\r\n                                 @success=\"sumbit('email')\"></mrc_ess_submitBtn>\r\n            </v-tab-item>\r\n            <!-- 语言 -->\r\n            <v-tab-item>\r\n              <yuyan :list='mrbase_sys_client_language'\r\n                     ref=\"tabyuyan\"></yuyan>\r\n              <mrc_ess_submitBtn @cancel='edmitbtn'\r\n                                 :loading='btnloading'\r\n                                 @success=\"sumbit('language')\"></mrc_ess_submitBtn>\r\n            </v-tab-item>\r\n          </v-tabs-items>\r\n        </v-card>\r\n      </div>\r\n\r\n    </v-card-text>\r\n  </v-skeleton-loader>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport { SASTOKEN } from '@/utils/constant.js'\r\nimport adduser from './modules/adduser'\r\nimport clientuser from './clientuser.vue'\r\nimport baimingdan from './baimingdan.vue'\r\nimport quanxianpeizhi from './quanxianpeizhi.vue'\r\nimport yuyan from './yuyan.vue'\r\nimport { getclientdetail, updateclientdetail, updatequanxian, updatewhite, updatelanguage, edmitclientdetail } from '@/service/api/clientmanage_api.js'\r\nexport default {\r\n  components: {\r\n    clientuser, baimingdan, quanxianpeizhi, yuyan, adduser\r\n  },\r\n  watch: {\r\n\r\n  },\r\n  data () {\r\n    return {\r\n      sasToken: '',\r\n      btndisabled: false,\r\n      btnloading: false,//按钮加载状态\r\n      loading: false,\r\n      showSkeleton: true,\r\n      clienthide: false,\r\n      // tabsmodule: this.$store.state.iconstatus,//显示5个还是四分\r\n      iconstatus: false,// 图标的显示隐藏\r\n      tabs: 0,\r\n      tabs2: 0,\r\n      tabTitle: '', //tab标题\r\n      uuid: '',\r\n      islanguage: true,\r\n      masterlist: {},//客户主表信息\r\n      mrbase_sys_client_email_whitelist: [], //客户白名单邮箱\r\n      mrbase_sys_client_language: [],//语言列表\r\n      function_permission: [],// 功能权限列表\r\n      mrbase_sys_org_manager: [], //需要改名\r\n      mrbase_sys_function_permission: [], //默认选中uuids  默认权限\r\n      oldtreelist: [] //保存老的用户默认选择listtree数据 \r\n    }\r\n  },\r\n  async mounted () {\r\n    this.sasToken = SASTOKEN\r\n    this.iconstatus = this.$store.state.iconstatus\r\n    // this.$route.meta.title = this.$store.state.subPage_name\r\n    this.$route.meta.title = this.$store.getters.subPage_name\r\n    if (this.$store.state.tab == 0) {\r\n      this.clienthide = false\r\n    }\r\n    else {\r\n      this.clienthide = true\r\n    }\r\n    this.tabs = this.$store.state.tab\r\n    this.tabs2 = this.$store.state.tab2\r\n    const uuid = this.$route.params.uuid || this.$store.state.detailuuid\r\n    if (uuid) {\r\n      await this.getlist()\r\n    }\r\n    else {\r\n      // 新增用户逻辑处理\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    this.$store.commit('setTab', '')\r\n    this.$store.commit('setTab2', '')\r\n    this.$store.commit('set_iconstatus', '')  // 图标状态\r\n    this.$store.commit('set_uuid', '')\r\n    this.$store.commit('set_detailuuid', '')\r\n    this.$store.commit('set_subPage_name', '')\r\n  },\r\n  updated () {\r\n  },\r\n  computed: {\r\n    items2 () {\r\n      return [\r\n        { tab: this.$t('label_Customer_data') },\r\n        { tab: this.$t('label_Function_permission_configuration') },\r\n        { tab: this.$t('label_Email_Whitelist') },\r\n        { tab: this.$t('label_language') },\r\n      ]\r\n    },\r\n    items () {\r\n      return [\r\n        { tab: this.$t('label_Administrator_account') },\r\n        { tab: this.$t('label_Customer_data') },\r\n        { tab: this.$t('label_Function_permission_configuration') },\r\n        { tab: this.$t('label_Email_Whitelist') },\r\n        { tab: this.$t('label_language') },\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    tabchange () {\r\n      this.$store.commit('setTab', this.tabs)\r\n      if (this.$store.state.tab == 0) {\r\n        this.clienthide = false\r\n      }\r\n      else {\r\n        this.clienthide = true\r\n      }\r\n    },\r\n    tabs2change () {\r\n      this.$store.commit('setTab2', this.tabs2)\r\n    },\r\n    emailbtnchange (v) {\r\n      this.btndisabled = v\r\n    },\r\n    async getlist () {\r\n      this.showSkeleton = true\r\n      const uuid = this.$route.params.uuid || this.$store.state.detailuuid\r\n      const res = await getclientdetail({ uuid })\r\n      this.showSkeleton = false\r\n      this.masterlist = res.data\r\n      this.mrbase_sys_org_manager = res.data.mrbase_sys_org_manager    //需要改表明\r\n      this.mrbase_sys_client_email_whitelist = res.data.mrbase_sys_client_email_whitelist //白名单\r\n      this.mrbase_sys_client_language = res.data.mrbase_sys_client_language  //语言列表\r\n      this.function_permission = res.data.function_permission_tree  //功能权限列表\r\n      this.mrbase_sys_function_permission = res.data.mrbase_sys_function_permission  //默认选中权限\r\n      this.oldtreelist = res.data.mrbase_sys_function_permission\r\n    },\r\n    goback () {\r\n\r\n    },\r\n    edmit () {  //删除  \r\n      this.$myConfirm({\r\n        content: this.$t('message_Confirm_the_deletion')\r\n      }).then(() => {\r\n        const uuid = this.$store.state.detailuuid\r\n        edmitclientdetail({ uuid }).then(res => {\r\n          this.$router.push({\r\n            name: 'clientmanage',\r\n          })\r\n        })\r\n      })\r\n    },\r\n    change () {    // 修改按钮被点击\r\n      this.iconstatus = !this.iconstatus\r\n      this.$store.commit('set_iconstatus', this.iconstatus)  // 图标状态\r\n    },\r\n    changeicons (item) {\r\n      if (this.tabs == 0) {\r\n        this.clienthide = false\r\n      }\r\n      else {\r\n        this.clienthide = true\r\n      }\r\n    },\r\n    edmitbtn () {  //取消\r\n      this.$myConfirm({\r\n        content: this.$t('message_Confirm_the_cancellation_of_the_edit')\r\n      }).then(res => {\r\n        this.$router.push({\r\n          name: 'clientmanage'\r\n        })\r\n      }).catch(err => { })\r\n    },\r\n    async sumbit (name) {//提交内容 \r\n      if (name === 'user') {\r\n        if (this.$refs.tabadduser.formverify()) {\r\n          var userdetail = JSON.parse(JSON.stringify(this.$refs.tabadduser.userdetail))\r\n          delete userdetail.mrbase_sys_function_permission   //删除权限该\r\n          delete userdetail.mrbase_sys_client_contacts\r\n          delete userdetail.mrbase_sys_client_email_whitelist\r\n          delete userdetail.mrbase_sys_client_language\r\n          delete userdetail.function_permission\r\n          delete userdetail.mrbase_sys_org_levels\r\n          delete userdetail.mrbase_sys_org_manager\r\n          delete userdetail.function_permission_tree\r\n          // 上传文件\r\n          // console.log(this.$refs.tabadduser.light_mode_icon_file, '---', this.$refs.tabadduser.dark_mode_icon_file);\r\n          // if (this.$refs.tabadduser.light_mode_icon_file && this.$refs.tabadduser.light_mode_icon_file.length > 0) {\r\n          //   const res = await this.$uploadFiles(this.$refs.tabadduser.light_mode_icon_file, {\r\n          //     client_short_code: userdetail.client_short_code,\r\n          //     function_uuid: this.$store.state.menuFunctionUuid,\r\n          //     attachment_data_table: 'mrbase_sys_clients',\r\n          //     attachment_data_field: 'light_mode_icon',\r\n          //     org_level_uuid: this.$store.state.currentCompany,\r\n          //     uuid: this.$store.state.uuid,\r\n          //   })\r\n          //   console.log(res);\r\n          // }\r\n          // if (this.$refs.tabadduser.dark_mode_icon_file && this.$refs.tabadduser.dark_mode_icon_file.length > 0) {\r\n          //   const res2 = await this.$uploadFiles(this.$refs.tabadduser.dark_mode_icon_file, {\r\n          //     client_short_code: userdetail.client_short_code,\r\n          //     function_uuid: this.$store.state.menuFunctionUuid,\r\n          //     attachment_data_table: 'mrbase_sys_clients',\r\n          //     attachment_data_field: 'dark_mode_icon',\r\n          //     org_level_uuid: this.$store.state.currentCompany,\r\n          //     uuid: this.$store.state.uuid,\r\n          //   })\r\n          //   console.log(res2);\r\n          // }\r\n\r\n          // delete userdetail.mrbase_sys_org_manager  \r\n          // console.log('删除一项', this.$refs.tabadduser.desserts);\r\n          this.$refs.tabadduser.desserts ? this.$refs.tabadduser.desserts : this.$refs.tabadduser.desserts = []\r\n          const userres = { ...userdetail, mrbase_sys_client_contacts: [...this.$refs.tabadduser.desserts, ...this.$refs.tabadduser.deletedessertslist] }\r\n          this.btnloading = !this.btnloading\r\n\r\n          updateclientdetail(userres).then(async res => {\r\n            if (res.code == 200) {\r\n              //上传文件\r\n              if (this.$refs.tabadduser.light_mode_icon_file && this.$refs.tabadduser.light_mode_icon_file.length > 0) {\r\n                const res1 = await this.$uploadFiles(this.$refs.tabadduser.light_mode_icon_file, {\r\n                  function_uuid: this.$store.state.menuFunctionUuid,\r\n                  attachment_data_table: 'mrbase_sys_clients',\r\n                  attachment_data_field: 'light_mode_icon',\r\n                  org_level_uuid: this.$store.state.currentCompany,\r\n                  uuid: this.$store.state.detailuuid,\r\n                })\r\n                console.log(res1);\r\n              }\r\n              if (this.$refs.tabadduser.dark_mode_icon_file && this.$refs.tabadduser.dark_mode_icon_file.length > 0) {\r\n                const res2 = await this.$uploadFiles(this.$refs.tabadduser.dark_mode_icon_file, {\r\n                  function_uuid: this.$store.state.menuFunctionUuid,\r\n                  attachment_data_table: 'mrbase_sys_clients',\r\n                  attachment_data_field: 'dark_mode_icon',\r\n                  org_level_uuid: this.$store.state.currentCompany,\r\n                  uuid: this.$store.state.detailuuid,\r\n                })\r\n                console.log(res2);\r\n              }\r\n              this.$store.commit('newsTips', this.$t('message_The_operation_was_successful'))\r\n              this.getlist()\r\n            }\r\n            this.btnloading = !this.btnloading\r\n          }).catch(err => {\r\n            this.$store.commit('newsTips', this.$t('message_The_modification_failed'))\r\n            this.btnloading = !this.btnloading\r\n          })\r\n        }\r\n        else {\r\n          this.$myConfirm({\r\n            content: this.$t('message_The_information_was_not_entered_completely')\r\n          })\r\n        }\r\n      }\r\n      if (name === 'email') {\r\n        if (this.$refs.tabbaimingdan.isemail != '') return\r\n        // console.log(this.$refs.tabbaimingdan.states);\r\n        this.btnloading = !this.btnloading\r\n        setTimeout(() => {\r\n          if (this.$refs.tabbaimingdan) {\r\n            const datastorage = this.$refs.tabbaimingdan.datastorage || []  //保存的数据\r\n            const states = this.$refs.tabbaimingdan.states || [] //用户修改的数据\r\n            // console.log(this.$refs.tabbaimingdan.states);\r\n            // console.log(datastorage, states);\r\n            var result = []\r\n            if (datastorage) {\r\n              for (var i = 0; i < datastorage.length; i++) {\r\n                var uuid = datastorage[i].uuid\r\n                var isExist = false\r\n                for (let j = 0; j < states.length; j++) {\r\n                  if (states[j].uuid == uuid) {\r\n                    isExist = true\r\n                    break\r\n                  }\r\n                }\r\n                if (!isExist) {\r\n                  result.push({ ...datastorage[i], '~type~': 'del' })\r\n                }\r\n              }\r\n            }\r\n            // console.log(result);\r\n            // const arr1 = []\r\n            states.map((item) => {\r\n              if (typeof (item) == 'string') {\r\n                const obj = {}\r\n                obj[\"~table~\"] = \"mrbase_sys_client_email_whitelist\"\r\n                obj['whitelist_domain'] = item\r\n                // obj['client_whitelist_id'] = 50\r\n                result.push(obj)\r\n              } else {\r\n                result.push(item)\r\n              }\r\n            })\r\n\r\n            updatewhite({  //发送请求\r\n              uuid: JSON.parse(localStorage.getItem('detailuuid')),\r\n              client_name: this.$store.state.subPage_name,\r\n              mrbase_sys_client_email_whitelist: result\r\n            }).then(async res => {\r\n              if (res.code === '200') {\r\n                this.$store.commit('newsTips', this.$t('message_The_operation_was_successful'))\r\n                await this.getlist()\r\n                this.btnloading = !this.btnloading\r\n              } else {\r\n                this.$store.commit('newsTips', res.msg)\r\n                this.btnloading = !this.btnloading\r\n              }\r\n            }).catch(err => {\r\n              this.btnloading = !this.btnloading\r\n            })\r\n\r\n          }\r\n        }, 1)\r\n      }\r\n      if (name === 'language') {\r\n        if (this.$refs.tabyuyan) {\r\n\r\n          const languagelist = this.$refs.tabyuyan.mrbase_sys_client_language\r\n          if (languagelist) {\r\n            this.btnloading = !this.btnloading\r\n            updatelanguage({\r\n              uuid: this.$store.state.detailuuid || JSON.parse(localStorage.getItem('detailuuid')),\r\n              client_name: this.$store.state.subPage_name,\r\n              mrbase_sys_client_language: languagelist\r\n            }).then(async res => {\r\n              if (res.code === '200') {\r\n                this.$store.commit('newsTips', this.$t('message_The_operation_was_successful'))\r\n                await this.getlist()\r\n                this.btnloading = !this.btnloading\r\n              } else {\r\n                this.$store.commit('newsTips', res.msg)\r\n                this.btnloading = !this.btnloading\r\n              }\r\n            }).catch(err => {\r\n              this.btnloading = !this.btnloading\r\n            })\r\n          }\r\n          else {\r\n            this.$myConfirm({\r\n              content: this.$t('message_default_language_must_be_selected')\r\n            })\r\n          }\r\n\r\n        }\r\n      }\r\n      if (name === 'quanxian') {\r\n        if (this.$refs.tabquanxian) {\r\n          // console.log(this.oldtreelist, '-----', this.$refs.tabquanxian.function_permission);\r\n          const uuid = this.$store.state.detailuuid || JSON.parse(localStorage.getItem('detailuuid'))\r\n          const role_uuid = this.$store.state.uuid || JSON.parse(localStorage.getItem('uuid'))\r\n          var oldarr = this.$clone(this.oldtreelist)\r\n          // var mrbase_sys_function_permission = this.$refs.tabquanxian.getchangeref()\r\n          var newarr = this.$refs.tabquanxian.getchangeref()\r\n          // console.log('新的数据', newarr);\r\n          // console.log('老的数据', oldarr);\r\n          if (!oldarr.length > 0) return\r\n          // console.log(1);\r\n          if (newarr.length > 0) { //判断修改的功能权限\r\n            newarr = newarr.map(item => {\r\n              item.button_uuid = item.button_uuid.length > 0 ? item.button_uuid.split(',') : ''\r\n              return item\r\n            })\r\n            var result = []   //排除function的数组  删除的功能模块则他下面的buttid也被删除了\r\n            var otherresult = []  //剩下的数据 需要排除buttonuuid  找出被删除的buttid\r\n            for (var i = 0; i < oldarr.length; i++) {\r\n              var c_value = oldarr[i].function_uuid\r\n              var isExist = false\r\n              for (let j = 0; j < newarr.length; j++) {\r\n                if (newarr[j].function_uuid == c_value) {\r\n                  isExist = true\r\n                  break\r\n                }\r\n              }\r\n              if (!isExist) {\r\n                result.push({ ...oldarr[i] })\r\n                // result.push({ function_uuid: oldarr[i].function_uuid })\r\n              } else {\r\n                otherresult.push(oldarr[i])\r\n              }\r\n            }\r\n            // console.log(2);\r\n            // console.log(result);\r\n            // console.log('去除删除的功能模块', otherresult);\r\n\r\n            //先判断用户默认选择列表中数据是否在组件返回的数据中（先判断function_uuid）\r\n            //function_uuid没有则加入result里面，该功能模块删除\r\n            // 如果dx没有dd的function_uuid\r\n            //则将dd里的那一项数据加入deletelist列表中。\r\n            //之后在判断有的数据的button_uuid  没有的button_uuid加入deletelist数据里\r\n            var fncc = []  //button_id被删除的数组\r\n            var haveuuid = [] //含有uuid未被删除的数据\r\n            // var buttonid = []\r\n            for (var i = 0; i < otherresult.length; i++) {\r\n              let newbutton = []  //接受新的buttonid数组\r\n              let oldbutton = []  //未被删除的buttonid数组\r\n              otherresult[i].button_uuid.forEach((item, index) => {\r\n                var c_value = item  //比较值\r\n                var isbtn = false  //默认添加删除该项\r\n                // var isExist = false  //判断是否添加buttonid 默认添加删除的该buttonid\r\n                for (let j = 0; j < newarr.length; j++) {\r\n                  for (let l = 0; l < newarr[j].button_uuid.length; l++) {\r\n                    if (newarr[j].button_uuid[l] == c_value) {\r\n                      isbtn = true   //相等则不添加该项\r\n                      break\r\n                    }\r\n                  }\r\n                }\r\n                if (!isbtn) {\r\n                  newbutton.push(item)\r\n                }\r\n                else {\r\n                  oldbutton.push(item)\r\n                }\r\n              })\r\n              fncc.push({ ...otherresult[i], button_uuid: newbutton })\r\n              haveuuid.push({ ...otherresult[i], button_uuid: oldbutton })\r\n            }\r\n\r\n            // console.log('删除的功能模块', result);\r\n            // console.log('未被删除buttin_id功能模块', haveuuid);\r\n            var addlist = []\r\n            // haveuuid与newarr做判断 将新增的添加进addlist数组里\r\n            for (var i = 0; i < newarr.length; i++) {\r\n              var c_value = newarr[i].function_uuid\r\n              var isExist = false\r\n              for (let j = 0; j < haveuuid.length; j++) {\r\n                if (haveuuid[j].function_uuid == c_value) {\r\n                  isExist = true\r\n                  break\r\n                }\r\n              }\r\n              if (!isExist) {\r\n                addlist.push({ ...newarr[i] })\r\n              }\r\n            }\r\n            // console.log('新增的功能', addlist);\r\n\r\n            // 将用户选中button_id替换进去haveuuid的button_id\r\n            for (var i = 0; i < haveuuid.length; i++) {\r\n              var c_value = haveuuid[i].function_uuid  //比较值\r\n              // var isExist = false  //判断是否添加buttonid 默认添加删除的该buttonid\r\n              for (let j = 0; j < newarr.length; j++) {\r\n                if (newarr[j].function_uuid == c_value) {\r\n                  haveuuid[i].button_uuid = newarr[j].button_uuid\r\n                  break\r\n                }\r\n              }\r\n            }\r\n            // console.log('用户选择的数据处理后', haveuuid);\r\n\r\n\r\n            var mrbase_sys_function_permission = [...addlist, ...haveuuid].map(item => {\r\n              // console.log(item.button_uuid.length, item.button_uuid, item.function_uuid);\r\n              return { ...item, role_uuid, button_uuid: item.button_uuid.length > 0 ? item.button_uuid.join() : '' }\r\n            })\r\n            // 判断用户新增的按钮加入原来的功能中\r\n            // console.log('用户选中的数据传输', mrbase_sys_function_permission);\r\n            // 按钮被删除的数据需要先判断button_id是否有值，没有则没有按钮被删除\r\n            // console.log('按钮被删除的数据需要先判断button_id是否有值，没有则没有按钮被删除', fncc);\r\n            if (fncc.length > 0) {\r\n              var deletelist = []\r\n              fncc.forEach(item => {\r\n                if (item.button_uuid.length > 0) {\r\n                  deletelist.push(item)\r\n                }\r\n              })\r\n            }\r\n            // console.log('处理的数据-按钮未被删除全部的数据', deletelist);\r\n            const delete_function_buttons = [...deletelist, ...result].map(item => {\r\n              return { function_uuid: item.function_uuid, button_uuid: item.button_uuid.join() }\r\n            })\r\n            // let delete_function_buttons = deletelist.map(item => {  //只穿function_uuid\r\n            //   return { function_uuid: item.function_uuid, button_uuid: item.button_uuid.join() }\r\n            // })\r\n            // delete_function_buttons = [...delete_function_buttons, ...result]\r\n            // mrbase_sys_function_permission = mrbase_sys_function_permission.map(item => {\r\n            //   return { ...item, 'role_uuid': uuid }\r\n            // })\r\n            // return\r\n            this.btnloading = !this.btnloading\r\n            // console.log(mrbase_sys_function_permission);\r\n            // return\r\n            updatequanxian({  //发送请求\r\n              uuid: uuid, role_uuid,\r\n              client_name: this.$store.state.subPage_name,\r\n              mrbase_sys_function_permission,\r\n              delete_function_buttons\r\n            }).then(async res => {\r\n              if (res.code === '200') {\r\n                this.$store.commit('newsTips', this.$t('message_The_operation_was_successful'))\r\n                await this.getlist()\r\n                this.btnloading = !this.btnloading\r\n              }\r\n              else {\r\n                this.$store.commit('newsTips', res.msg)\r\n                this.btnloading = !this.btnloading\r\n              }\r\n            })\r\n          }\r\n          else { //权限全部被取消 \r\n            var delete_function_buttons = []\r\n            if (oldarr.length > 0) {\r\n              delete_function_buttons = oldarr.map(item => {\r\n                return { 'function_uuid': item.function_uuid }\r\n              })\r\n            } else {\r\n              return delete_function_buttons = []\r\n            }\r\n            // return\r\n            this.btnloading = !this.btnloading\r\n            updatequanxian({  //发送请求\r\n              uuid: uuid, role_uuid,\r\n              client_name: this.$store.state.subPage_name,\r\n              mrbase_sys_function_permission: [],\r\n              delete_function_buttons\r\n            }).then(async res => {\r\n              if (res.code === '200') {\r\n                this.$store.commit('newsTips', this.$t('message_The_operation_was_successful'))\r\n                await this.getlist()\r\n                this.btnloading = !this.btnloading\r\n              } else {\r\n                this.$store.commit('newsTips', this.$t('message_The_modification_failed'))\r\n                this.btnloading = !this.btnloading\r\n              }\r\n            }).catch(err => {\r\n              this.btnloading = !this.btnloading\r\n            })\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.icon-box {\r\n  position: fixed;\r\n  top: 75px;\r\n  right: 73px;\r\n}\r\n.btn-icon {\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  background: primary;\r\n}\r\n.icon {\r\n  padding: 15px 10px;\r\n  color: white;\r\n}\r\n.btn {\r\n  color: rgb(255, 173, 77);\r\n  margin: 27px 60px;\r\n  border-radius: 20%;\r\n}\r\n.btn:hover {\r\n  background-color: rgb(255, 173, 77);\r\n  color: white;\r\n}\r\n.btnbgd {\r\n  background-color: #ccc;\r\n  /* margin: 0 30px; */\r\n  height: 80px;\r\n}\r\n.v-stepper__content {\r\n  padding: 0px 0px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ebb2dbc4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=ebb2dbc4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ebb2dbc4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-text',[_c('v-col',{attrs:{\"cols\":\" 12\"}},[_c('v-select',{attrs:{\"items\":_vm.listitems,\"chips\":\"\",\"item-text\":\"view_fields\",\"item-value\":\"value_field\",\"label\":_vm.$t('label_The_default_language')+'*',\"readonly\":_vm.readonly},model:{value:(_vm.select1),callback:function ($$v) {_vm.select1=$$v},expression:\"select1\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{attrs:{\"items\":_vm.listitems,\"chips\":\"\",\"item-text\":\"view_fields\",\"item-value\":\"value_field\",\"multiple\":\"\",\"label\":_vm.$t('label_Other_languages')+'*',\"readonly\":_vm.readonly},on:{\"change\":_vm.change},model:{value:(_vm.select2),callback:function ($$v) {_vm.select2=$$v},expression:\"select2\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 语言 v-if=\"$route.params.uuid\"-->\r\n  <v-card>\r\n    <v-card-text>\r\n      <v-col cols=\" 12\">\r\n        <v-select v-model=\"select1\"\r\n                  :items=\"listitems\"\r\n                  chips\r\n                  item-text=\"view_fields\"\r\n                  item-value=\"value_field\"\r\n                  :label=\"$t('label_The_default_language')+'*'\"\r\n                  :readonly='readonly'></v-select>\r\n      </v-col>\r\n      <v-col cols=\"12\">\r\n        <v-select v-model=\"select2\"\r\n                  :items=\"listitems\"\r\n                  chips\r\n                  @change=\"change\"\r\n                  item-text=\"view_fields\"\r\n                  item-value=\"value_field\"\r\n                  multiple\r\n                  :label=\"$t('label_Other_languages')+'*'\"\r\n                  :readonly='readonly'></v-select>\r\n      </v-col>\r\n    </v-card-text>\r\n  </v-card>\r\n</template>  \r\n \r\n<script>\r\nimport { getBusinessList } from '@/service/api/func_module.js'\r\nexport default {\r\n  props: {\r\n    list: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      rules: [\r\n        v => !!v || '语言不能为空'\r\n      ],\r\n      nodorules: [\r\n        v => String(v).length <= 200 || '超过输入个数',\r\n        v => !/[@#$%^&()<>?/]/.test(v) || '请勿输入非法字符',\r\n        v => !/^ +| +$/g.test(v) || '不能输入空格',\r\n      ],\r\n      readonly: false,\r\n      select1: '',  //预设语言\r\n      select2: [],  //其他语言\r\n      listitems: [],   //下拉选择list\r\n      ysdefault: {},   //预设默认选择  判断用户是否修改\r\n      otherlanguagelist: [],  //  保存用户修改前的其他语言\r\n    }\r\n  },\r\n  watch: {\r\n    list: {\r\n      handler (val) {\r\n        // console.log('yuyan', val);\r\n        this.list = val\r\n        this.getlanguage(this.list)\r\n      },\r\n      deep: true\r\n    },\r\n    // iconstatus (v) {\r\n    //   this.readonly = v\r\n    // }\r\n  },\r\n  computed: {\r\n    mrbase_sys_client_language () { //处理语言代码逻辑\r\n      if (!this.select1) return false     //预设语言不能为空\r\n      if (!this.select2.every(item => {\r\n        return item != this.select1\r\n      })) return false\r\n      let arr = {\r\n        \"is_default_language\": 1,//是否默认值 0否 1 是（必填）\r\n        \"~table~\": \"mrbase_sys_client_language\",//表名 （必填）\r\n        \"client_language_code\": this.select1\r\n      }\r\n      let arr2 = this.select2.map(item => {\r\n        return {\r\n          \"is_default_language\": 0,//是否默认值 0否 1 是（必填）\r\n          \"~table~\": \"mrbase_sys_client_language\",//表名 （必填）\r\n          \"client_language_code\": item\r\n        }\r\n      })\r\n      return [{ ...arr }, ...arr2]\r\n      //------------------ 分割线----------------------------\r\n      //------------------ 分割线----------------------------\r\n      //------------------ 分割线----------------------------\r\n      if (!this.select1.length > 0) return false     //语言不能为空\r\n      const languagelist = []  //预设语言\r\n      if (this.select1 === this.ysdefault.client_language_code) {\r\n        languagelist.push(this.ysdefault)\r\n      }\r\n      else {\r\n        languagelist.push({\r\n          \"is_default_language\": 1,//是否默认值 0否 1 是（必填）\r\n          \"~table~\": \"mrbase_sys_client_language\",//表名 （必填）\r\n          \"client_language_code\": this.select1\r\n        })\r\n      }\r\n\r\n      // 判断select语言修改了什么\r\n      var result = []  // 删除的语言加typedel\r\n      var result2 = []    //未删除的语言不加\r\n      var otherresult = []  //新增的语言 需要加上其他字段\r\n      for (var i = 0; i < this.otherlanguagelist.length; i++) {\r\n        var client_language_code = this.otherlanguagelist[i].client_language_code\r\n        var isExist = false\r\n        for (let j = 0; j < this.select2.length; j++) {\r\n          if (this.select2[j] == client_language_code) {\r\n            isExist = true\r\n            break\r\n          }\r\n        }\r\n        if (!isExist) {\r\n          result.push({ ...this.otherlanguagelist[i], '~type~': 'del' })\r\n        }\r\n        else {\r\n          result2.push(this.otherlanguagelist[i])\r\n        }\r\n      }\r\n\r\n      for (var i = 0; i < this.select2.length; i++) {\r\n        var client_language_code = this.select2[i]\r\n        var isExist = false\r\n        for (let j = 0; j < result2.length; j++) {\r\n          if (result2[j].client_language_code === client_language_code) {\r\n            isExist = true\r\n            break\r\n          }\r\n        }\r\n        if (!isExist) {\r\n          otherresult.push(\r\n            {\r\n              \"is_default_language\": 0,\r\n              \"~table~\": \"mrbase_sys_client_language\",\r\n              \"client_language_code\": this.select2[i]\r\n            }\r\n          )\r\n        }\r\n      }\r\n      const isequality = [...result2, ...otherresult].every(item => {\r\n        return item.client_language_code != languagelist[0].client_language_code\r\n      })\r\n      if (isequality) {\r\n        return [...languagelist, ...result, ...result2, ...otherresult]\r\n      }\r\n      else {\r\n        return false\r\n      }\r\n      // console.log('删除的语言加typedel', result);\r\n      // console.log('未删除的语言不加', result2);\r\n      // console.log('新增的语言 需要加上其他字段', otherresult);\r\n    }\r\n  },\r\n  async mounted () {\r\n    // const res = await getBusinessList('user_default_language')\r\n    const res = await getBusinessList('client_language')\r\n    // console.log(res.data);\r\n    // res.data.map(item => {  //下拉列表\r\n    //   this.listitems.push(item.view_fields)\r\n    // })\r\n    this.listitems = res.data\r\n    if (this.$route.params.uuid || this.$store.state.detailuuid) {   //查看详情\r\n      this.readonly = true\r\n      if (this.list) {\r\n        this.getlanguage(this.list)\r\n      }\r\n    }\r\n    else {\r\n\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    asa () {\r\n      console.log(this.mrbase_sys_client_language);\r\n    },\r\n    change (v) {\r\n    },\r\n    getlanguage (val) {\r\n      this.select2 = []  //先清空在获取最新数据\r\n      val.map((item, index) => {  //获取数据\r\n        if (item.is_default_language == 1) {  //应该等于1\r\n          // this.select1 = val[index].client_language_code  //数据要处理\r\n          // this.ysdefault = val[index]\r\n          this.select1 = item.client_language_code\r\n        }\r\n        else {\r\n          // this.select2.push(val[index].client_language_code)\r\n          // this.otherlanguagelist.push(val[index])\r\n          this.select2.push(item.client_language_code)\r\n        }\r\n      })\r\n    },\r\n    changeis (item) {\r\n      // item.is_default_language = 1\r\n    },\r\n    changeno (item) {\r\n      // item.is_default_language = 0\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style  scoped>\r\n.box {\r\n  padding: 0 15px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yuyan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yuyan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./yuyan.vue?vue&type=template&id=4d71dccc&scoped=true&\"\nimport script from \"./yuyan.vue?vue&type=script&lang=js&\"\nexport * from \"./yuyan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./yuyan.vue?vue&type=style&index=0&id=4d71dccc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d71dccc\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=ebb2dbc4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=ebb2dbc4&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yuyan.vue?vue&type=style&index=0&id=4d71dccc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yuyan.vue?vue&type=style&index=0&id=4d71dccc&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticClass:\"linkman\"},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"hide-default-footer\":\"\",\"headers\":_vm.headers,\"items\":_vm.desserts,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.org_level_name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex flex-column\"},_vm._l((item.org_level_name),function(item1,index1){return _c('span',{key:index1},[_vm._v(\" \"+_vm._s(item1)+\" \")])}),0)]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Autor: yd\r\n * @Date: 2020-07-11 15:42:20\r\n * @LastEditors: yd\r\n * @LastEditTime: 2020-08-01 15:20:16 \r\n--> \r\n<template>\r\n  <div>\r\n    <!-- 管理员账号 -->\r\n    <v-card class=\"linkman\">\r\n      <v-data-table hide-default-footer\r\n                    :headers=\"headers\"\r\n                    :items=\"desserts\"\r\n                    :items-per-page=\"5\"\r\n                    class=\"elevation-1\">\r\n        <template v-slot:item.org_level_name=\"{ item }\">\r\n          <div class=\"d-flex flex-column\">\r\n            <span v-for=\"(item1,index1) in item.org_level_name\"\r\n                  :key=\"index1\">\r\n              {{item1}}\r\n            </span>\r\n          </div>\r\n        </template>\r\n      </v-data-table>\r\n    </v-card>\r\n  </div>\r\n</template> \r\n\r\n<style scoped>\r\n.linkman {\r\n  padding: 40px 40px;\r\n}\r\n.company {\r\n  text-align: left;\r\n}\r\n</style>\r\n \r\n<script>\r\nexport default {\r\n  props: ['list']\r\n  ,\r\n  data () {\r\n    return {\r\n      headers: [\r\n        {\r\n          text: '账号',\r\n          align: 'start',\r\n          value: 'user_account',\r\n          sortable: false\r\n        },\r\n        {\r\n          text: '管理员类型',\r\n          value: 'manager_type',\r\n          align: 'start',\r\n          sortable: false\r\n        },\r\n        {\r\n          text: '关联单位',\r\n          value: 'org_level_name',\r\n          align: 'start',\r\n          sortable: false\r\n        }\r\n      ],\r\n      desserts: [],\r\n    }\r\n  },\r\n  computed: {\r\n    mrbase_sys_org_manager () {\r\n      return this.list && this.list.map(item => {\r\n        const obj1 = {}\r\n        if (item.manager_type === 4) {\r\n          obj1['manager_type'] = '类型4'\r\n        }\r\n        if (item.manager_type === 3) {\r\n          obj1['manager_type'] = '类型3'\r\n        }\r\n        // console.log(item.org_level_name += ',1,2,3');\r\n        obj1['org_level_name'] = (String(item.org_level_name).indexOf(',') != -1) ? item.org_level_name.split(',') : [item.org_level_name];\r\n        obj1['user_account'] = item.user_account\r\n        obj1['user_pwd'] = item.user_pwd\r\n        return obj1\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.desserts = this.mrbase_sys_org_manager\r\n  },\r\n  watch: {\r\n    list: {\r\n      handler (val) {\r\n        this.desserts = this.mrbase_sys_org_manager\r\n      }, deep: true\r\n    }\r\n  }\r\n\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./clientuser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./clientuser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./clientuser.vue?vue&type=template&id=42170b0b&scoped=true&\"\nimport script from \"./clientuser.vue?vue&type=script&lang=js&\"\nexport * from \"./clientuser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./clientuser.vue?vue&type=style&index=0&id=42170b0b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42170b0b\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./clientuser.vue?vue&type=style&index=0&id=42170b0b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./clientuser.vue?vue&type=style&index=0&id=42170b0b&scoped=true&lang=css&\""],"sourceRoot":""}