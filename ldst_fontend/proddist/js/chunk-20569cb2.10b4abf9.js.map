{"version":3,"sources":["webpack:///./src/views/clientmanage/clientdetail/yuyan.vue?01c0","webpack:///./src/views/clientmanage/clientdetail/baimingdan.vue?7df3","webpack:///src/views/clientmanage/clientdetail/baimingdan.vue","webpack:///./src/views/clientmanage/clientdetail/baimingdan.vue?ddca","webpack:///./src/views/clientmanage/clientdetail/baimingdan.vue","webpack:///./src/views/clientmanage/addnewuser.vue?6c5b","webpack:///./src/views/clientmanage/addnewuser.vue?ea06","webpack:///./src/views/clientmanage/clientdetail/quanxianpeizhi.vue?76a3","webpack:///./src/views/clientmanage/clientdetail/quanxianpeizhi.vue?3974","webpack:///src/views/clientmanage/clientdetail/quanxianpeizhi.vue","webpack:///./src/views/clientmanage/clientdetail/quanxianpeizhi.vue?a9b1","webpack:///./src/views/clientmanage/clientdetail/quanxianpeizhi.vue","webpack:///./src/views/clientmanage/addnewuser.vue?b7f0","webpack:///src/views/clientmanage/addnewuser.vue","webpack:///./src/views/clientmanage/addnewuser.vue?115f","webpack:///./src/views/clientmanage/addnewuser.vue","webpack:///./src/views/clientmanage/clientdetail/yuyan.vue?35bc","webpack:///src/views/clientmanage/clientdetail/yuyan.vue","webpack:///./src/views/clientmanage/clientdetail/yuyan.vue?4b51","webpack:///./src/views/clientmanage/clientdetail/yuyan.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$t","list","isemail","readonly","on","verifyemail","emailverify","model","value","callback","$$v","states","expression","staticRenderFns","props","type","Array","default","Boolean","data","disabled","select","datastorage","watch","handler","val","deep","computed","mounted","$store","state","detailuuid","methods","v","isErr","pop","component","ref","treeList","isload","uuidslist","getData","components","getchangeref","$refs","reftree","getCheckData","function_permission","typedelmethods","result","i","oldarr","length","c_value","comparisonvalue","isExist","newarr","j","push","e1","_v","_s","edmit","getuserzl","alltreelist","$event","changee1","getuserqx","getuseryx","btnloading","submit","adduser","baimingdan","btndisabled","valid","xzuserlist","zjadduser","userdetail","client_address_province_id","client_address_city_id","mrbase_sys_function_permission","zjquanxian","mrbase_sys_client_contacts","desserts","mrbase_sys_client_language","zjyuyan","mrbase_sys_client_whitelist_email","zjbaimingdan","forEach","item","obj","formverify","$myConfirm","emailbtnchange","content","name","file1","light_mode_icon","path","size","file2","dark_mode_icon","listitems","select1","change","select2","rules","nodorules","ysdefault","otherlanguagelist","getlanguage","every","map","asa","console","log","is_default_language","changeis","changeno"],"mappings":"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","file":"js/chunk-20569cb2.10b4abf9.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yuyan.vue?vue&type=style&index=0&id=c17596d0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yuyan.vue?vue&type=style&index=0&id=c17596d0&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pl-8 pr-8 pt-8\"},[_c('v-combobox',{attrs:{\"label\":_vm.$t('label_Email_whitelist_Settings')+'*',\"multiple\":\"\",\"items\":_vm.list,\"validate-on-blur\":true,\"item-text\":\"client_whitelist_email\",\"item-value\":\"uuid\",\"chips\":\"\",\"error-messages\":_vm.isemail,\"readonly\":_vm.readonly},on:{\"update:search-input\":_vm.verifyemail,\"input\":_vm.emailverify},model:{value:(_vm.states),callback:function ($$v) {_vm.states=$$v},expression:\"states\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Autor: yd\r\n * @Date: 2020-06-23 17:44:37\r\n * @LastEditors: yd\r\n * @LastEditTime: 2020-08-15 11:46:06\r\n--> \r\n<template>\r\n  <div class=\"pl-8 pr-8 pt-8\">\r\n    <!--白名单 -->\r\n    <v-combobox v-model=\"states\"\r\n                :label=\"$t('label_Email_whitelist_Settings')+'*'\"\r\n                multiple\r\n                :items=\"list\"\r\n                :validate-on-blur='true'\r\n                item-text=\"client_whitelist_email\"\r\n                item-value=\"uuid\"\r\n                chips\r\n                @update:search-input='verifyemail'\r\n                @input=\"emailverify\"\r\n                :error-messages='isemail'\r\n                :readonly='readonly'></v-combobox>\r\n  </div>\r\n</template>  \r\n\r\n<script> \r\nexport default {\r\n  props: {\r\n    list: {\r\n      type: Array,\r\n      default: () => { return [] }\r\n    },\r\n    readonly: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      states: [],//默认显示\r\n      disabled: false,\r\n      select: [],  //添加的数组\r\n      datastorage: this.list, //保存已有数据\r\n      isemail: '' //错误消息文本\r\n    }\r\n  },\r\n  watch: {\r\n    list: {\r\n      handler (val) {\r\n        this.states = val\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  mounted () {\r\n    if (this.$store.state.detailuuid) {\r\n      this.states = this.list\r\n    }\r\n    else {\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    // cancel () { },\r\n    // success () {\r\n    //   if (this.isemail != '') {\r\n    //     console.log('错误');\r\n    //   }\r\n    //   else {\r\n    //     console.log('正确');\r\n    //     console.log(this.states);\r\n    //   }\r\n    // },\r\n    verifyemail (v) {\r\n      if (v != null) {\r\n        const isErr = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/.test(v)\r\n        if (isErr) {\r\n          this.isemail = ''\r\n        }\r\n        else {\r\n          this.isemail = this.$t('verify_The_mailbox_format_is_wrong')\r\n        }\r\n      }\r\n      else {\r\n        this.isemail = ''\r\n      }\r\n    },\r\n    emailverify (v) {\r\n      if (this.isemail != '') {\r\n        this.states.pop()\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./baimingdan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./baimingdan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./baimingdan.vue?vue&type=template&id=44ffc5f2&\"\nimport script from \"./baimingdan.vue?vue&type=script&lang=js&\"\nexport * from \"./baimingdan.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addnewuser.vue?vue&type=style&index=1&id=36faaad0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addnewuser.vue?vue&type=style&index=1&id=36faaad0&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addnewuser.vue?vue&type=style&index=0&id=36faaad0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addnewuser.vue?vue&type=style&index=0&id=36faaad0&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quanxianpeizhi.vue?vue&type=style&index=0&id=78ae20f4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quanxianpeizhi.vue?vue&type=style&index=0&id=78ae20f4&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"pl-8 pr-8 pt-8\"},[[_c('mrc_ess_mytree',{ref:\"reftree\",attrs:{\"list\":_vm.treeList,\"disabled\":_vm.disabled,\"isload\":_vm.isload,\"uuids\":_vm.uuidslist},on:{\"getData\":_vm.getData}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Autor: yd\r\n * @Date: 2020-07-22 17:17:18\r\n * @LastEditors: yd\r\n * @LastEditTime: 2020-08-20 17:11:56\r\n-->\r\n<template>\r\n  <v-card class=\"pl-8 pr-8 pt-8\">\r\n    <template>\r\n      <mrc_ess_mytree :list='treeList'\r\n                      @getData='getData'\r\n                      :disabled='disabled'\r\n                      :isload='isload'\r\n                      :uuids='uuidslist'\r\n                      ref='reftree'></mrc_ess_mytree>\r\n    </template>\r\n  </v-card>\r\n</template>    \r\n\r\n<script>  \r\nimport { updatequanxian, getTreeList } from '@/service/api/clientmanage_api.js'\r\n\r\nexport default {\r\n  components: {\r\n  },\r\n  props: {\r\n    uuidslist: {  //用户选中的按钮\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data: () => ({\r\n    oldtree: [],  //老数据 用户一开始的数据\r\n    function_permission: [//功能权限 用户实时选中的数据   \r\n    ],\r\n    delete_function_buttons: [], //删除数据\r\n    uuids: [],\r\n    isload: false,\r\n    treeList: [] //完整的树\r\n  }),\r\n  watch: {\r\n  },\r\n  methods: {\r\n    getchangeref () {\r\n      return this.$refs.reftree.getCheckData()\r\n    },\r\n    getData (v) {  //获取最新的选择列表\r\n      // console.log(v);\r\n      this.function_permission = v\r\n    },\r\n    typedelmethods (oldarr, newarr, comparisonvalue) { //加typedel方法\r\n      var result = []  //\r\n      for (var i = 0; i < oldarr.length; i++) {\r\n        var c_value = oldarr[i].comparisonvalue\r\n        var isExist = false\r\n        for (let j = 0; j < newarr.length; j++) {\r\n          if (newarr[j].comparisonvalue == c_value) {\r\n            isExist = true\r\n            break\r\n          }\r\n        }\r\n        if (!isExist) {\r\n          result.push({ ...oldarr[i], '~type~': 'del' })\r\n        }\r\n      }\r\n      return result\r\n    },\r\n    async gettreelist () { //获取默认tree树  \r\n      const listtree = await getTreeList()\r\n      this.treeList = listtree.data\r\n    },\r\n  },\r\n  async mounted () {\r\n    await this.gettreelist()\r\n    this.isload = false\r\n    this.isload = true\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* .treecontent {\r\n  display: flex;\r\n} */\r\n.bigbox {\r\n  background-color: #eeeef0;\r\n}\r\n.box {\r\n  background-color: white;\r\n}\r\n.headers {\r\n  display: flex;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quanxianpeizhi.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quanxianpeizhi.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./quanxianpeizhi.vue?vue&type=template&id=78ae20f4&scoped=true&\"\nimport script from \"./quanxianpeizhi.vue?vue&type=script&lang=js&\"\nexport * from \"./quanxianpeizhi.vue?vue&type=script&lang=js&\"\nimport style0 from \"./quanxianpeizhi.vue?vue&type=style&index=0&id=78ae20f4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78ae20f4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"dv\"},[_c('v-form',[_c('v-stepper',{model:{value:(_vm.e1),callback:function ($$v) {_vm.e1=$$v},expression:\"e1\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.e1 > 1,\"step\":\"1\"}},[_vm._v(_vm._s(_vm.$t('label_Customer_data')))]),_c('v-divider'),_c('v-stepper-step',{attrs:{\"complete\":_vm.e1 > 2,\"step\":\"2\"}},[_vm._v(_vm._s(_vm.$t('label_Functional_authority')))]),_c('v-divider'),_c('v-stepper-step',{attrs:{\"step\":\"3\",\"complete\":_vm.e1 > 3}},[_vm._v(_vm._s(_vm.$t('label_Email_Whitelist')))]),_c('v-divider'),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(_vm._s(_vm.$t('label_language')))])],1),_c('v-stepper-items',[_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-card',{staticClass:\"cardbox\"},[_c('adduser',{ref:\"zjadduser\"}),_c('mrc_ess_submitBtn',{attrs:{\"cancelText\":_vm.$t('label_cancel'),\"successText\":_vm.$t('label_The_next_step')},on:{\"cancel\":_vm.edmit,\"success\":_vm.getuserzl}})],1)],1),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-card',[_c('quanxian',{ref:\"zjquanxian\",attrs:{\"list\":_vm.alltreelist}})],1),_c('mrc_ess_submitBtn',{attrs:{\"cancelText\":_vm.$t('label_The_previous_step'),\"successText\":_vm.$t('label_The_next_step')},on:{\"cancel\":function($event){return _vm.changee1(1)},\"success\":_vm.getuserqx}})],1),_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('v-card',[_c('baimingdan',{ref:\"zjbaimingdan\"})],1),_c('mrc_ess_submitBtn',{attrs:{\"cancelText\":_vm.$t('label_The_previous_step'),\"successText\":_vm.$t('label_The_next_step')},on:{\"cancel\":function($event){return _vm.changee1(2)},\"success\":_vm.getuseryx}})],1),_c('v-stepper-content',{attrs:{\"step\":\"4\"}},[_c('v-card',[_c('yuyan',{ref:\"zjyuyan\"})],1),_c('mrc_ess_submitBtn',{attrs:{\"loading\":_vm.btnloading,\"cancelText\":_vm.$t('label_The_previous_step'),\"successText\":_vm.$t('label_submit')},on:{\"cancel\":function($event){return _vm.changee1(3)},\"success\":_vm.submit}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card class=\"dv\">\r\n    <v-form>\r\n      <v-stepper v-model=\"e1\">\r\n        <v-stepper-header>\r\n          <v-stepper-step :complete=\"e1 > 1\"\r\n                          step=\"1\">{{$t('label_Customer_data')}}</v-stepper-step>\r\n\r\n          <v-divider></v-divider>\r\n\r\n          <v-stepper-step :complete=\"e1 > 2\"\r\n                          step=\"2\">{{$t('label_Functional_authority')}}</v-stepper-step>\r\n\r\n          <v-divider></v-divider>\r\n\r\n          <v-stepper-step step=\"3\"\r\n                          :complete=\"e1 > 3\">{{$t('label_Email_Whitelist')}}</v-stepper-step>\r\n          <v-divider></v-divider>\r\n\r\n          <v-stepper-step step=\"4\">{{$t('label_language')}}</v-stepper-step>\r\n\r\n        </v-stepper-header>\r\n\r\n        <v-stepper-items>\r\n          <!-- 客户资料 -->\r\n          <v-stepper-content step=\"1\">\r\n            <v-card class='cardbox'>\r\n              <adduser ref=\"zjadduser\"></adduser>\r\n\r\n              <mrc_ess_submitBtn @cancel='edmit'\r\n                                 @success='getuserzl'\r\n                                 :cancelText=\"$t('label_cancel')\"\r\n                                 :successText=\"$t('label_The_next_step')\"></mrc_ess_submitBtn>\r\n            </v-card>\r\n\r\n          </v-stepper-content>\r\n          <!-- 功能权限 -->\r\n          <v-stepper-content step=\"2\">\r\n            <v-card>\r\n              <quanxian ref=\"zjquanxian\"\r\n                        :list='alltreelist'></quanxian>\r\n            </v-card>\r\n            <mrc_ess_submitBtn @cancel='changee1(1)'\r\n                               @success='getuserqx'\r\n                               :cancelText=\"$t('label_The_previous_step')\"\r\n                               :successText=\"$t('label_The_next_step')\"></mrc_ess_submitBtn>\r\n          </v-stepper-content>\r\n          <!-- 邮箱白名单 -->\r\n          <v-stepper-content step=\"3\">\r\n            <v-card>\r\n              <baimingdan ref='zjbaimingdan'></baimingdan>\r\n            </v-card>\r\n            <mrc_ess_submitBtn @cancel='changee1(2)'\r\n                               @success='getuseryx'\r\n                               :cancelText=\"$t('label_The_previous_step')\"\r\n                               :successText=\"$t('label_The_next_step')\"></mrc_ess_submitBtn>\r\n          </v-stepper-content>\r\n          <!-- 语言 -->\r\n          <v-stepper-content step=\"4\">\r\n            <v-card>\r\n              <yuyan ref=\"zjyuyan\"></yuyan>\r\n            </v-card>\r\n            <mrc_ess_submitBtn @cancel='changee1(3)'\r\n                               @success='submit'\r\n                               :loading='btnloading'\r\n                               :cancelText=\"$t('label_The_previous_step')\"\r\n                               :successText=\"$t('label_submit')\"></mrc_ess_submitBtn>\r\n          </v-stepper-content>\r\n        </v-stepper-items>\r\n      </v-stepper>\r\n    </v-form>\r\n  </v-card>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.btn {\r\n  color: rgb(255, 173, 77);\r\n  margin: 27px 60px;\r\n  border-radius: 20%;\r\n}\r\n.btn:hover {\r\n  background-color: rgb(255, 173, 77);\r\n  color: white;\r\n}\r\n.btnbgd {\r\n  background-color: #ccc;\r\n  // margin: 0 30px;\r\n  height: 80px;\r\n}\r\n.cardbox {\r\n  background-color: white;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport adduser from './clientdetail/modules/adduser'\r\nimport baimingdan from './clientdetail/baimingdan'\r\nimport quanxian from './clientdetail/quanxianpeizhi'\r\nimport yuyan from './clientdetail/yuyan'\r\nimport { adduserclientdetail, getTreeList } from '@/service/api/clientmanage_api.js'\r\nexport default {\r\n  components: {\r\n    adduser,\r\n    baimingdan, quanxian, yuyan\r\n  },\r\n  data () {\r\n    return {\r\n      btndisabled: false,\r\n      btnloading: false,//按钮加载状态\r\n      valid: false,\r\n      e1: 1,\r\n      alltreelist: []\r\n      // xzuserlist: {},//新增用户资料\r\n      // mrbase_sys_function_permission: {},//客户功能角色权限子表\r\n      // mrbase_sys_client_contacts: {},//客户联系人信息表\r\n      // mrbase_sys_client_language: {},\t//客户语言子表\r\n      // mrbase_sys_client_whitelist_email: {}\t//客户邮箱白名单子表\r\n    }\r\n  },\r\n  computed: {\r\n    xzuserlist () {  //新增用户资料  \r\n      if (!this.$refs.zjadduser.userdetail.client_address_province_id) {\r\n        delete this.$refs.zjadduser.userdetail.client_address_province_id\r\n      }\r\n      if (!this.$refs.zjadduser.userdetail.client_address_city_id) {\r\n        delete this.$refs.zjadduser.userdetail.client_address_city_id\r\n      }\r\n      return this.$refs.zjadduser.userdetail\r\n    },\r\n    mrbase_sys_function_permission () {     //客户功能角色权限子表\r\n      // console.log(this.$refs.zjquanxian.function_permission);\r\n      return this.$refs.zjquanxian.getchangeref()\r\n    },\r\n    mrbase_sys_client_contacts () {     //客户联系人信息表\r\n      return this.$refs.zjadduser.desserts //数组\r\n    },\r\n    mrbase_sys_client_language () {     //客户语言子表\r\n      return this.$refs.zjyuyan.mrbase_sys_client_language\r\n    },\r\n    mrbase_sys_client_whitelist_email () {\r\n      const baimingdan = []     //客户邮箱白名单子表\r\n      this.$refs.zjbaimingdan.states.forEach(item => {\r\n        const obj = {\r\n          \"~table~\": \"mrbase_sys_client_whitelist_email\",\r\n          \"client_whitelist_email\": item\r\n        }\r\n        baimingdan.push(obj)\r\n      })  //数组\r\n      return baimingdan\r\n    },\r\n    // dd () {\r\n    //   return 13\r\n    // }\r\n  },\r\n  async mounted () {\r\n    // 获取默认tree树  无接口 alltreelist\r\n    await this.gettreelist()\r\n    // console.log(this.alltreelist);\r\n  },\r\n  methods: {\r\n    async gettreelist () { //获取默认tree树  \r\n      const listtree = await getTreeList()\r\n      this.alltreelist = listtree.data\r\n    },\r\n    // 获取新增的用户资料，存取在vuex里面\r\n    getuserzl (val) {\r\n      // this.e1 = 2\r\n      if (this.$refs.zjadduser.formverify()) {\r\n        this.e1 = 2\r\n      }\r\n      else {\r\n        this.$myConfirm({ content: this.$t('message_The_information_was_not_entered_completely') }).then(() => { }).catch(() => { })\r\n      }\r\n    },\r\n    emailbtnchange (v) {\r\n      this.btndisabled = v\r\n    },\r\n    // 获取权限数据\r\n    getuserqx (val) {\r\n      // console.log(this.$refs.zjquanxian.getchangeref()); \r\n      if (!this.mrbase_sys_function_permission.length > 0) return this.$myConfirm({\r\n        content: this.$t('message_Permissions_cannot_be_empty')\r\n      })\r\n      else {\r\n        this.changee1(3)\r\n      }\r\n    },\r\n    // 获取邮箱白名单\r\n    getuseryx () {\r\n      if (this.$refs.zjbaimingdan.isemail != '') {\r\n        this.$myConfirm({\r\n          content: this.$t('verify_The_mailbox_format_is_wrong')\r\n        })\r\n      }\r\n      else {\r\n        this.e1 = 4\r\n      }\r\n    },\r\n    changee1 (v) {\r\n      this.e1 = v\r\n    },\r\n    // 取消\r\n    edmit () {\r\n      this.$myConfirm({\r\n        content: this.$t('message_Confirm_the_deletion')\r\n      }).then(res => {\r\n        this.$router.push({\r\n          name: 'clientmanage'\r\n        })\r\n      }).catch(err => { })\r\n    },\r\n    // 总提交 添加新的用户  \r\n    submit () {\r\n      // 获取子组件语言数据\r\n      // console.log(this.mrbase_sys_client_language);\r\n      // console.log(this.mrbase_sys_client_whitelist_email);\r\n      // console.log(this.mrbase_sys_client_contacts);\r\n      // if (!this.mrbase_sys_client_language) this.$store.commit('newsTips', '语言不能为空')\r\n      if (!this.mrbase_sys_client_language) return this.$myConfirm({\r\n        content: this.$t('message_default_language_must_be_selected')\r\n      })\r\n      let file1 = this.$refs.zjadduser.light_mode_icon_file\r\n      let file2 = this.$refs.zjadduser.dark_mode_icon_file\r\n      if (file1 == '') {\r\n        this.xzuserlist.light_mode_icon = {\r\n          name: '',\r\n          path: '',\r\n          size: ''\r\n        }\r\n      }\r\n      if (file2 == '') {\r\n        this.xzuserlist.dark_mode_icon = {\r\n          name: '',\r\n          path: '',\r\n          size: ''\r\n        }\r\n      }\r\n      this.xzuserlist.mrbase_sys_function_permission = this.mrbase_sys_function_permission\r\n      this.xzuserlist.mrbase_sys_client_contacts = this.mrbase_sys_client_contacts\r\n      this.xzuserlist.mrbase_sys_client_whitelist_email = this.mrbase_sys_client_whitelist_email\r\n      this.xzuserlist.mrbase_sys_client_language = this.mrbase_sys_client_language\r\n      // console.log('xzuser', this.xzuserlist);\r\n      this.btnloading = !this.btnloading\r\n      adduserclientdetail(this.xzuserlist).then(async res => {\r\n        if (res.code == 200) {\r\n          //上传文件\r\n          let res1 = null\r\n          let res2 = null\r\n          if (file1 && file1.length > 0) {\r\n            res1 = await this.$uploadFiles(file1, {\r\n              function_uuid: this.$store.state.menuFunctionUuid,\r\n              attachment_data_table: 'mrbase_sys_clients',\r\n              attachment_data_field: 'light_mode_icon',\r\n              org_level_uuid: this.$store.state.currentCompany,\r\n              uuid: res.data.uuid,\r\n            })\r\n          }\r\n          if (file2 && file2.length > 0) {\r\n            res2 = await this.$uploadFiles(file2, {\r\n              function_uuid: this.$store.state.menuFunctionUuid,\r\n              attachment_data_table: 'mrbase_sys_clients',\r\n              attachment_data_field: 'dark_mode_icon',\r\n              org_level_uuid: this.$store.state.currentCompany,\r\n              uuid: res.data.uuid,\r\n            })\r\n          }\r\n          this.$Message({ text: this.$t('message_The_operation_was_successful') })\r\n          this.$router.push({\r\n            name: 'clientmanage'\r\n          })\r\n        }\r\n        else {\r\n          this.$Message({ text: res.msg })\r\n          this.btnloading = !this.btnloading\r\n        }\r\n      }).catch(err => {\r\n        this.btnloading = !this.btnloading\r\n      })\r\n    }\r\n  }\r\n  ,\r\n  watch: {\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.v-stepper {\r\n  box-shadow: none;\r\n}\r\n.v-stepper__header {\r\n  background-color: #eeeef0;\r\n  box-shadow: none;\r\n}\r\n.v-stepper__content {\r\n  padding: 0px 0px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addnewuser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addnewuser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addnewuser.vue?vue&type=template&id=36faaad0&scoped=true&\"\nimport script from \"./addnewuser.vue?vue&type=script&lang=js&\"\nexport * from \"./addnewuser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addnewuser.vue?vue&type=style&index=0&id=36faaad0&lang=scss&scoped=true&\"\nimport style1 from \"./addnewuser.vue?vue&type=style&index=1&id=36faaad0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36faaad0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-text',[_c('v-col',{attrs:{\"cols\":\" 12\"}},[_c('v-select',{attrs:{\"items\":_vm.listitems,\"chips\":\"\",\"item-text\":\"view_fields\",\"item-value\":\"value_field\",\"label\":_vm.$t('label_The_default_language')+'*',\"readonly\":_vm.readonly},model:{value:(_vm.select1),callback:function ($$v) {_vm.select1=$$v},expression:\"select1\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{attrs:{\"items\":_vm.listitems,\"chips\":\"\",\"item-text\":\"view_fields\",\"item-value\":\"value_field\",\"multiple\":\"\",\"label\":_vm.$t('label_Other_languages')+'*',\"readonly\":_vm.readonly},on:{\"change\":_vm.change},model:{value:(_vm.select2),callback:function ($$v) {_vm.select2=$$v},expression:\"select2\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 语言 v-if=\"$route.params.uuid\"-->\r\n  <v-card>\r\n    <v-card-text>\r\n      <v-col cols=\" 12\">\r\n        <v-select v-model=\"select1\"\r\n                  :items=\"listitems\"\r\n                  chips\r\n                  item-text=\"view_fields\"\r\n                  item-value=\"value_field\"\r\n                  :label=\"$t('label_The_default_language')+'*'\"\r\n                  :readonly='readonly'></v-select>\r\n      </v-col>\r\n      <v-col cols=\"12\">\r\n        <v-select v-model=\"select2\"\r\n                  :items=\"listitems\"\r\n                  chips\r\n                  @change=\"change\"\r\n                  item-text=\"view_fields\"\r\n                  item-value=\"value_field\"\r\n                  multiple\r\n                  :label=\"$t('label_Other_languages')+'*'\"\r\n                  :readonly='readonly'></v-select>\r\n      </v-col>\r\n    </v-card-text>\r\n  </v-card>\r\n</template>  \r\n \r\n<script>\r\nimport { getBusinessList } from '@/service/api/func_module.js'\r\nexport default {\r\n  props: {\r\n    list: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      rules: [\r\n        v => !!v || '语言不能为空'\r\n      ],\r\n      nodorules: [\r\n        v => String(v).length <= 200 || '超过输入个数',\r\n        v => !/[@#$%^&()<>?/]/.test(v) || '请勿输入非法字符',\r\n        v => !/^ +| +$/g.test(v) || '不能输入空格',\r\n      ],\r\n      readonly: false,\r\n      select1: '',  //预设语言\r\n      select2: [],  //其他语言\r\n      listitems: [],   //下拉选择list\r\n      ysdefault: {},   //预设默认选择  判断用户是否修改\r\n      otherlanguagelist: [],  //  保存用户修改前的其他语言\r\n    }\r\n  },\r\n  watch: {\r\n    list: {\r\n      handler (val) {\r\n        // console.log('yuyan', val);\r\n        this.list = val\r\n        this.getlanguage(this.list)\r\n      },\r\n      deep: true\r\n    },\r\n    // iconstatus (v) {\r\n    //   this.readonly = v\r\n    // }\r\n  },\r\n  computed: {\r\n    mrbase_sys_client_language () { //处理语言代码逻辑\r\n      if (!this.select1) return false     //预设语言不能为空\r\n      if (!this.select2.every(item => {\r\n        return item != this.select1\r\n      })) return false\r\n      this.select1 = {\r\n        \"is_default_language\": 1,//是否默认值 0否 1 是（必填）\r\n        \"~table~\": \"mrbase_sys_client_language\",//表名 （必填）\r\n        \"client_language_code\": this.select1\r\n      }\r\n      this.select2 = this.select2.map(item => {\r\n        return item = {\r\n          \"is_default_language\": 0,//是否默认值 0否 1 是（必填）\r\n          \"~table~\": \"mrbase_sys_client_language\",//表名 （必填）\r\n          \"client_language_code\": item\r\n        }\r\n      })\r\n      return [{ ...this.select1 }, ...this.select2]\r\n      //------------------ 分割线----------------------------\r\n      //------------------ 分割线----------------------------\r\n      //------------------ 分割线----------------------------\r\n      if (!this.select1.length > 0) return false     //语言不能为空\r\n      const languagelist = []  //预设语言\r\n      if (this.select1 === this.ysdefault.client_language_code) {\r\n        languagelist.push(this.ysdefault)\r\n      }\r\n      else {\r\n        languagelist.push({\r\n          \"is_default_language\": 1,//是否默认值 0否 1 是（必填）\r\n          \"~table~\": \"mrbase_sys_client_language\",//表名 （必填）\r\n          \"client_language_code\": this.select1\r\n        })\r\n      }\r\n\r\n      // 判断select语言修改了什么\r\n      var result = []  // 删除的语言加typedel\r\n      var result2 = []    //未删除的语言不加\r\n      var otherresult = []  //新增的语言 需要加上其他字段\r\n      for (var i = 0; i < this.otherlanguagelist.length; i++) {\r\n        var client_language_code = this.otherlanguagelist[i].client_language_code\r\n        var isExist = false\r\n        for (let j = 0; j < this.select2.length; j++) {\r\n          if (this.select2[j] == client_language_code) {\r\n            isExist = true\r\n            break\r\n          }\r\n        }\r\n        if (!isExist) {\r\n          result.push({ ...this.otherlanguagelist[i], '~type~': 'del' })\r\n        }\r\n        else {\r\n          result2.push(this.otherlanguagelist[i])\r\n        }\r\n      }\r\n\r\n      for (var i = 0; i < this.select2.length; i++) {\r\n        var client_language_code = this.select2[i]\r\n        var isExist = false\r\n        for (let j = 0; j < result2.length; j++) {\r\n          if (result2[j].client_language_code === client_language_code) {\r\n            isExist = true\r\n            break\r\n          }\r\n        }\r\n        if (!isExist) {\r\n          otherresult.push(\r\n            {\r\n              \"is_default_language\": 0,\r\n              \"~table~\": \"mrbase_sys_client_language\",\r\n              \"client_language_code\": this.select2[i]\r\n            }\r\n          )\r\n        }\r\n      }\r\n      const isequality = [...result2, ...otherresult].every(item => {\r\n        return item.client_language_code != languagelist[0].client_language_code\r\n      })\r\n      if (isequality) {\r\n        return [...languagelist, ...result, ...result2, ...otherresult]\r\n      }\r\n      else {\r\n        return false\r\n      }\r\n      // console.log('删除的语言加typedel', result);\r\n      // console.log('未删除的语言不加', result2);\r\n      // console.log('新增的语言 需要加上其他字段', otherresult);\r\n    }\r\n  },\r\n  async mounted () {\r\n    // const res = await getBusinessList('user_default_language')\r\n    const res = await getBusinessList('client_language')\r\n    // console.log(res.data);\r\n    // res.data.map(item => {  //下拉列表\r\n    //   this.listitems.push(item.view_fields)\r\n    // })\r\n    this.listitems = res.data\r\n    if (this.$route.params.uuid || this.$store.state.detailuuid) {   //查看详情\r\n      this.readonly = true\r\n      if (this.list) {\r\n        this.getlanguage(this.list)\r\n      }\r\n    }\r\n    else {\r\n\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    asa () {\r\n      console.log(this.mrbase_sys_client_language);\r\n    },\r\n    change (v) {\r\n    },\r\n    getlanguage (val) {\r\n      this.select2 = []  //先清空在获取最新数据\r\n      val.map((item, index) => {  //获取数据\r\n        if (item.is_default_language == 1) {  //应该等于1\r\n          // this.select1 = val[index].client_language_code  //数据要处理\r\n          // this.ysdefault = val[index]\r\n          this.select1 = item.client_language_code\r\n        }\r\n        else {\r\n          // this.select2.push(val[index].client_language_code)\r\n          // this.otherlanguagelist.push(val[index])\r\n          this.select2.push(item.client_language_code)\r\n        }\r\n      })\r\n    },\r\n    changeis (item) {\r\n      // item.is_default_language = 1\r\n    },\r\n    changeno (item) {\r\n      // item.is_default_language = 0\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style  scoped>\r\n.box {\r\n  padding: 0 15px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yuyan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yuyan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./yuyan.vue?vue&type=template&id=c17596d0&scoped=true&\"\nimport script from \"./yuyan.vue?vue&type=script&lang=js&\"\nexport * from \"./yuyan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./yuyan.vue?vue&type=style&index=0&id=c17596d0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c17596d0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}