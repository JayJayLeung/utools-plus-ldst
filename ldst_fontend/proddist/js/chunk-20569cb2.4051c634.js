(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20569cb2","chunk-661b0350","chunk-2d0ab6cc"],{"0d6e":function(e,t,s){"use strict";var n=s("f020"),a=s.n(n);a.a},"14e8":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pl-8 pr-8 pt-8"},[s("v-combobox",{attrs:{label:e.$t("label_Email_whitelist_Settings")+"*",multiple:"",items:e.list,"validate-on-blur":!0,"item-text":"client_whitelist_email","item-value":"uuid",chips:"","error-messages":e.isemail,readonly:e.readonly},on:{"update:search-input":e.verifyemail,input:e.emailverify},model:{value:e.states,callback:function(t){e.states=t},expression:"states"}})],1)},a=[],i={props:{list:{type:Array,default:function(){return[]}},readonly:{type:Boolean,default:!1}},data:function(){return{states:[],disabled:!1,select:[],datastorage:this.list,isemail:""}},watch:{list:{handler:function(e){this.states=e},deep:!0}},computed:{},mounted:function(){this.$store.state.detailuuid&&(this.states=this.list)},methods:{verifyemail:function(e){if(null!=e){var t=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e);this.isemail=t?"":this.$t("verify_The_mailbox_format_is_wrong")}else this.isemail=""},emailverify:function(e){""!=this.isemail&&this.states.pop()}}},r=i,c=s("2877"),l=Object(c["a"])(r,n,a,!1,null,null,null);t["default"]=l.exports},"20d9":function(e,t,s){"use strict";var n=s("feca"),a=s.n(n);a.a},"228d":function(e,t,s){"use strict";var n=s("5a33"),a=s.n(n);a.a},"4be8":function(e,t,s){"use strict";var n=s("6d2c"),a=s.n(n);a.a},"5a33":function(e,t,s){},"5c7c":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"pl-8 pr-8 pt-8"},[[s("mrc_ess_mytree",{ref:"reftree",attrs:{list:e.treeList,disabled:e.disabled,isload:e.isload,uuids:e.uuidslist},on:{getData:e.getData}})]],2)},a=[],i=(s("96cf"),s("1da1")),r=s("5530"),c=s("b7e6"),l={components:{},props:{uuidslist:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1}},data:function(){return{oldtree:[],function_permission:[],delete_function_buttons:[],uuids:[],isload:!1,treeList:[]}},watch:{},methods:{getchangeref:function(){return this.$refs.reftree.getCheckData()},getData:function(e){this.function_permission=e},typedelmethods:function(e,t,s){for(var n=[],a=0;a<e.length;a++){for(var i=e[a].comparisonvalue,c=!1,l=0;l<t.length;l++)if(t[l].comparisonvalue==i){c=!0;break}c||n.push(Object(r["a"])(Object(r["a"])({},e[a]),{},{"~type~":"del"}))}return n},gettreelist:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["getTreeList"])();case 2:t=e.sent,this.treeList=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.gettreelist();case 2:this.isload=!1,this.isload=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},u=l,o=(s("4be8"),s("2877")),d=Object(o["a"])(u,n,a,!1,null,"78ae20f4",null);t["default"]=d.exports},"6d2c":function(e,t,s){},"6edc":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"dv"},[s("v-form",[s("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[s("v-stepper-header",[s("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v(e._s(e.$t("label_Customer_data")))]),s("v-divider"),s("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v(e._s(e.$t("label_Functional_authority")))]),s("v-divider"),s("v-stepper-step",{attrs:{step:"3",complete:e.e1>3}},[e._v(e._s(e.$t("label_Email_Whitelist")))]),s("v-divider"),s("v-stepper-step",{attrs:{step:"4"}},[e._v(e._s(e.$t("label_language")))])],1),s("v-stepper-items",[s("v-stepper-content",{attrs:{step:"1"}},[s("v-card",{staticClass:"cardbox"},[s("adduser",{ref:"zjadduser"}),s("mrc_ess_submitBtn",{attrs:{cancelText:e.$t("label_cancel"),successText:e.$t("label_The_next_step")},on:{cancel:e.edmit,success:e.getuserzl}})],1)],1),s("v-stepper-content",{attrs:{step:"2"}},[s("v-card",[s("quanxian",{ref:"zjquanxian",attrs:{list:e.alltreelist}})],1),s("mrc_ess_submitBtn",{attrs:{cancelText:e.$t("label_The_previous_step"),successText:e.$t("label_The_next_step")},on:{cancel:function(t){return e.changee1(1)},success:e.getuserqx}})],1),s("v-stepper-content",{attrs:{step:"3"}},[s("v-card",[s("baimingdan",{ref:"zjbaimingdan"})],1),s("mrc_ess_submitBtn",{attrs:{cancelText:e.$t("label_The_previous_step"),successText:e.$t("label_The_next_step")},on:{cancel:function(t){return e.changee1(2)},success:e.getuseryx}})],1),s("v-stepper-content",{attrs:{step:"4"}},[s("v-card",[s("yuyan",{ref:"zjyuyan"})],1),s("mrc_ess_submitBtn",{attrs:{loading:e.btnloading,cancelText:e.$t("label_The_previous_step"),successText:e.$t("label_submit")},on:{cancel:function(t){return e.changee1(3)},success:e.submit}})],1)],1)],1)],1)],1)},a=[],i=(s("4160"),s("159b"),s("96cf"),s("1da1")),r=s("2926"),c=s("14e8"),l=s("5c7c"),u=s("8d3e"),o=s("b7e6"),d={components:{adduser:r["default"],baimingdan:c["default"],quanxian:l["default"],yuyan:u["default"]},data:function(){return{btndisabled:!1,btnloading:!1,valid:!1,e1:1,alltreelist:[]}},computed:{xzuserlist:function(){return this.$refs.zjadduser.userdetail.client_address_province_id||delete this.$refs.zjadduser.userdetail.client_address_province_id,this.$refs.zjadduser.userdetail.client_address_city_id||delete this.$refs.zjadduser.userdetail.client_address_city_id,this.$refs.zjadduser.userdetail},mrbase_sys_function_permission:function(){return this.$refs.zjquanxian.getchangeref()},mrbase_sys_client_contacts:function(){return this.$refs.zjadduser.desserts},mrbase_sys_client_language:function(){return this.$refs.zjyuyan.mrbase_sys_client_language},mrbase_sys_client_whitelist_email:function(){var e=[];return this.$refs.zjbaimingdan.states.forEach((function(t){var s={"~table~":"mrbase_sys_client_whitelist_email",client_whitelist_email:t};e.push(s)})),e}},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.gettreelist();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{gettreelist:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["getTreeList"])();case 2:t=e.sent,this.alltreelist=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getuserzl:function(e){this.$refs.zjadduser.formverify()?this.e1=2:this.$myConfirm({content:this.$t("message_The_information_was_not_entered_completely")}).then((function(){}))["catch"]((function(){}))},emailbtnchange:function(e){this.btndisabled=e},getuserqx:function(e){if(!this.mrbase_sys_function_permission.length>0)return this.$myConfirm({content:this.$t("message_Permissions_cannot_be_empty")});this.changee1(3)},getuseryx:function(){""!=this.$refs.zjbaimingdan.isemail?this.$myConfirm({content:this.$t("verify_The_mailbox_format_is_wrong")}):this.e1=4},changee1:function(e){this.e1=e},edmit:function(){var e=this;this.$myConfirm({content:this.$t("message_Confirm_the_deletion")}).then((function(t){e.$router.push({name:"clientmanage"})}))["catch"]((function(e){}))},submit:function(){var e=this;if(!this.mrbase_sys_client_language)return this.$myConfirm({content:this.$t("message_default_language_must_be_selected")});var t=this.$refs.zjadduser.light_mode_icon_file,s=this.$refs.zjadduser.dark_mode_icon_file;""==t&&(this.xzuserlist.light_mode_icon={name:"",path:"",size:""}),""==s&&(this.xzuserlist.dark_mode_icon={name:"",path:"",size:""}),this.xzuserlist.mrbase_sys_function_permission=this.mrbase_sys_function_permission,this.xzuserlist.mrbase_sys_client_contacts=this.mrbase_sys_client_contacts,this.xzuserlist.mrbase_sys_client_whitelist_email=this.mrbase_sys_client_whitelist_email,this.xzuserlist.mrbase_sys_client_language=this.mrbase_sys_client_language,this.btnloading=!this.btnloading,Object(o["adduserclientdetail"])(this.xzuserlist).then(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function n(a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(200!=a.code){n.next=15;break}if(null,null,!(t&&t.length>0)){n.next=7;break}return n.next=6,e.$uploadFiles(t,{function_uuid:e.$store.state.menuFunctionUuid,attachment_data_table:"mrbase_sys_clients",attachment_data_field:"light_mode_icon",org_level_uuid:e.$store.state.currentCompany,uuid:a.data.uuid});case 6:n.sent;case 7:if(!(s&&s.length>0)){n.next=11;break}return n.next=10,e.$uploadFiles(s,{function_uuid:e.$store.state.menuFunctionUuid,attachment_data_table:"mrbase_sys_clients",attachment_data_field:"dark_mode_icon",org_level_uuid:e.$store.state.currentCompany,uuid:a.data.uuid});case 10:n.sent;case 11:e.$Message({text:e.$t("message_The_operation_was_successful")}),e.$router.push({name:"clientmanage"}),n.next=17;break;case 15:e.$Message({text:a.msg}),e.btnloading=!e.btnloading;case 17:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}())["catch"]((function(t){e.btnloading=!e.btnloading}))}},watch:{}},_=d,h=(s("228d"),s("20d9"),s("2877")),f=Object(h["a"])(_,n,a,!1,null,"36faaad0",null);t["default"]=f.exports},"8d3e":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("v-card-text",[s("v-col",{attrs:{cols:" 12"}},[s("v-select",{attrs:{items:e.listitems,chips:"","item-text":"view_fields","item-value":"value_field",label:e.$t("label_The_default_language")+"*",readonly:e.readonly},model:{value:e.select1,callback:function(t){e.select1=t},expression:"select1"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-select",{attrs:{items:e.listitems,chips:"","item-text":"view_fields","item-value":"value_field",multiple:"",label:e.$t("label_Other_languages")+"*",readonly:e.readonly},on:{change:e.change},model:{value:e.select2,callback:function(t){e.select2=t},expression:"select2"}})],1)],1)],1)},a=[],i=(s("99af"),s("a623"),s("d81d"),s("96cf"),s("1da1")),r=s("5530"),c=s("2909"),l=s("6924"),u={props:{list:{type:Array,default:function(){return[]}}},data:function(){return{rules:[function(e){return!!e||"语言不能为空"}],nodorules:[function(e){return String(e).length<=200||"超过输入个数"},function(e){return!/[@#$%^&()<>?/]/.test(e)||"请勿输入非法字符"},function(e){return!/^ +| +$/g.test(e)||"不能输入空格"}],readonly:!1,select1:"",select2:[],listitems:[],ysdefault:{},otherlanguagelist:[]}},watch:{list:{handler:function(e){this.list=e,this.getlanguage(this.list)},deep:!0}},computed:{mrbase_sys_client_language:function(){var e=this;return!!this.select1&&(!!this.select2.every((function(t){return t!=e.select1}))&&(this.select1={is_default_language:1,"~table~":"mrbase_sys_client_language",client_language_code:this.select1},this.select2=this.select2.map((function(e){return{is_default_language:0,"~table~":"mrbase_sys_client_language",client_language_code:e}})),[Object(r["a"])({},this.select1)].concat(Object(c["a"])(this.select2))))}},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["getBusinessList"])("client_language");case 2:t=e.sent,this.listitems=t.data,(this.$route.params.uuid||this.$store.state.detailuuid)&&(this.readonly=!0,this.list&&this.getlanguage(this.list));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{asa:function(){console.log(this.mrbase_sys_client_language)},change:function(e){},getlanguage:function(e){var t=this;this.select2=[],e.map((function(e,s){1==e.is_default_language?t.select1=e.client_language_code:t.select2.push(e.client_language_code)}))},changeis:function(e){},changeno:function(e){}}},o=u,d=(s("0d6e"),s("2877")),_=Object(d["a"])(o,n,a,!1,null,"c17596d0",null);t["default"]=_.exports},f020:function(e,t,s){},feca:function(e,t,s){}}]);
//# sourceMappingURL=chunk-20569cb2.4051c634.js.map