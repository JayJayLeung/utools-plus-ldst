(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46affa8c","chunk-183700a1","chunk-f411bb52","chunk-2d225c26"],{7175:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mrc_ess_table",{attrs:{headers:t.headers,hideAddBtn:"",paginationOptions:t.options,slotKey:["status"],isLoading:t.loading,items:t.desserts},on:{turnPage:t.getlist},scopedSlots:t._u([{key:"item.status",fn:function(e){var a=e.item;return[1==a.status?n("v-btn",{attrs:{rounded:"",color:"#13a671",dark:"","x-small":""}},[t._v("成功")]):t._e(),0==a.status?n("v-btn",{attrs:{rounded:"",color:"#999999",dark:"","x-small":""}},[t._v("失败")]):t._e()]}}])})],1)},s=[],r=(n("d81d"),n("96cf"),n("1da1")),i=n("e687"),o=n("c1df"),l=n.n(o),u={components:{},props:{disabled:{type:Boolean,default:!1}},data:function(){return{options:{pagesize:5,cpage:this.$store.state.cpage,totalCount:null,totalpage:null},loading:!1,menulist:[{name:this.$t("label_Edit")},{name:this.$t("label_Executed_immediately")},{name:this.$t("label_delete")}],headers:[{text:"日志 ID",align:"start",value:"logID",sortable:!1},{text:this.$t("label_The_name_of_the_task"),align:"start",value:"job_name",sortable:!1},{text:this.$t("label_grouping"),value:"job_group",sortable:!1},{text:this.$t("label_Call_target_string"),value:"invoke_target",sortable:!1},{text:"耗时",value:"job_message",sortable:!1},{text:"",value:"status",sortable:!1},{text:"执行时间",value:"created_utc_datetime",sortable:!1}],desserts:[]}},computed:{},created:function(){},watch:{$route:function(t){"/timedTask"==t.path&&this.getlist()}},mounted:function(){this.getlist()},beforeDestroy:function(){this.$store.commit("setCpage",1)},methods:{getlist:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,e&&(e.cpage,e.pagesize,this.options=e),t.next=4,Object(i["getLogList"])({uuid:this.$store.state.uuid,pindex:this.options.cpage,psize:this.options.pagesize});case 4:n=t.sent,200==n.code&&(this.desserts=n.data.map((function(t,e){return t.created_utc_datetime=l()(t.created_utc_datetime).format("YYYY/MM/DD","h:mm:ss"),t.logID=e+1,t})),this.options.totalCount=n.totalCount,this.options.totalpage=n.totalpage),this.loading=!1;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},c=u,d=n("2877"),m=Object(d["a"])(c,a,s,!1,null,"7777620e",null);e["default"]=m.exports},a3d4:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[t.$store.state.uuid?n("mrc_ess_switch",{attrs:{"true-value":"0","false-value":"1",readonly:t.disabled,"true-text":t.$t("label_normal"),"false-text":t.$t("label_time_out")},model:{value:t.list.status,callback:function(e){t.$set(t.list,"status",e)},expression:"list.status"}}):t._e()],1),n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("mrc_ess_multiText",{attrs:{label:t.$t("label_The_name_of_the_task")+"*",isNational:t.judegNational("job_name"),readonly:t.disabled,"error-messages":t.$errors("list","job_name",t.requiredRule)},model:{value:t.list.job_name,callback:function(e){t.$set(t.list,"job_name",e)},expression:"list.job_name"}})],1),n("v-col",{attrs:{cols:"6"}},[n("mrc_ess_prompt",{attrs:{label:t.$t("label_grouping")+"*",disabled:t.disabled,rules:!1,chips:!1,errMsg:t.$errors("list","job_group",t.requiredRule),obj:"group_name"},model:{value:t.list.job_group,callback:function(e){t.$set(t.list,"job_group",e)},expression:"list.job_group"}})],1),n("v-col",{attrs:{cols:"12"}},[n("mrc_ess_multiText",{attrs:{label:t.$t("label_Call_target_string")+"*",isNational:t.judegNational("invoke_target"),"error-messages":t.$errors("list","invoke_target",t.requiredRule),readonly:t.disabled},model:{value:t.list.invoke_target,callback:function(e){t.$set(t.list,"invoke_target",e)},expression:"list.invoke_target"}}),n("div",{staticClass:"d-flex flex-column-reverse"},[n("span",{staticClass:"d-flex"},[n("span",[n("v-icon",{staticClass:"pr-2 material-icons #FAFAFA--text"},[t._v(" priority_high ")])],1),n("span",[t._v(" "+t._s(t.$t("label_Bean_invocation_example"))+" :ryTask.ryParama('ry') ")])]),n("span",[n("span",[n("v-icon",{staticClass:"pr-2 material-icons"},[t._v(" priority_high ")])],1),n("span",[t._v(" "+t._s(t.$t("label_Class_Class_invocation_example"))+":com.ruoyi.quarts.task.ryTask.ryParamas('ry') ")])]),n("span",[n("span",[n("v-icon",{staticClass:"pr-2 material-icons"},[t._v(" priority_high ")])],1),n("span",[t._v(" "+t._s(t.$t("label_Parameters_that"))+":"+t._s(t.$t("label_String_support"))+"、"+t._s(t.$t("label_Boolean_type"))+"、"+t._s(t.$t("label_Long_integer_type"))+"、"+t._s(t.$t("label_Swim_point_type"))+"、"+t._s(t.$t("label_The_integer"))+" ")])])])],1),n("v-col",{attrs:{cols:"12"}},[n("mrc_ess_multiText",{attrs:{readonly:t.disabled,isNational:t.judegNational("cron_expression"),"error-messages":t.$errors("list","cron_expression",t.requiredRule),label:t.$t("label_Cron_expression")+"*"},model:{value:t.list.cron_expression,callback:function(e){t.$set(t.list,"cron_expression",e)},expression:"list.cron_expression"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-radio-group",{attrs:{row:""},model:{value:t.list.misfire_policy,callback:function(e){t.$set(t.list,"misfire_policy",e)},expression:"list.misfire_policy"}},[n("v-radio",{attrs:{label:t.$t("label_Executed_immediately"),value:"1"}}),n("v-radio",{attrs:{label:t.$t("label_Perform_a"),value:"2"}}),n("v-radio",{attrs:{label:t.$t("label_Give_up_to_perform"),value:"3"}})],1)],1),n("v-col",{attrs:{cols:"12"}},[n("v-checkbox",{attrs:{"true-value":"1","false-value":"0",label:t.list.concurrent?t.$t("label_Allow_concurrent_execution"):t.$t("label_disabledConcurrentExecution")},model:{value:t.list.concurrent,callback:function(e){t.$set(t.list,"concurrent",e)},expression:"list.concurrent"}})],1),n("v-col",{attrs:{cols:"12"}},[n("mrc_ess_multiText",{attrs:{label:t.$t("label_note"),isNational:t.judegNational("remark"),readonly:t.disabled},model:{value:t.list.remark,callback:function(e){t.$set(t.list,"remark",e)},expression:"list.remark"}})],1)],1)],1),n("mrc_ess_submitBtn",{on:{cancel:t.cancel,success:t.success}})],1)},s=[],r=(n("96cf"),n("1da1")),i=n("b5ae"),o=n("e687"),l={components:{},props:{disabled:{type:Boolean,default:!1}},data:function(){return{items:[],list:{misfire_policy:"1",concurrent:"1"}}},validations:{list:{job_name:{required:i["required"]},job_group:{required:i["required"]},invoke_target:{required:i["required"]},cron_expression:{required:i["required"]}}},created:function(){},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.national("mrbase_sys_timed_task");case 2:this.$store.state.uuid&&(this.getDetail(),this.$route.meta.title=this.$store.getters.subPage_name);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getDetail:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["deatailTimedTask"])({uuid:this.$store.state.uuid});case 2:e=t.sent,200==e.code&&(this.list=e.data);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),verifyCron:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["verifyCron"])({cron_expression:this.list.cron_expression});case 2:if(e=t.sent,200!=e.code){t.next=5;break}return t.abrupt("return",!0);case 5:return this.$store.commit("newsTips","Cron"+this.$t("message_Expression_error")),t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){var t=this;this.$myConfirm({content:"确认取消编辑嘛?"}).then((function(e){t.$router.push({name:"timedTask"})}))["catch"]((function(t){}))},success:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.list.$touch(),!this.$v.list.$error){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.verifyCron();case 5:if(e=t.sent,e){t.next=8;break}return t.abrupt("return");case 8:this.$store.state.uuid?Object(o["updateTimedTask"])(this.list).then((function(t){200==t.code?(n.$store.commit("newsTips",n.$t("message_The_operation_was_successful")),n.getDetail()):n.$store.commit("newsTips",n.$t("message_The_modification_failed")+t.msg)})):(this.list.status="1",Object(o["addTimedTask"])(this.list).then((function(t){200==t.code?(n.$store.commit("newsTips",n.$t("message_added_successfully")),n.$router.push({name:"timedTask"})):n.$store.commit("newsTips",t.msg)})));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},computed:{},watch:{}},u=l,c=n("2877"),d=Object(c["a"])(u,a,s,!1,null,"f013828c",null);e["default"]=d.exports},de46:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mrc_ess_iconGroup",{attrs:{is_disabled:t.readonly,showReturn:!1},on:{handleEdit:t.handleEdit,handleDel:t.handleDel}}),n("v-tabs",{attrs:{grow:"","background-color":"#eeeef0",color:"primary",dark:""},on:{change:t.change},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e){return n("v-tab",{key:e.tab,staticStyle:{color:"black"}},[t._v(" "+t._s(e.tab)+" ")])})),1),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",[n("timedTask",{attrs:{disabled:t.readonly}})],1),n("v-tab-item",[n("journal",{attrs:{disabled:t.readonly}})],1)],1)],1)},s=[],r=n("e687"),i=n("a3d4"),o=n("7175"),l={components:{timedTask:i["default"],journal:o["default"]},props:{},data:function(){return{readonly:!1,tab:null,items:[{tab:"定时任务设定"},{tab:"日志"}],list:{}}},computed:{},created:function(){},watch:{},mounted:function(){this.$route.meta.title=this.$store.getters.subPage_name,this.readonly=this.$store.state.iconstatus,this.tab=this.$store.state.tab},beforeDestroy:function(){this.$store.commit("setTab","")},methods:{change:function(){this.$store.commit("setTab",this.tab)},handleEdit:function(){this.readonly=!this.readonly,this.$store.commit("set_iconstatus",this.readonly)},handleDel:function(){var t=this;this.$myConfirm({content:this.$t("message_Confirm_the_deletion")}).then((function(e){Object(r["deleteTimedTask"])({uuid:t.$store.state.uuid}).then((function(e){"200"===e.code&&(t.$store.commit("newsTips",t.$t("message_The_deletion_was_successful")),t.$router.push({name:"timedTask"}))}))}))}}},u=l,c=n("2877"),d=Object(c["a"])(u,a,s,!1,null,"098cfe9a",null);e["default"]=d.exports},e687:function(t,e,n){"use strict";n.r(e),n.d(e,"verifyCron",(function(){return s})),n.d(e,"getTimedTaskList",(function(){return r})),n.d(e,"deatailTimedTask",(function(){return i})),n.d(e,"addTimedTask",(function(){return o})),n.d(e,"updateTimedTask",(function(){return l})),n.d(e,"deleteTimedTask",(function(){return u})),n.d(e,"updateTimedTaskStatus",(function(){return c})),n.d(e,"getLogList",(function(){return d})),n.d(e,"executeTimedTask",(function(){return m}));n("d3b7");var a=n("efc9"),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,n){a["default"].post("/api/job/checkCronExpressionIsValid/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,n){a["default"].post("/api/job/getTableQuartzAll/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,n){a["default"].post("/api/job/getTableQuartzInfo/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,n){a["default"].post("/api/job/addTimedTask/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,n){a["default"].post("/api/job/updateJob/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,n){a["default"].post("/api/job/deleteQuartz/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,n){a["default"].post("/api/job/upStatusTask/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,n){a["default"].post("/api/job/getTableQuartzLogs/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,n){a["default"].post("/api/job/runTask/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))}}}]);
//# sourceMappingURL=chunk-46affa8c.f87a5b3e.js.map