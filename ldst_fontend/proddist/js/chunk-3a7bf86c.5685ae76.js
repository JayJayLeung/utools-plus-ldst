(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a7bf86c","chunk-ddcc00be","chunk-2d2132ce"],{"50cb":function(t,e,n){"use strict";var i=n("a0f1"),a=n.n(i);a.a},"58ee":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.is_del?n("div",{on:{click:function(e){return e.stopPropagation(),t.toggle(e)}}},[n("div",{staticClass:"top",class:{resetOne:t.level>0}},[n("div",{staticClass:"list"},[n("div",{staticClass:"title",style:{paddingLeft:t.paddingLeft}},[n("v-icon",{staticClass:"icon",class:{transformIcon:t.showChildren},style:{visibility:t.obj.children&&t.obj.children.length>0?"visible":"hidden"}},[t._v("mdi-menu-down")]),n("div",{staticClass:"title_name"},[t._v(t._s(t.INT(t.obj.org_level_name)))])],1),n("div",{staticClass:"staffNum"},[t._v(" "+t._s(t.obj.staff_number)+" ")]),n("div",{staticClass:"action"},[n("menu-list",{attrs:{list:t.list},on:{handleClick:t.handleClick},scopedSlots:t._u([{key:"showAction",fn:function(){return[n("v-icon",{directives:[{name:"btnAuth",rawName:"v-btnAuth",value:["view-department","edit-department"],expression:"['view-department',\n                                'edit-department']"}]},[t._v("mdi-dots-vertical")])]},proxy:!0}],null,!1,3920091902)})],1)]),t.obj.children.length>0&&t.showChildren?n("div",t._l(t.obj.children,(function(e,i){return n("department-list",{key:i,attrs:{obj:e,level:t.level+1},on:{delData:t.delData}})})),1):t._e()])]):t._e()},a=[],r=(n("a9e3"),n("ac0f"),{name:"departmentList",components:{},props:{level:{type:Number,default:0},obj:{type:Object}},data:function(){return{is_del:!0,showChildren:!1}},created:function(){},mounted:function(){},methods:{toggle:function(){this.obj.children.length<=0||(this.showChildren=!this.showChildren)},delData:function(t){this.$emit("delData",t)},handleClick:function(t){var e=t.item;t.index;"view"==e.type&&(this.$store.commit("set_subPage_name",this.obj.org_level_name),this.$store.commit("set_uuid2",this.obj.uuid),this.$store.commit("set_iconstatus",!0),this.$router.push({name:"department_detail",params:{name:this.obj.org_level_name,uuid:this.obj.uuid}})),"edit"==e.type&&(this.$store.commit("set_subPage_name",this.obj.org_level_name),this.$store.commit("set_uuid2",this.obj.uuid),this.$store.commit("set_iconstatus",!1),this.$router.push({name:"department_detail",params:{name:this.obj.org_level_name,uuid:this.obj.uuid}}))}},computed:{paddingLeft:function(){return 15*this.level+"px"},list:function(){return[{name:this.$t("label_View"),type:"view",show:this.hasBtn("view-department")},{name:this.$t("label_Edit"),type:"edit",show:this.hasBtn("edit-department")}]}},watch:{}}),s=r,o=(n("50cb"),n("2877")),u=Object(o["a"])(s,i,a,!1,null,"37222a2a",null);e["default"]=u.exports},"6da7":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mrc_ess_skLoaders",{attrs:{skLoading:t.skLoading}},[n("div",[n("mrc_ess_addBtn",{directives:[{name:"btnAuth",rawName:"v-btnAuth",value:["add-department"],expression:"['add-department']"}],attrs:{del:!1},on:{handleAdd:t.handleAdd}}),"department_list"==t.$route.name?n("v-card",[n("v-card-text",[n("div",{staticClass:"title"},[n("span",{staticClass:"departmentName"},[t._v(t._s(t.$t("label_Department_name")))]),n("span",{staticClass:"staffNum"},[t._v(t._s(t.$t("label_Number_of_employees")))])]),t._l(t.list,(function(e){return n("department-list",{key:e.uuid,attrs:{level:0,obj:e},on:{delData:t.delData}})}))],2)],1):n("router-view")],1)])},a=[],r=(n("4160"),n("a434"),n("b0c0"),n("159b"),n("96cf"),n("1da1")),s=n("ac0f"),o=n("58ee"),u={components:{departmentList:o["default"]},props:{},data:function(){return{skLoading:!0,org_level_code:"",list:[]}},created:function(){},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.skLoading=!0,this.$route.params.uuid||this.$store.state.uuid,this.org_level_code=this.$route.params.code||this.$store.state.orgLevelCode,this.$route.meta.title="部门列表",t.next=6,this.getData();case 6:this.skLoading=!1;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{delData:function(t){this.Recursion(this.companyList,t)},Recursion:function(t,e){var n=this;if(t.length<=0)return"";t.forEach((function(i,a){i.uuid==e?t.splice(a,1):i.children&&n.Recursion(i.children,e)}))},getData:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["getList"])({org_level_code:this.org_level_code});case 2:e=t.sent,200==e.code&&(this.list=e.data);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleAdd:function(){this.$store.commit("set_uuid2",""),this.$router.push({name:"department_add"})}},computed:{},watch:{$route:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("department_list"!=e.name){t.next=3;break}return t.next=3,this.getData();case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},c=u,d=(n("9116"),n("2877")),l=Object(d["a"])(c,i,a,!1,null,"596536e0",null);e["default"]=l.exports},9116:function(t,e,n){"use strict";var i=n("c711"),a=n.n(i);a.a},a0f1:function(t,e,n){},ac0f:function(t,e,n){"use strict";n.r(e),n.d(e,"getList",(function(){return r})),n.d(e,"departmentData",(function(){return s})),n.d(e,"addDepartment",(function(){return o})),n.d(e,"updateDepartment",(function(){return u})),n.d(e,"delDepartment",(function(){return c}));n("d3b7");var i=n("efc9"),a="mrbase_sys_org_levels",r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=a,new Promise((function(e,n){i["default"].post("/api/org/levels/list-department/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=a,new Promise((function(e,n){i["default"].post("/api/org/levels/find-department/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=a,new Promise((function(e,n){i["default"].post("/api/org/levels/add-department/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=a,new Promise((function(e,n){i["default"].post("/api/org/levels/update-department/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=a,new Promise((function(e,n){i["default"].post("/api/org/levels/delete-department/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))}},c711:function(t,e,n){}}]);
//# sourceMappingURL=chunk-3a7bf86c.5685ae76.js.map