(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-136f37ee","chunk-2d0aecac"],{"0c25":function(t,e,n){"use strict";n.r(e),n.d(e,"getPostList",(function(){return o})),n.d(e,"getDetailsPost",(function(){return a})),n.d(e,"addPost",(function(){return r})),n.d(e,"updatePost",(function(){return u})),n.d(e,"deletePost",(function(){return c}));n("d3b7");var s=n("efc9"),i="mrbase_sys_job_posts",o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=i,new Promise((function(e,n){s["default"].post("/api/post/list-post/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=i,new Promise((function(e,n){s["default"].post("/api/post/find-post/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=i,new Promise((function(e,n){s["default"].post("/api/post/add-post/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=i,new Promise((function(e,n){s["default"].post("/api/post/update-post/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=i,new Promise((function(e,n){s["default"].post("/api/post/delete-post/v1",t).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))}},2225:function(t,e,n){"use strict";var s=n("93c3"),i=n.n(s);i.a},5986:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["jobs_manage"==t.$route.name?n("mrc_ess_table",{attrs:{pageName:t.pageName,headers:t.headers,paginationOptions:t.options,isLoading:t.loading,slotKey:["job_post_name","dept","is_used"],items:t.desserts},on:{turnPage:t.getlist},scopedSlots:t._u([{key:"top",fn:function(){return[t._v(" 搜索框 ")]},proxy:!0},{key:"item.job_post_name",fn:function(e){var s=e.item;return[n("span",{staticClass:"ft1"},[t._v(t._s(s.job_post_name))]),n("br"),n("span",{staticClass:"chipbox"},t._l(s.job_post_grades,(function(e,s){return n("v-chip",{key:s,staticClass:"ml-2",staticStyle:{"margin-top":"-15px","margin-left":"-5px"}},[t._v(" "+t._s(e)+" ")])})),1)]}},{key:"item.dept",fn:function(e){var s=e.item;return[n("div",{staticStyle:{"margin-bottom":"12px"}},[t._v(" "+t._s(s.dept_name))]),n("div",{staticClass:"dept_all"},[t._v(" "+t._s(s.dept_all))])]}},{key:"item.is_used",fn:function(e){var s=e.item;return[1==s.is_used?n("v-btn",{attrs:{rounded:"",color:"green",dark:"","x-small":""}},[t._v(t._s(t.$t("label_To_enable_the")))]):n("v-btn",{attrs:{rounded:"",color:"red",dark:"","x-small":""}},[t._v(t._s(t.$t("label_disable")))])]}},{key:"item.actions",fn:function(e){var s=e.item;return[n("menu-list",{attrs:{list:t.menulist},on:{handleClick:function(e){return t.handleClick(e,s)}},scopedSlots:t._u([{key:"showAction",fn:function(){return[n("v-icon",[t._v("mdi-dots-vertical")])]},proxy:!0}],null,!0)})]}}],null,!1,137629799)}):[n("router-view")]],2)},i=[],o=(n("c975"),n("d81d"),n("b0c0"),n("ac1f"),n("1276"),n("96cf"),n("1da1")),a=n("0c25"),r={components:{},props:{},computed:{headers:function(){return[{text:this.$t("label_Post_and_Grade"),align:"start",sortable:!1,value:"job_post_name",width:"400"},{text:this.$t("label_Department_and_unit"),align:"start",sortable:!1,value:"dept",width:"400"},{text:this.$t("label_Number_of_employees"),align:"start",sortable:!1,value:"staff_number"},{text:this.$t("label_Whether_to_enable"),align:"start",sortable:!1,value:"is_used"},{text:"",value:"actions",sortable:!1,align:"start"}]},menulist:function(){return[{name:this.$t("label_View")},{name:this.$t("label_Edit")},{name:this.$t("label_delete")}]}},data:function(){return{loading:!1,pageName:"new_positions",options:{pagesize:5,cpage:this.$store.state.cpage,totalCount:null,totalpage:null},desserts:[],crsj:[]}},created:function(){},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getlist();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){this.$store.commit("setCpage",1)},methods:{turnPage:function(t){var e=t.cpage,n=t.pagesize;this.options.cpage=e,this.options.pagesize=n,this.getlist()},addnewpositions:function(){this.$store.commit("set_subPage_name",""),this.$store.commit("set_uuid",""),this.$store.commit("set_iconstatus",""),this.$router.push({name:"new_positions"})},getlist:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,n=this.$store.state.currentCompany,1==this.desserts.length&&1!=this.options.cpage&&this.options.cpage--,e&&(e.cpage,e.pagesize,this.options=e),t.next=6,Object(a["getPostList"])({cpage:this.options.cpage,pagesize:this.options.pagesize,org_level_uuid:n});case 6:s=t.sent,200==s.code&&(this.options.totalCount=s.totalCount,this.options.totalpage=s.totalpage,this.desserts=s.data.map((function(t){return t.job_post_grades=-1!=t.job_post_grades.indexOf(",")?t.job_post_grades.split(","):[t.job_post_grades],t}))),this.loading=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),godetail:function(t){this.$store.commit("set_uuid",t.uuid),this.$store.commit("set_iconstatus",!0),this.$router.push({name:"detail_positions",params:{uuid:t.uuid,iconstatus:!0}})},editPrompt:function(t){this.$store.commit("set_uuid",t.uuid),this.$store.commit("set_iconstatus",!1),this.$router.push({name:"detail_positions",params:{uuid:t.uuid,iconstatus:!1}})},handleDel:function(t){var e=this;this.$myConfirm({content:"确认删除客户？"}).then((function(){Object(a["deletePost"])({uuid:t.uuid}).then((function(t){200==t.code?(1==e.desserts.length&&e.options.cpage--,e.$store.commit("newsTips",e.$t("message_The_deletion_was_successful")),e.getlist()):e.$store.commit("newsTips",t.msg)}))}))["catch"]((function(){}))},handleClick:function(t,e){var n=t.index;switch(n){case 0:this.godetail(e);break;case 1:this.editPrompt(e);break;case 2:this.handleDel(e);break}}},watch:{$route:function(t){"jobs_manage"==this.$route.name&&this.getlist()}}},u=r,c=(n("2225"),n("2877")),l=Object(c["a"])(u,s,i,!1,null,"5fcdb887",null);e["default"]=l.exports},"93c3":function(t,e,n){}}]);
//# sourceMappingURL=chunk-136f37ee.f3322683.js.map