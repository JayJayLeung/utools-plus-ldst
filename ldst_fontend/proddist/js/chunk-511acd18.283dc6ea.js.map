{"version":3,"sources":["webpack:///./src/views/internationalization/valueIntconfig/detailvalueIntconfig.vue?8642","webpack:///src/views/internationalization/valueIntconfig/detailvalueIntconfig.vue","webpack:///./src/views/internationalization/valueIntconfig/detailvalueIntconfig.vue?3e6a","webpack:///./src/views/internationalization/valueIntconfig/detailvalueIntconfig.vue","webpack:///./src/views/internationalization/valueIntconfig/valueint.vue?c5f0","webpack:///src/views/internationalization/valueIntconfig/valueint.vue","webpack:///./src/views/internationalization/valueIntconfig/valueint.vue?1a7c","webpack:///./src/views/internationalization/valueIntconfig/valueint.vue","webpack:///./src/views/internationalization/valueIntconfig/valueint.vue?ef22"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","readonly","hasBtn","on","handleEdit","staticClass","_l","item","index","key","getchildrenlist","_e","btnIsLoading","success","cancel","staticRenderFns","components","valueint","props","data","list","parentlist","created","methods","uuid","v","$set","$store","commit","forEach","is_international","table_uuids","mrbase_sys_datamodel_field","field_uuids","item1","field_uuid","length","item2","isstatus","isno","not_table_uuids","substring","res","code","name","$myConfirm","content","computed","watch","component","switchover","_v","_s","valuestatus","copylist","table_description","indeterminate","allchecked","model","value","callback","$$v","allChecked","expression","style","display","field_name","changeindeter","field_description","type","Object","default","readonlyed","Boolean","$emit","console","log","some","every","get","set","val","handler","JSON","parse","stringify"],"mappings":"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","file":"js/chunk-511acd18.283dc6ea.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mrc_ess_iconGroup',{attrs:{\"is_disabled\":_vm.readonly,\"showReturn\":false,\"showEdit\":_vm.hasBtn('edit-value-internationalization-configuration'),\"show_del\":false},on:{\"handleEdit\":_vm.handleEdit}}),_c('div',{staticClass:\"bigbox\"},[_vm._l((_vm.list),function(item,index){return [_c('valueint',{key:index,attrs:{\"list\":item,\"readonlyed\":_vm.readonly},on:{\"getchildrenlist\":_vm.getchildrenlist}})]})],2),(!_vm.readonly)?_c('mrc_ess_submitBtn',{attrs:{\"loading\":_vm.btnIsLoading},on:{\"success\":_vm.success,\"cancel\":_vm.cancel}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Autor: yd\r\n * @Date: 2020-07-01 20:05:47\r\n * @LastEditors: Please set LastEditors\r\n * @LastEditTime: 2020-09-09 18:52:14\r\n--> \r\n<template>\r\n  <div>\r\n    <mrc_ess_iconGroup :is_disabled='readonly'\r\n                       :showReturn='false'\r\n                       :showEdit=\"hasBtn('edit-value-internationalization-configuration')\"\r\n                       :show_del='false'\r\n                       @handleEdit='handleEdit'></mrc_ess_iconGroup>\r\n    <div class=\"bigbox\">\r\n      <template v-for=\"(item,index) in list\">\r\n        <valueint :list='item'\r\n                  :readonlyed='readonly'\r\n                  :key=\"index\"\r\n                  @getchildrenlist='getchildrenlist'></valueint>\r\n      </template>\r\n    </div>\r\n    <mrc_ess_submitBtn @success='success'\r\n                       @cancel='cancel'\r\n                       :loading='btnIsLoading'\r\n                       v-if='!readonly'></mrc_ess_submitBtn>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { valuedetail, valueupdate } from '@/service/api/internationalization.js'\r\nimport valueint from './valueint'\r\nexport default {\r\n  components: {\r\n    valueint\r\n  },\r\n  props: {\r\n  },\r\n  data () {\r\n    return {\r\n      btnIsLoading: false,\r\n      readonly: true,//默认只读\r\n      list: [\r\n        // {\r\n        //   is_international: 0,\r\n        //   uuid: '222222222',\r\n        //   table_description: '3232',\r\n        //   mrbase_sys_datamodel_field: [\r\n        //     {\r\n        //       field_uuid: '',\r\n        //       field_name: 'aaada',\r\n        //       field_description: '11111',\r\n        //       is_international: 0\r\n        //     },\r\n        //     {\r\n        //       field_uuid: '',\r\n        //       field_name: 'vsasvava',\r\n        //       field_description: '333333333',\r\n        //       is_international: 0\r\n        //     }\r\n        //   ]\r\n        // }\r\n      ],\r\n      item: 1,\r\n      parentlist: []\r\n    };\r\n  },\r\n  created () {\r\n  },\r\n  async mounted () {\r\n    await this.getdetail()\r\n    this.readonly = this.$store.state.iconstatus\r\n    this.$route.meta.title = this.$route.params.title\r\n  },\r\n  methods: {\r\n    getchildrenlist (v) {\r\n      const index = this.parentlist.findIndex(item => {\r\n        return item.uuid == v.uuid\r\n      })\r\n      if (index != -1) this.$set(this.parentlist, index, v)\r\n      else this.$set(this.parentlist, this.parentlist.length, v)\r\n      // console.log(this.parentlist);\r\n    },\r\n    handleEdit () {\r\n      this.readonly = !this.readonly\r\n      this.$store.commit('set_iconstatus', this.readonly)\r\n    },\r\n    async getdetail () {\r\n      const module_name = this.$store.state.subPage_name\r\n      const res = await valuedetail({\r\n        module_name\r\n      })\r\n      if (res.code == 200) {\r\n        res.data.map(item => {\r\n          item.mrbase_sys_datamodel_field.map(item1 => {\r\n            if (item1.is_international == '') item1.is_international = 0\r\n          })\r\n        })\r\n        // res.data.push({\r\n        //   is_international: 0,\r\n        //   uuid: '222222222',\r\n        //   table_description: '3232',\r\n        //   mrbase_sys_datamodel_field: [\r\n        //     {\r\n        //       field_uuid: '434',\r\n        //       field_name: 'aaada',\r\n        //       field_description: '11111',\r\n        //       is_international: 0\r\n        //     },\r\n        //     {\r\n        //       field_uuid: '22',\r\n        //       field_name: 'vsasvava',\r\n        //       field_description: '333333333',\r\n        //       is_international: 0\r\n        //     }\r\n        //   ]\r\n        // })\r\n        this.list = res.data\r\n        // console.log(this.list);\r\n      }\r\n    },\r\n    success () {\r\n      this.btnIsLoading = true\r\n      let table_uuids = ''\r\n      let field_uuids = ''\r\n      let not_table_uuids = ''\r\n      //先判断是否全部选中 未全选选中则进入\r\n      this.parentlist.forEach(item => {\r\n        if (item.is_international == 1) {\r\n          // console.log('全选');\r\n          table_uuids += item.uuid + ','\r\n          item.mrbase_sys_datamodel_field.forEach(item1 => {\r\n            if (item.is_international == 1) {\r\n              // console.log('次数');\r\n              field_uuids += item1.field_uuid + ','\r\n            }\r\n          })\r\n        }\r\n        else {\r\n          if (item.mrbase_sys_datamodel_field.length > 0) {\r\n            let isstatus = true\r\n            item.mrbase_sys_datamodel_field.forEach(item2 => {\r\n              if (item2.is_international == 1) {\r\n                field_uuids += item2.field_uuid + ','\r\n                isstatus = false\r\n              }\r\n            })\r\n            if (!isstatus) {\r\n              table_uuids += item.uuid + ','\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      this.parentlist.forEach(item => {\r\n        if (item.is_international == 0) {\r\n          const isno = item.mrbase_sys_datamodel_field.some(item1 => {\r\n            return item1.is_international == 1\r\n          })\r\n          if (!isno) {\r\n            not_table_uuids += item.uuid + ','\r\n          }\r\n        }\r\n      })\r\n      table_uuids = table_uuids == '' ? table_uuids = 0 : table_uuids.substring(0, table_uuids.length - 1)\r\n      field_uuids = field_uuids == '' ? field_uuids = 0 : field_uuids.substring(0, field_uuids.length - 1)\r\n      not_table_uuids = not_table_uuids == '' ? not_table_uuids = 0 : not_table_uuids.substring(0, not_table_uuids.length - 1)\r\n      // console.log(table_uuids, '------', field_uuids, '-------', not_table_uuids);\r\n      valueupdate({ table_uuids, field_uuids, not_table_uuids }).then(res => {\r\n        if (res.code == 200) {\r\n          this.$store.commit('newsTips', this.$t('message_The_operation_was_successful'))\r\n          this.$router.push({\r\n            name: 'valueIntconfig'\r\n          })\r\n        } else {\r\n          this.$store.commit('newsTips', res.msg)\r\n          this.btnIsLoading = true\r\n        }\r\n      })\r\n    },\r\n    cancel () {\r\n      this.$myConfirm({\r\n        content: '确认取消编辑?'\r\n      }).then(res => {\r\n        this.$router.push({\r\n          name: 'valueIntconfig'\r\n        })\r\n      }).catch(err => { })\r\n    },\r\n  },\r\n  computed: {\r\n\r\n  },\r\n  watch: {\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detailvalueIntconfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detailvalueIntconfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detailvalueIntconfig.vue?vue&type=template&id=6e8e6a4d&scoped=true&\"\nimport script from \"./detailvalueIntconfig.vue?vue&type=script&lang=js&\"\nexport * from \"./detailvalueIntconfig.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e8e6a4d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bigbox\"},[_c('v-card',{staticClass:\"cardbox\"},[_c('v-card-title',[_c('v-icon',{staticClass:\"material-icons margin1\",on:{\"click\":_vm.switchover}},[_vm._v(\" \"+_vm._s(_vm.valuestatus?'chevron_right':'expand_more')+\" \")]),_c('span',[_c('v-checkbox',{staticClass:\"checkbox\",attrs:{\"label\":_vm.copylist.table_description,\"readonly\":_vm.readonly,\"color\":\"#cccccc\",\"indeterminate\":_vm.indeterminate},on:{\"change\":_vm.allchecked},model:{value:(_vm.allChecked),callback:function ($$v) {_vm.allChecked=$$v},expression:\"allChecked\"}})],1)],1),_c('v-card-text',{staticClass:\"cardtext\",style:({display:_vm.valuestatus?'block':'none'})},[_c('v-row',_vm._l((_vm.copylist.mrbase_sys_datamodel_field),function(item1,index){return _c('v-col',{key:index,staticClass:\"padding-left\",attrs:{\"cols\":\"6\"}},[_c('span',[_c('v-checkbox',{staticClass:\"checkbox\",attrs:{\"readonly\":_vm.readonly,\"color\":\"#cccccc\",\"true-value\":1,\"false-value\":0,\"label\":item1.field_name},on:{\"change\":_vm.changeindeter},model:{value:(item1.is_international),callback:function ($$v) {_vm.$set(item1, \"is_international\", $$v)},expression:\"item1.is_international\"}})],1),_c('span',{staticClass:\"f1\"},[_vm._v(_vm._s(item1.field_description))])])}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Autor: yd\r\n * @Date: 2020-07-07 14:55:09\r\n * @LastEditors: yd\r\n * @LastEditTime: 2020-07-09 12:39:42\r\n--> \r\n<template>\r\n  <div class=\"bigbox\">\r\n    <v-card class=\"cardbox\">\r\n      <v-card-title>\r\n        <v-icon @click=\"switchover\"\r\n                class=\"material-icons margin1\">\r\n          {{valuestatus?'chevron_right':'expand_more'}}\r\n        </v-icon>\r\n        <span>\r\n          <v-checkbox v-model=\"allChecked\"\r\n                      :label=\"copylist.table_description\"\r\n                      :readonly='readonly'\r\n                      color='#cccccc'\r\n                      :indeterminate='indeterminate'\r\n                      @change=\"allchecked\"\r\n                      class=\"checkbox\"></v-checkbox>\r\n        </span>\r\n\r\n      </v-card-title>\r\n      <v-card-text :style=\"{display:valuestatus?'block':'none'}\"\r\n                   class=\"cardtext\">\r\n        <v-row>\r\n          <v-col cols=\"6\"\r\n                 v-for=\"(item1,index) in copylist.mrbase_sys_datamodel_field \"\r\n                 :key=\"index\"\r\n                 class=\"padding-left\">\r\n            <span>\r\n              <v-checkbox :readonly='readonly'\r\n                          color='#cccccc'\r\n                          :true-value=\"1\"\r\n                          :false-value=\"0\"\r\n                          v-model=\"item1.is_international\"\r\n                          :label=\"item1.field_name\"\r\n                          @change=\"changeindeter\"\r\n                          class=\"checkbox\"></v-checkbox>\r\n\r\n            </span>\r\n            <span class=\"f1\">{{item1.field_description}}</span>\r\n          </v-col>\r\n        </v-row>\r\n      </v-card-text>\r\n\r\n    </v-card>\r\n    <!-- <mrc_ess_submitBtn @success='success'\r\n              @cancel='cancel'\r\n              v-if='!readonly'></mrc_ess_submitBtn> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { valuedetail, valueupdate } from '@/service/api/internationalization.js'\r\nexport default {\r\n  components: {\r\n\r\n  },\r\n  props: {\r\n    list: {\r\n      type: Object,\r\n      default: []\r\n    },\r\n    readonlyed: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      readonly: false, //读写状态\r\n      valuestatus: false,\r\n      indeterminate: null, //半选状态\r\n      copylist: []\r\n    }\r\n  },\r\n  created () {\r\n  },\r\n  async mounted () {\r\n    this.readonly = this.readonlyed\r\n    // this.copylist = this.$clone(this.list)\r\n    this.copylist = JSON.parse(JSON.stringify(this.list))\r\n    // console.log(this.list);\r\n    this.changeindeter()\r\n  },\r\n  methods: {\r\n    handleEdit () {\r\n      this.readonly = !this.readonly\r\n      this.$store.commit('set_iconstatus', this.readonly)\r\n    },\r\n    getchildrenlist () {\r\n      // console.log(11);this.$set(this.copylist,is_international,1)\r\n      // console.log(this.allChecked, this.allchecked ? this.$set(this.copylist, 'is_international', 1) : this.$set(this.copylist, 'is_international', 0));\r\n      this.allChecked ? this.copylist.is_international = 1 : this.copylist.is_international = 0\r\n      // this.allChecked ? this.$set(this.copylist, 'is_international', 1) : this.$set(this.copylist, 'is_international', 0)\r\n      this.$emit('getchildrenlist', this.copylist)\r\n    },\r\n    success () {  //提交\r\n      console.log(this.copylist);\r\n      // valueupdate({\r\n      //   table_uuids: '',\r\n      //   field_uuids: ''\r\n      // })\r\n    },\r\n    switchover () {\r\n      this.valuestatus = !this.valuestatus\r\n    },\r\n    allchecked () {\r\n      this.getchildrenlist()\r\n    },\r\n    changeindeter () {\r\n      this.getchildrenlist()\r\n      if (this.copylist.mrbase_sys_datamodel_field.length > 0) {\r\n        if (this.copylist.mrbase_sys_datamodel_field.some(item => { //有一个选中就出现\r\n          return item.is_international == 1\r\n        })) {\r\n          // console.log(1, this.indeterminate);\r\n          this.indeterminate = true\r\n        }\r\n        if (this.copylist.mrbase_sys_datamodel_field.every(item => { //全部未就消失\r\n          return item.is_international == 0\r\n        })) {\r\n          // console.log(2);\r\n          this.indeterminate = false\r\n        }\r\n        if (this.copylist.mrbase_sys_datamodel_field.every(item => { //全部选中就消失\r\n          return item.is_international == 1\r\n        })) {\r\n          // console.log(3); \r\n          this.indeterminate = null\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    allChecked: {\r\n      get () { //全选状态\r\n        if (this.copylist.mrbase_sys_datamodel_field) {\r\n          return this.copylist.mrbase_sys_datamodel_field.every(item => {\r\n            return item.is_international == 1\r\n          })\r\n        }\r\n      },\r\n      set (val) {\r\n        val == 1 ? this.indeterminate = null : this.indeterminate = false\r\n        this.copylist.mrbase_sys_datamodel_field.forEach(item => {\r\n          val == 1 ? item.is_international = 1 : item.is_international = 0\r\n        })\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    list: {\r\n      handler (val) {\r\n        // this.copylist = val\r\n        this.copylist = JSON.parse(JSON.stringify(val))\r\n      }, deep: true\r\n    },\r\n    readonlyed (v) {\r\n      // console.log(v);\r\n      this.readonly = v\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.bigbox /deep/ .v-label {\r\n  padding-left: 9px;\r\n}\r\n.bigbox /deep/ .v-card__title {\r\n  padding: 0;\r\n  height: 50px;\r\n}\r\n.cardtext /deep/ .v-input__control {\r\n  height: 25px;\r\n}\r\n.padding-left {\r\n  padding: 0 0 0 50px;\r\n}\r\n.f1 {\r\n  color: #cccccc;\r\n  display: block;\r\n  text-align: left;\r\n  padding-left: 40px;\r\n}\r\n.cardbox {\r\n  margin-bottom: 15px;\r\n}\r\n.margin1 {\r\n  margin: 0 15px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./valueint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./valueint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./valueint.vue?vue&type=template&id=2c5176be&scoped=true&\"\nimport script from \"./valueint.vue?vue&type=script&lang=js&\"\nexport * from \"./valueint.vue?vue&type=script&lang=js&\"\nimport style0 from \"./valueint.vue?vue&type=style&index=0&id=2c5176be&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c5176be\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./valueint.vue?vue&type=style&index=0&id=2c5176be&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./valueint.vue?vue&type=style&index=0&id=2c5176be&scoped=true&lang=css&\""],"sourceRoot":""}