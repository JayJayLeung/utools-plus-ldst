(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cca4661","chunk-2d2073e7"],{1441:function(e,t,a){"use strict";var n=a("3f5d"),s=a.n(n);s.a},"3f5d":function(e,t,a){},7034:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("mrc_ess_skLoaders",{attrs:{skLoading:e.skLoading}},[a("div",[a("mrc_ess_iconGroup",{attrs:{is_disabled:e.disabled,showEdit:e.hasBtn("edit-menu"),show_del:e.hasBtn("delete-menu")},on:{handleReturn:e.handleReturn,handleEdit:e.handleEdit,handleDel:e.handleDel}}),a("v-form",{ref:"menuDetailRef"},[a("v-card",[a("v-card-text",[a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"2"}},[a("v-switch",{attrs:{label:e.detailData.is_show?e.$t("label_display"):e.$t("label_hidden"),color:"primary",readonly:e.disabled,"true-value":1,"false-value":0},model:{value:e.detailData.is_show,callback:function(t){e.$set(e.detailData,"is_show",t)},expression:"detailData.is_show"}})],1),a("v-col",{staticClass:"d-flex",staticStyle:{"justify-content":"flex-end"},attrs:{cols:"12",sm:"5","offset-sm":"5"}},[e.uuid?a("span",[e._v("id: "+e._s(e.uuid))]):e._e()]),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"12"}},[a("mrc_ess_multiText",{staticStyle:{width:"100%"},attrs:{readonly:e.disabled,label:e.$t("label_Menu_name")+"*",isNational:e.judegNational("menu_name"),rules:e.$text_rules("菜单名称")},model:{value:e.detailData.menu_name,callback:function(t){e.$set(e.detailData,"menu_name",t)},expression:"detailData.menu_name"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"12"}},[a("mrc_ess_multiText",{staticStyle:{width:"100%"},attrs:{label:e.$t("label_describe")+"*",isNational:e.judegNational("menu_description"),readonly:e.disabled,rules:e.$text_rules("描述")},model:{value:e.detailData.menu_description,callback:function(t){e.$set(e.detailData,"menu_description",t)},expression:"detailData.menu_description"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"2"}},[a("v-checkbox",{attrs:{color:"primary",readonly:e.disabled,"true-value":0,"false-value":1,label:e.$t("label_Directories_do_not_contain_functionality")+"*"},model:{value:e.detailData.is_catalog,callback:function(t){e.$set(e.detailData,"is_catalog",t)},expression:"detailData.is_catalog"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"10"}},[a("mrc_ess_prompt",{directives:[{name:"show",rawName:"v-show",value:e.detailData.is_catalog,expression:"detailData.is_catalog"}],attrs:{label:e.$t("label_Corresponding_function")+"*",rules:e.function_uuid_rules,disabled:e.disabled,prompt_name:"function_module_parent"},model:{value:e.detailData.function_uuid,callback:function(t){e.$set(e.detailData,"function_uuid",t)},expression:"detailData.function_uuid"}}),a("v-select",{directives:[{name:"show",rawName:"v-show",value:!e.detailData.is_catalog,expression:"!detailData.is_catalog"}],attrs:{readonly:"",label:e.$t("label_Corresponding_function")+"*"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[a("mrc_ess_prompt",{attrs:{label:e.$t("label_Menu_superior_name")+"*",rules:!1,chips:!1,disabled:e.disabled,select_arr:e.menu_parent_list},model:{value:e.detailData.tricode_parent,callback:function(t){e.$set(e.detailData,"tricode_parent",t)},expression:"detailData.tricode_parent"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{readonly:e.disabled,label:e.$t("label_upload_image")+"*",rules:e.$text_rules("上传图标")},model:{value:e.detailData.menu_icon,callback:function(t){e.$set(e.detailData,"menu_icon",t)},expression:"detailData.menu_icon"}})],1),a("v-col",{staticClass:"d-flex",staticStyle:{"justify-content":"flex-end"},attrs:{cols:"12",sm:"1"}},[a("div",{style:{width:"20px",height:"20px",backgroundColor:e.detailData.menu_color}})]),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"5"}},[a("mrc_ess_colorPicker",{attrs:{disabled:e.disabled},scopedSlots:e._u([{key:"showAction",fn:function(){return[a("v-text-field",{attrs:{label:e.$t("label_color")+"*",readonly:"",rules:[function(e){return""!=e||"颜色"}]},model:{value:e.detailData.menu_color,callback:function(t){e.$set(e.detailData,"menu_color",t)},expression:"detailData.menu_color"}})]},proxy:!0}]),model:{value:e.detailData.menu_color,callback:function(t){e.$set(e.detailData,"menu_color",t)},expression:"detailData.menu_color"}})],1),a("v-col",{attrs:{cols:"6"}},[a("mrc_ess_NumInput",{attrs:{readonly:!e.disabled,label:e.$t("label_The_sorting")+"*"},model:{value:e.detailData.sequence,callback:function(t){e.$set(e.detailData,"sequence",t)},expression:"detailData.sequence"}})],1)],1)],1)],1)],1),a("mrc_ess_submitBtn",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],attrs:{loading:e.loading},on:{cancel:e.cancel,success:e.success}})],1)])},s=[],i=(a("c740"),a("a434"),a("96cf"),a("1da1")),l=a("fb42"),o=a("a068"),u={components:{},props:{},data:function(){return{skLoading:!0,loading:!1,uuid:"",disabled:!0,detailData:{menu_name:"",menu_description:"",sequence:1,menu_icon:"",menu_color:"",is_show:1,function_uuid:null,is_catalog:1,tricode_parent:""},menu_parent_list:[]}},created:function(){},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,i,u,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.national("mrbase_sys_menus");case 2:if(this.skLoading=!0,t=this.$store.getters.subPage_name||"新菜单",a=this.$route.params.uuid||this.$store.state.uuid,this.$route.meta.title=t,!a){e.next=16;break}return this.$store.state.iconstatus||(this.disabled=!1),this.uuid=a,e.next=11,Object(o["get_menuDetail"])({uuid:a});case 11:n=e.sent,200==n.code&&(this.detailData=n.data),this.$store.state.iconstatus||(this.disabled=!1),e.next=17;break;case 16:this.disabled=!1;case 17:return e.next=19,Object(l["getBusinessList"])({prompt_name:"menu_parent",uuid:this.uuid});case 19:s=e.sent,200==s.code&&(i=s.data,i.unshift({view_fields:"无",value_field:null}),u=i.findIndex((function(e){return e.value_field==r.detailData.tricode})),-1!=u&&"无"!==i[0].view_fields&&i.splice(u,1),this.menu_parent_list=i),this.skLoading=!1;case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{handleReturn:function(){this.$router.go(-1)},handleEdit:function(){this.disabled=!this.disabled},handleDel:function(){var e=this;this.$myConfirm({title:"提示",content:"确定删除吗？"}).then(Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["del_menu"])({uuid:e.detailData.uuid});case 2:a=t.sent,200==a.code&&(e.$store.commit("newsTips",e.$t("message_The_deletion_was_successful")),e.$router.go(-1));case 4:case"end":return t.stop()}}),t,this)}))))["catch"]((function(){console.log("点了取消")}))},cancel:function(){var e=this;this.$myConfirm({title:"提示",content:"确认放弃修改"}).then((function(){e.$router.go(-1)}))["catch"]((function(){console.log("点了取消")}))},success:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$refs.menuDetailRef.validate(),t){e.next=3;break}return e.abrupt("return");case 3:if(a=this.$clone(this.detailData),a.is_catalog||(a.function_uuid=null,this.detailData.function_uuid=null),a.tricode_parent||(a.tricode_parent=null),this.loading=!0,!this.uuid){e.next=17;break}return delete a.created_utc_datetime,delete a.updated_utc_datetime,e.next=12,Object(o["update_menu"])(a);case 12:n=e.sent,200==n.code&&(this.$store.commit("newsTips",this.$t("message_The_operation_was_successful")),this.$router.go(-1)),this.loading=!1,e.next=22;break;case 17:return e.next=19,Object(o["add_menu"])(a);case 19:s=e.sent,200==s.code&&(this.$store.commit("newsTips",this.$t("message_added_successfully")),this.$router.go(-1)),this.loading=!1;case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},computed:{function_uuid_rules:function(){return!!this.detailData.is_catalog&&this.$t("verify_Required")}},watch:{}},r=u,c=(a("1441"),a("2877")),d=Object(c["a"])(r,n,s,!1,null,"148d7fa4",null);t["default"]=d.exports},a068:function(e,t,a){"use strict";a.r(t),a.d(t,"get_menuList",(function(){return i})),a.d(t,"get_menuDetail",(function(){return l})),a.d(t,"add_menu",(function(){return o})),a.d(t,"update_menu",(function(){return u})),a.d(t,"del_menu",(function(){return r}));a("d3b7");var n=a("efc9"),s="mrbase_sys_menus",i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=s,new Promise((function(t,a){n["default"].post("/api/menu/list-menu/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=s,new Promise((function(t,a){n["default"].post("/api/menu/find-menu/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=s,new Promise((function(t,a){n["default"].post("/api/menu/add-menu/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=s,new Promise((function(t,a){n["default"].post("/api/menu/update-menu/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=s,new Promise((function(t,a){n["default"].post("/api/menu/delete-menu/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))}}}]);
//# sourceMappingURL=chunk-5cca4661.5b76fae3.js.map