(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f411bb52","chunk-2d225c26"],{a3d4:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[e.$store.state.uuid?r("mrc_ess_switch",{attrs:{"true-value":"0","false-value":"1",readonly:e.disabled,"true-text":"正常","false-text":"暂停"},model:{value:e.list.status,callback:function(t){e.$set(e.list,"status",t)},expression:"list.status"}}):e._e()],1),r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("mrc_ess_multiText",{attrs:{label:"任务名称*",isNational:e.judegNational("job_name"),readonly:e.disabled,"error-messages":e.$errors("list","job_name",e.requiredRule)},model:{value:e.list.job_name,callback:function(t){e.$set(e.list,"job_name",t)},expression:"list.job_name"}})],1),r("v-col",{attrs:{cols:"6"}},[r("mrc_ess_prompt",{attrs:{label:"分组*",disabled:e.disabled,rules:!1,chips:!1,errMsg:e.$errors("list","job_group",e.requiredRule),obj:"group_name"},model:{value:e.list.job_group,callback:function(t){e.$set(e.list,"job_group",t)},expression:"list.job_group"}})],1),r("v-col",{attrs:{cols:"12"}},[r("mrc_ess_multiText",{attrs:{label:"调用目标字符串*",isNational:e.judegNational("invoke_target"),"error-messages":e.$errors("list","invoke_target",e.requiredRule),readonly:e.disabled},model:{value:e.list.invoke_target,callback:function(t){e.$set(e.list,"invoke_target",t)},expression:"list.invoke_target"}}),r("div",{staticClass:"d-flex flex-column-reverse"},[r("span",{staticClass:"d-flex"},[r("span",[r("v-icon",{staticClass:"pr-2 material-icons #FAFAFA--text"},[e._v(" priority_high ")])],1),r("span",[e._v(" Bean调用示例 :ryTask.ryParama('ry') ")])]),r("span",[r("span",[r("v-icon",{staticClass:"pr-2 material-icons"},[e._v(" priority_high ")])],1),r("span",[e._v(" Class类调用示例:com.ruoyi.quarts.task.ryTask.ryParamas('ry') ")])]),r("span",[r("span",[r("v-icon",{staticClass:"pr-2 material-icons"},[e._v(" priority_high ")])],1),r("span",[e._v(" 参数说明:支持字符串、布尔类型、长整数类型、游点型、整型 ")])])])],1),r("v-col",{attrs:{cols:"12"}},[r("mrc_ess_multiText",{attrs:{readonly:e.disabled,isNational:e.judegNational("cron_expression"),"error-messages":e.$errors("list","cron_expression",e.requiredRule),label:"Cron 表达式*"},model:{value:e.list.cron_expression,callback:function(t){e.$set(e.list,"cron_expression",t)},expression:"list.cron_expression"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-radio-group",{attrs:{row:""},model:{value:e.list.misfire_policy,callback:function(t){e.$set(e.list,"misfire_policy",t)},expression:"list.misfire_policy"}},[r("v-radio",{attrs:{label:"立即执行",value:"1"}}),r("v-radio",{attrs:{label:"执行一次",value:"2"}}),r("v-radio",{attrs:{label:"放弃执行",value:"3"}})],1)],1),r("v-col",{attrs:{cols:"12"}},[r("v-checkbox",{attrs:{"true-value":"1","false-value":"0",label:e.list.concurrent?"允许并发执行":"禁止并发执行"},model:{value:e.list.concurrent,callback:function(t){e.$set(e.list,"concurrent",t)},expression:"list.concurrent"}})],1),r("v-col",{attrs:{cols:"12"}},[r("mrc_ess_multiText",{attrs:{label:"备注",isNational:e.judegNational("remark"),readonly:e.disabled},model:{value:e.list.remark,callback:function(t){e.$set(e.list,"remark",t)},expression:"list.remark"}})],1)],1)],1),r("mrc_ess_submitBtn",{on:{cancel:e.cancel,success:e.success}})],1)},s=[],i=(r("96cf"),r("1da1")),a=r("b5ae"),o=r("e687"),u={components:{},props:{disabled:{type:Boolean,default:!1}},data:function(){return{items:[],list:{misfire_policy:"1",concurrent:"1"}}},validations:{list:{job_name:{required:a["required"]},job_group:{required:a["required"]},invoke_target:{required:a["required"]},cron_expression:{required:a["required"]}}},created:function(){},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.national("mrbase_sys_timed_task");case 2:this.$store.state.uuid&&(this.getDetail(),this.$route.meta.title=this.$store.getters.subPage_name);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getDetail:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["deatailTimedTask"])({uuid:this.$store.state.uuid});case 2:t=e.sent,200==t.code&&(this.list=t.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),verifyCron:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["verifyCron"])({cron_expression:this.list.cron_expression});case 2:if(t=e.sent,200!=t.code){e.next=5;break}return e.abrupt("return",!0);case 5:return this.$store.commit("newsTips","Cron"+this.$t("message_Expression_error")),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){var e=this;this.$myConfirm({content:"确认取消编辑嘛?"}).then((function(t){e.$router.push({name:"timedTask"})}))["catch"]((function(e){}))},success:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$v.list.$touch(),!this.$v.list.$error){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.verifyCron();case 5:if(t=e.sent,t){e.next=8;break}return e.abrupt("return");case 8:this.$store.state.uuid?Object(o["updateTimedTask"])(this.list).then((function(e){200==e.code?(r.$store.commit("newsTips",r.$t("message_The_operation_was_successful")),r.getDetail()):r.$store.commit("newsTips",r.$t("message_The_modification_failed")+e.msg)})):(this.list.status="1",Object(o["addTimedTask"])(this.list).then((function(e){200==e.code?(r.$store.commit("newsTips",r.$t("message_added_successfully")),r.$router.push({name:"timedTask"})):r.$store.commit("newsTips",e.msg)})));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},computed:{},watch:{}},c=u,l=r("2877"),d=Object(l["a"])(c,n,s,!1,null,"43c51673",null);t["default"]=d.exports},e687:function(e,t,r){"use strict";r.r(t),r.d(t,"verifyCron",(function(){return s})),r.d(t,"getTimedTaskList",(function(){return i})),r.d(t,"deatailTimedTask",(function(){return a})),r.d(t,"addTimedTask",(function(){return o})),r.d(t,"updateTimedTask",(function(){return u})),r.d(t,"deleteTimedTask",(function(){return c})),r.d(t,"updateTimedTaskStatus",(function(){return l})),r.d(t,"getLogList",(function(){return d})),r.d(t,"executeTimedTask",(function(){return f}));r("d3b7");var n=r("efc9"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){n["default"].post("/api/job/checkCronExpressionIsValid/v1",e).then((function(e){t(e)}))["catch"]((function(e){r(e)}))}))},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){n["default"].post("/api/job/getTableQuartzAll/v1",e).then((function(e){t(e)}))["catch"]((function(e){r(e)}))}))},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){n["default"].post("/api/job/getTableQuartzInfo/v1",e).then((function(e){t(e)}))["catch"]((function(e){r(e)}))}))},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){n["default"].post("/api/job/addTimedTask/v1",e).then((function(e){t(e)}))["catch"]((function(e){r(e)}))}))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){n["default"].post("/api/job/updateJob/v1",e).then((function(e){t(e)}))["catch"]((function(e){r(e)}))}))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){n["default"].post("/api/job/deleteQuartz/v1",e).then((function(e){t(e)}))["catch"]((function(e){r(e)}))}))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){n["default"].post("/api/job/upStatusTask/v1",e).then((function(e){t(e)}))["catch"]((function(e){r(e)}))}))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){n["default"].post("/api/job/getTableQuartzLogs/v1",e).then((function(e){t(e)}))["catch"]((function(e){r(e)}))}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){n["default"].post("/api/job/runTask/v1",e).then((function(e){t(e)}))["catch"]((function(e){r(e)}))}))}}}]);
//# sourceMappingURL=chunk-f411bb52.6367464d.js.map