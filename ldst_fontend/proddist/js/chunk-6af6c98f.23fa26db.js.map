{"version":3,"sources":["webpack:///./src/views/module_func_manage/func_detail/index.vue?72f8","webpack:///src/views/module_func_manage/func_detail/index.vue","webpack:///./src/views/module_func_manage/func_detail/index.vue?6a1b","webpack:///./src/views/module_func_manage/func_detail/index.vue","webpack:///./src/views/module_func_manage/add_func/func.vue?c234","webpack:///src/views/module_func_manage/add_func/func.vue","webpack:///./src/views/module_func_manage/add_func/func.vue?f1f4","webpack:///./src/views/module_func_manage/add_func/func.vue","webpack:///./src/views/module_func_manage/func_detail/index.vue?9863"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","tabs","expression","_v","_s","$t","func_disabled","func_data","on","getData","func_cancel","getBtnClientType","module_uuid","btnList","version","client_type","success","btn_cancel","staticRenderFns","components","props","data","uuid","function_name","function_shortcode","function_description","table_uuid","function_type_uuid","org_level_uuid","status_uuid","function_id","top_module","data_table","func_type","unit_data","created","methods","arr","handleReturn","console","log","handleEdit","disabled","handleDel","computed","watch","component","skLoading","$store","state","directives","name","rawName","staticStyle","hasBtn","_e","detailData","$set","ref","judegNational","$text_rules","Boolean","v","moduleChange","version_arr","length","successText","cancel","type","Object","client_type_uuid","version_uuid","tempData","$router","go","$myConfirm","isSubmit","obj","join","created_utc_datetime","updated_utc_datetime","$emit","forEach","item","value_field","items","push","handler","$nextTick","deep"],"mappings":"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","file":"js/chunk-6af6c98f.23fa26db.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"func_detail\"},[_c('v-tabs',{attrs:{\"grow\":\"\"},model:{value:(_vm.tabs),callback:function ($$v) {_vm.tabs=$$v},expression:\"tabs\"}},[_c('v-tab',[_vm._v(_vm._s(_vm.$t('label_function')))]),_c('v-tab',[_vm._v(_vm._s(_vm.$t('label_button')))])],1),_c('v-tabs-items',{model:{value:(_vm.tabs),callback:function ($$v) {_vm.tabs=$$v},expression:\"tabs\"}},[_c('v-tab-item',[_c('func-detail',{attrs:{\"func_disabled\":_vm.func_disabled,\"func_data\":_vm.func_data},on:{\"getData\":_vm.getData,\"func_cancel\":_vm.func_cancel,\"getBtnClientType\":_vm.getBtnClientType}})],1),_c('v-tab-item',[_c('btn-detail',{attrs:{\"version_uuid\":_vm.func_data.module_uuid,\"list\":_vm.btnList,\"version\":_vm.func_data.version,\"client_type\":_vm.client_type},on:{\"success\":_vm.success,\"cancel\":_vm.btn_cancel}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"func_detail\">\r\n\r\n    <v-tabs grow\r\n            v-model=\"tabs\">\r\n      <v-tab>{{$t('label_function')}}</v-tab>\r\n      <v-tab>{{$t('label_button')}}</v-tab>\r\n    </v-tabs>\r\n    <v-tabs-items v-model=\"tabs\">\r\n      <v-tab-item>\r\n        <func-detail @getData='getData'\r\n                     :func_disabled='func_disabled'\r\n                     :func_data='func_data'\r\n                     @func_cancel='func_cancel'\r\n                     @getBtnClientType='getBtnClientType'></func-detail>\r\n      </v-tab-item>\r\n      <v-tab-item>\r\n        <btn-detail :version_uuid='func_data.module_uuid'\r\n                    :list='btnList'\r\n                    :version='func_data.version'\r\n                    :client_type='client_type'\r\n                    @success='success'\r\n                    @cancel='btn_cancel'></btn-detail>\r\n      </v-tab-item>\r\n    </v-tabs-items>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getBusinessList,\r\n  get_func_add,\r\n  get_func_update,\r\n  get_func_del,\r\n  get_func_detail\r\n} from '@/service/api/func_module'\r\nimport { getDataByName } from '@/service/api/data_dictionary'\r\n// import iconGroup from '@/components/iconGroup'\r\n// import multiText from '@/components/multi_text'\r\nimport funcDetail from '../add_func/func'\r\nimport btnDetail from '../add_func/btn'\r\nexport default {\r\n  components: { funcDetail, btnDetail },\r\n  props: {},\r\n  data () {\r\n    return {\r\n      uuid: '',\r\n      func_disabled: true,\r\n      func_data: {\r\n        function_name: '',\r\n        function_shortcode: '',\r\n        function_description: '',\r\n        table_uuid: '',\r\n        function_type_uuid: '',\r\n        module_uuid: '',\r\n        org_level_uuid: [], // 多选\r\n        status_uuid: '',\r\n        uuid: '',\r\n        function_id: ''\r\n      },\r\n      top_module: [],\r\n      data_table: [],\r\n      func_type: [],\r\n      unit_data: [],\r\n      btnList: [],\r\n      client_type: [],\r\n      // disabled: true,\r\n      tabs: 0\r\n    };\r\n  },\r\n  created () { },\r\n  async mounted () {\r\n    const name = this.$store.getters.subPage_name\r\n    const uuid = this.$route.params.uuid || this.$store.state.uuid\r\n    // this.uuid = \"c37ba31d-cd25-4771-9bcc-3cd30b27ebcc\"\r\n    // this.$store.commit('set_uuid',this.uuid)\r\n    this.uuid = uuid\r\n    // 功能详情\r\n    if (this.uuid) {\r\n      const detail = await get_func_detail({\r\n        uuid: this.uuid\r\n      })\r\n      if (detail.code == 200) {\r\n        if (detail.data.org_level_uuid) {\r\n          detail.data.org_level_uuid = detail.data.org_level_uuid.split(',')\r\n        } else {\r\n          detail.data.org_level_uuid = []\r\n        }\r\n        this.func_data = detail.data\r\n        this.btnList = detail.mrbase_sys_function_buttons\r\n        // this.$route.meta.title = this.func_data.function_name\r\n        this.$route.meta.title = name\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async func_cancel () {\r\n      if (!this.$store.state.uuid) {\r\n        this.$router.go(-1)\r\n      } else {\r\n        const detail = await get_func_detail({\r\n          uuid: this.uuid\r\n        })\r\n        if (detail.data.org_level_uuid) {\r\n          detail.data.org_level_uuid = detail.data.org_level_uuid.split(',')\r\n        }\r\n        this.func_data = detail.data\r\n      }\r\n    },\r\n    async btn_cancel () {\r\n      if (!this.$store.state.uuid) return\r\n      const detail = await get_func_detail({\r\n        uuid: this.uuid\r\n      })\r\n      if (detail.data.org_level_uuid) {\r\n        detail.data.org_level_uuid = detail.data.org_level_uuid.split(',')\r\n      }\r\n      this.btnList = detail.mrbase_sys_function_buttons\r\n    },\r\n    getBtnClientType (arr) {\r\n      this.client_type = arr\r\n    },\r\n    handleReturn () {\r\n      console.log('返回')\r\n    },\r\n    handleEdit () {\r\n      this.disabled = !this.disabled\r\n    },\r\n    handleDel () {\r\n      console.log('删除')\r\n    },\r\n    async getData (obj) {\r\n      const update = await get_func_update({ ...obj, org_level_uuid: this.$store.state.userData.org_level_uuid })\r\n      if (update.code == 200) {\r\n        this.$store.commit('newsTips', this.$t('message_The_operation_was_successful'))\r\n\r\n        // 这里的问题  明天记着\r\n        this.func_disabled = !this.func_disabled\r\n        if (!this.$store.state.iconstatus) {\r\n          this.func_disabled = false\r\n          this.$store.commit('set_iconstatus', false)\r\n        }\r\n        this.$route.meta.title = obj.function_name\r\n      }\r\n    },\r\n    // 提交按钮\r\n    async success (arr) {\r\n\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {\r\n    // btnList: {\r\n    //   handler(val) {\r\n    //     console.log(val,'detail')\r\n    //   },\r\n    //   deep: true\r\n    // }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.func_detail /deep/ .v-tab--active {\r\n  color: #000000;\r\n}\r\n.func_detail /deep/ .v-dialog::-webkit-scrollbar {\r\n  /*滚动条整体样式*/\r\n  width: 10px; /*高宽分别对应横竖滚动条的尺寸*/\r\n  height: 1px;\r\n}\r\n.status {\r\n  color: #fff;\r\n  background-color: #18a874;\r\n  width: 40px;\r\n  height: 25px;\r\n  border-bottom-right-radius: 10px;\r\n  border-bottom-left-radius: 10px;\r\n  border-top-right-radius: 10px;\r\n  border-top-left-radius: 10px;\r\n  font-size: 12px;\r\n  display: inline-block;\r\n  line-height: 25px;\r\n  text-align: center;\r\n}\r\n.is_used {\r\n  background-color: #dedede;\r\n}\r\n.card_title {\r\n  padding: 8px 0 8px 10px !important;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 14px !important;\r\n  color: #fff;\r\n  background-color: #000000;\r\n}\r\n.close_dialog {\r\n  width: 32px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4f59d912&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4f59d912&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f59d912\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('mrc_ess_skLoaders',{attrs:{\"skLoading\":_vm.skLoading}},[_c('v-card',[_c('v-card-subtitle',[(_vm.$store.state.uuid)?_c('mrc_ess_iconGroup',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.disabled),expression:\"disabled\"}],staticStyle:{\"top\":\"-50px\"},attrs:{\"showEdit\":_vm.hasBtn('edit-function'),\"show_del\":_vm.hasBtn('delete-function')},on:{\"handleReturn\":_vm.handleReturn,\"handleEdit\":_vm.handleEdit,\"handleDel\":_vm.handleDel}}):_vm._e()],1),_c('v-card-text',[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\",\"sm\":\"2\"}},[_c('v-switch',{attrs:{\"label\":_vm.detailData.status_uuid?_vm.$t('label_To_enable_the'): _vm.$t('label_disable'),\"color\":\"primary\",\"readonly\":_vm.disabled},model:{value:(_vm.detailData.status_uuid),callback:function ($$v) {_vm.$set(_vm.detailData, \"status_uuid\", $$v)},expression:\"detailData.status_uuid\"}})],1)],1),_c('v-form',{ref:\"add_func\"},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_multiText',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":_vm.$t('label_The_name_of_the_function') + '*',\"required\":\"\",\"isNational\":_vm.judegNational('function_name'),\"append-icon\":\"mdi-longitude\",\"readonly\":_vm.disabled,\"rules\":_vm.$text_rules(_vm.$t('label_The_name_of_the_function'))},model:{value:(_vm.detailData.function_name),callback:function ($$v) {_vm.$set(_vm.detailData, \"function_name\", $$v)},expression:\"detailData.function_name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('mrc_ess_multiText',{staticStyle:{\"width\":\"100%\"},attrs:{\"readonly\":_vm.disabled,\"required\":\"\",\"label\":_vm.$t('label_Function_short_code') + '*',\"isNational\":_vm.judegNational('function_shortcode'),\"append-icon\":\"mdi-longitude\",\"rules\":_vm.$text_rules(_vm.$t('label_Function_short_code'))},model:{value:(_vm.detailData.function_shortcode),callback:function ($$v) {_vm.$set(_vm.detailData, \"function_shortcode\", $$v)},expression:\"detailData.function_shortcode\"}})],1),_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('mrc_ess_multiText',{staticStyle:{\"width\":\"100%\"},attrs:{\"readonly\":_vm.disabled,\"required\":\"\",\"label\":_vm.$t('label_Functional_description') + '*',\"isNational\":_vm.judegNational('function_description'),\"rules\":_vm.$text_rules(_vm.$t('label_Functional_description'))},model:{value:(_vm.detailData.function_description),callback:function ($$v) {_vm.$set(_vm.detailData, \"function_description\", $$v)},expression:\"detailData.function_description\"}})],1),_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-select',{attrs:{\"items\":_vm.top_module,\"label\":_vm.$t('label_The_superior_module') + '*',\"isNational\":_vm.judegNational('module_uuid'),\"item-text\":\"view_fields\",\"item-value\":\"value_field\",\"readonly\":Boolean(_vm.$store.state.uuid),\"required\":\"\",\"chips\":\"\",\"rules\":[function (v) { return !!v || _vm.$t('label_The_superior_module'); }]},on:{\"change\":_vm.moduleChange},model:{value:(_vm.detailData.module_uuid),callback:function ($$v) {_vm.$set(_vm.detailData, \"module_uuid\", $$v)},expression:\"detailData.module_uuid\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[(!_vm.$store.state.uuid)?_c('v-select',{attrs:{\"items\":_vm.version_arr,\"label\":_vm.$t('label_version') + '*',\"required\":\"\",\"rules\":[function (v){ return !!v || _vm.$t('label_version'); }],\"readonly\":Boolean(_vm.$store.state.uuid),\"chips\":\"\"},model:{value:(_vm.detailData.version),callback:function ($$v) {_vm.$set(_vm.detailData, \"version\", $$v)},expression:\"detailData.version\"}}):_c('v-text-field',{attrs:{\"disabled\":\"\",\"label\":_vm.$t('label_version') + '*',\"rules\":_vm.$text_rules(_vm.$t('label_version'))},model:{value:(_vm.detailData.version),callback:function ($$v) {_vm.$set(_vm.detailData, \"version\", $$v)},expression:\"detailData.version\"}})],1),_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('v-select',{attrs:{\"readonly\":_vm.disabled,\"items\":_vm.data_table,\"label\":_vm.$t('label_Associated_data_table') + '*',\"item-text\":\"view_fields\",\"item-value\":\"value_field\",\"required\":\"\",\"chips\":\"\",\"rules\":[function (v) { return !!v || _vm.$t('label_Associated_data_table'); }]},model:{value:(_vm.detailData.table_uuid),callback:function ($$v) {_vm.$set(_vm.detailData, \"table_uuid\", $$v)},expression:\"detailData.table_uuid\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-select',{attrs:{\"readonly\":_vm.disabled,\"label\":_vm.$t('label_Client_type') + '*',\"items\":_vm.client_type,\"item-value\":\"value_field\",\"item-text\":\"view_fields\",\"required\":\"\",\"no-data-text\":\"请先选择上级模块\",\"chips\":\"\",\"multiple\":\"\",\"rules\":[function (v) { return v.length>0 || _vm.$t('label.client_type'); }]},model:{value:(_vm.detailData.client_type_uuid),callback:function ($$v) {_vm.$set(_vm.detailData, \"client_type_uuid\", $$v)},expression:\"detailData.client_type_uuid\"}})],1),_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-select',{attrs:{\"readonly\":_vm.disabled,\"items\":_vm.func_type,\"label\":_vm.$t('label_Function_type') + '*',\"item-text\":\"dict_label\",\"item-value\":\"dict_value\",\"required\":\"\",\"chips\":\"\",\"rules\":[function (v) { return !!v || _vm.$t('label_Function_type'); }]},model:{value:(_vm.detailData.function_type_uuid),callback:function ($$v) {_vm.$set(_vm.detailData, \"function_type_uuid\", $$v)},expression:\"detailData.function_type_uuid\"}})],1),_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('v-select',{attrs:{\"readonly\":_vm.disabled,\"items\":_vm.unit_data,\"label\":_vm.$t('label_Only_for_the_following_units'),\"item-value\":\"value_field\",\"item-text\":\"view_fields\",\"multiple\":\"\",\"chips\":\"\"},model:{value:(_vm.detailData.org_level_uuid),callback:function ($$v) {_vm.$set(_vm.detailData, \"org_level_uuid\", $$v)},expression:\"detailData.org_level_uuid\"}})],1)],1)],1)],1),(!_vm.disabled)?_c('mrc_ess_submitBtn',{attrs:{\"cancelText\":_vm.$t('label_cancel'),\"successText\":_vm.successText},on:{\"cancel\":_vm.cancel,\"success\":_vm.success}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <mrc_ess_skLoaders :skLoading='skLoading'>\r\n    <v-card>\r\n      <v-card-subtitle>\r\n        <mrc_ess_iconGroup style=\"top: -50px\"\r\n                           v-show=\"disabled\"\r\n                           v-if=\"$store.state.uuid\"\r\n                           @handleReturn='handleReturn'\r\n                           :showEdit=\"hasBtn('edit-function')\"\r\n                           :show_del=\"hasBtn('delete-function')\"\r\n                           @handleEdit='handleEdit'\r\n                           @handleDel='handleDel'></mrc_ess_iconGroup>\r\n      </v-card-subtitle>\r\n      <v-card-text>\r\n        <v-row dense>\r\n          <v-col class=\"d-flex\"\r\n                 cols=\"12\"\r\n                 sm=\"2\">\r\n            <v-switch v-model=\"detailData.status_uuid\"\r\n                      :label=\"detailData.status_uuid?$t('label_To_enable_the'): $t('label_disable')\"\r\n                      color=\"primary\"\r\n                      :readonly=\"disabled\"></v-switch>\r\n          </v-col>\r\n        </v-row>\r\n\r\n        <v-form ref=\"add_func\">\r\n          <v-row dense>\r\n            <!-- <v-col cols=\"12\"\r\n                   sm=\"6\"\r\n                   class=\"d-flex\">\r\n              <v-text-field :label=\"$t('label_The_name_of_the_function') + '*'\"\r\n                            required\r\n                            v-model=\"detailData.function_name\"\r\n                            append-icon=\"mdi-longitude\"\r\n                            :readonly=\"disabled\"\r\n                            :rules=\"$text_rules('功能名称')\">\r\n              </v-text-field>\r\n            </v-col>\r\n            <v-col cols=\"12\"\r\n                   sm=\"6\"\r\n                   class=\"d-flex\">\r\n              <v-text-field :readonly=\"disabled\"\r\n                            required\r\n                            :label=\"$t('label_Function_short_code') + '*'\"\r\n                            v-model=\"detailData.function_shortcode\"\r\n                            append-icon=\"mdi-longitude\"\r\n                            :rules=\"$text_rules('功能短编码')\">\r\n              </v-text-field>\r\n            </v-col>\r\n            <v-col cols=\"12\"\r\n                   sm=\"12\"\r\n                   class=\"d-flex\">\r\n              <v-text-field :readonly=\"disabled\"\r\n                            required\r\n                            :label=\"$t('label_Functional_description') + '*'\"\r\n                            v-model=\"detailData.function_description\"\r\n                            append-icon=\"mdi-longitude\"\r\n                            :rules=\"$text_rules('功能描述')\">\r\n              </v-text-field>\r\n            </v-col> -->\r\n            <v-col cols=\"6\">\r\n              <mrc_ess_multiText :label=\"$t('label_The_name_of_the_function') + '*'\"\r\n                                 style=\"width: 100%\"\r\n                                 required\r\n                                 :isNational=\"judegNational('function_name')\"\r\n                                 v-model=\"detailData.function_name\"\r\n                                 append-icon=\"mdi-longitude\"\r\n                                 :readonly=\"disabled\"\r\n                                 :rules=\"$text_rules($t('label_The_name_of_the_function'))\">\r\n              </mrc_ess_multiText>\r\n            </v-col>\r\n            <v-col cols=\"12\"\r\n                   sm=\"6\">\r\n              <mrc_ess_multiText :readonly=\"disabled\"\r\n                                 style=\"width: 100%\"\r\n                                 required\r\n                                 :label=\"$t('label_Function_short_code') + '*'\"\r\n                                 :isNational=\"judegNational('function_shortcode')\"\r\n                                 v-model=\"detailData.function_shortcode\"\r\n                                 append-icon=\"mdi-longitude\"\r\n                                 :rules=\"$text_rules($t('label_Function_short_code'))\">\r\n              </mrc_ess_multiText>\r\n            </v-col>\r\n            <v-col cols=\"12\"\r\n                   sm=\"12\"\r\n                   class=\"d-flex\">\r\n              <mrc_ess_multiText :readonly=\"disabled\"\r\n                                 style=\"width: 100%\"\r\n                                 required\r\n                                 :label=\"$t('label_Functional_description') + '*'\"\r\n                                 :isNational=\"judegNational('function_description')\"\r\n                                 v-model=\"detailData.function_description\"\r\n                                 :rules=\"$text_rules($t('label_Functional_description'))\">\r\n              </mrc_ess_multiText>\r\n            </v-col>\r\n            <v-col cols=\"12\"\r\n                   sm=\"6\"\r\n                   class=\"d-flex\">\r\n\r\n              <v-select :items=\"top_module\"\r\n                        :label=\"$t('label_The_superior_module') + '*'\"\r\n                        :isNational=\"judegNational('module_uuid')\"\r\n                        v-model=\"detailData.module_uuid\"\r\n                        item-text='view_fields'\r\n                        item-value='value_field'\r\n                        @change=\"moduleChange\"\r\n                        :readonly=\"Boolean($store.state.uuid)\"\r\n                        required\r\n                        chips\r\n                        :rules=\"[v => !!v || $t('label_The_superior_module')]\"></v-select>\r\n            </v-col>\r\n            <v-col cols=\"12\"\r\n                   sm=\"6\">\r\n              <v-select :items=\"version_arr\"\r\n                        :label=\"$t('label_version') + '*'\"\r\n                        required\r\n                        v-if=\"!$store.state.uuid\"\r\n                        :rules=\"[v=>!!v || $t('label_version')]\"\r\n                        :readonly=\"Boolean($store.state.uuid)\"\r\n                        v-model=\"detailData.version\"\r\n                        chips></v-select>\r\n              <v-text-field v-else\r\n                            disabled\r\n                            :label=\"$t('label_version') + '*'\"\r\n                            v-model=\"detailData.version\"\r\n                            :rules=\"$text_rules($t('label_version'))\">\r\n              </v-text-field>\r\n            </v-col>\r\n            <v-col cols=\"12\"\r\n                   sm=\"12\"\r\n                   class=\"d-flex\">\r\n              <v-select :readonly=\"disabled\"\r\n                        :items=\"data_table\"\r\n                        :label=\"$t('label_Associated_data_table') + '*'\"\r\n                        v-model=\"detailData.table_uuid\"\r\n                        item-text='view_fields'\r\n                        item-value='value_field'\r\n                        required\r\n                        chips\r\n                        :rules=\"[v => !!v || $t('label_Associated_data_table')]\"></v-select>\r\n            </v-col>\r\n            <v-col cols=\"12\"\r\n                   sm=\"6\">\r\n              <v-select :readonly=\"disabled\"\r\n                        :label=\"$t('label_Client_type') + '*'\"\r\n                        v-model=\"detailData.client_type_uuid\"\r\n                        :items=\"client_type\"\r\n                        item-value=\"value_field\"\r\n                        item-text=\"view_fields\"\r\n                        required\r\n                        no-data-text=\"请先选择上级模块\"\r\n                        chips\r\n                        multiple\r\n                        :rules=\"[v => v.length>0 || $t('label.client_type')]\"></v-select>\r\n            </v-col>\r\n            <v-col cols=\"12\"\r\n                   sm=\"6\"\r\n                   class=\"d-flex\">\r\n              <v-select :readonly=\"disabled\"\r\n                        :items=\"func_type\"\r\n                        :label=\"$t('label_Function_type') + '*'\"\r\n                        v-model=\"detailData.function_type_uuid\"\r\n                        item-text='dict_label'\r\n                        item-value='dict_value'\r\n                        required\r\n                        chips\r\n                        :rules=\"[v => !!v || $t('label_Function_type')]\"></v-select>\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\"\r\n                   sm=\"12\"\r\n                   class=\"d-flex\">\r\n              <v-select :readonly=\"disabled\"\r\n                        :items=\"unit_data\"\r\n                        :label=\"$t('label_Only_for_the_following_units')\"\r\n                        v-model=\"detailData.org_level_uuid\"\r\n                        item-value='value_field'\r\n                        item-text='view_fields'\r\n                        multiple\r\n                        chips></v-select>\r\n              <!-- :rules=\"[v => v.length > 0 || '特别只放开给以下单位']\" -->\r\n            </v-col>\r\n          </v-row>\r\n        </v-form>\r\n      </v-card-text>\r\n      <mrc_ess_submitBtn v-if=\"!disabled\"\r\n                         :cancelText=\"$t('label_cancel')\"\r\n                         :successText='successText'\r\n                         @cancel='cancel'\r\n                         @success='success'></mrc_ess_submitBtn>\r\n    </v-card>\r\n  </mrc_ess_skLoaders>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { getBusinessList, get_func_add, get_versions, get_func_del } from '@/service/api/func_module'\r\nimport { getBusinessList as getprompt } from '@/service/api/prompt'\r\nimport { getDataByName } from '@/service/api/data_dictionary'\r\n// import iconGroup from '@/components/iconGroup'\r\nexport default {\r\n  components: {},\r\n  props: {\r\n    func_data: {\r\n      type: Object\r\n    },\r\n    func_disabled: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      skLoading: true,\r\n      successText: this.$t('label_The_next_step'),\r\n      detailData: {\r\n        function_name: '',\r\n        function_shortcode: '',\r\n        function_description: '',\r\n        table_uuid: '',\r\n        function_type_uuid: '',\r\n        module_uuid: '',\r\n        org_level_uuid: [],// 多选\r\n        status_uuid: true,\r\n        client_type_uuid: [],\r\n        version: '',\r\n        uuid: null\r\n      },\r\n      uuid: null,\r\n      top_module: [],\r\n      data_table: [],\r\n      func_type: [],\r\n      unit_data: [],\r\n      version_arr: [],\r\n      client_type: [],\r\n      version_uuid: '',\r\n      disabled: false,\r\n      tempData: {}\r\n    };\r\n  },\r\n  created () {\r\n  },\r\n  async mounted () {\r\n    this.skLoading = true\r\n    // 上级模块\r\n    try {\r\n      // if (!this.func_disabled && !this.$store.state.iconstatus) {\r\n      //   this.disabled = true\r\n      // }\r\n      await this.national('mrbase_sys_functions')\r\n      const top_module = await getprompt({\r\n        prompt_name: 'function_parent',\r\n        'uuid': this.detailData.uuid\r\n      })\r\n      this.top_module = top_module.data\r\n      // 关联数据表\r\n      const data_table = await getBusinessList('table_name')\r\n      this.data_table = data_table.data\r\n      // func_type 功能类型\r\n      // 查询功能类型\r\n      const func_type = await getDataByName('functionType')\r\n      this.func_type = func_type.data\r\n      // 开放以下单位\r\n      const unit_data = await getBusinessList('open_util')\r\n      this.unit_data = unit_data.data\r\n      // 新增的时候进页面就不传上级模块 获取顶级模块的版本\r\n      // 修改的时候传上级模块 获取版本\r\n      const version_data = await get_versions({ module_uuid: this.detailData.module_uuid })\r\n      this.version_arr = version_data.data.version.split(',')\r\n      this.version_uuid = version_data.data.uuid\r\n      this.skLoading = false\r\n    } catch (error) {\r\n      this.skLoading = false\r\n    }\r\n  },\r\n  methods: {\r\n    // 新增的时候 上级模块改变  要去改版本\r\n    // 修改的时候 上级模块改变 不修改版本\r\n\r\n    // 功能客户端类型根据上级模块来变化\r\n    async moduleChange (val) {\r\n      // 如果是新增就可以修改版本\r\n      if (!this.$store.state.uuid) {\r\n        this.detailData.version = ''\r\n        this.version_arr = []\r\n        const version_data = await get_versions({ module_uuid: val })\r\n        this.version_arr = version_data.data.version.split(',')\r\n        this.version_uuid = version_data.data.uuid\r\n      }\r\n      // 功能客户端类型  高级参照\r\n      const client_type = await getprompt({\r\n        prompt_name: 'function_client_type',\r\n        module_uuid: val\r\n      })\r\n      this.client_type = client_type.data\r\n      // console.log(this.client_type,1111111)\r\n\r\n\r\n    },\r\n    handleReturn () {\r\n      this.$router.go(-1)\r\n    },\r\n    handleEdit () {\r\n      this.disabled = !this.disabled\r\n    },\r\n    // 删除功能\r\n    async handleDel () {\r\n      this.$myConfirm({ content: this.$t('message_Confirm_the_deletion') })\r\n        .then(async () => {\r\n          const del = await get_func_del({ uuid: this.detailData.uuid })\r\n          console.log(del)\r\n          if (del.code == 200) {\r\n            this.$store.commit('newsTips', this.$t('message_The_deletion_was_successful'))\r\n            this.$router.push({\r\n              name: 'module_func_manage'\r\n            })\r\n          }\r\n        }).catch(err => { })\r\n    },\r\n    // 取消\r\n    cancel () {\r\n      this.$myConfirm({ content: this.$t('message_Confirm_the_cancellation_of_the_edit') })\r\n        .then(() => {\r\n          if (this.detailData.uuid) {\r\n            this.disabled = !this.disabled\r\n            this.$emit('func_cancel')\r\n          } else {\r\n            this.$router.go(-1)\r\n          }\r\n        }).catch(() => { })\r\n\r\n      // 取消的时候显示修改前的值\r\n    },\r\n    // 确认\r\n    success () {\r\n      const isSubmit = this.$refs.add_func.validate()\r\n      if (isSubmit) {\r\n        const obj = this.$clone(this.detailData)\r\n        obj.status_uuid = obj.status_uuid ? 1 : 0\r\n        obj.org_level_uuid = obj.org_level_uuid.join()\r\n        obj.client_type_uuid = obj.client_type_uuid.join()\r\n        if (obj.created_utc_datetime) {\r\n          delete obj.created_utc_datetime\r\n          delete obj.updated_utc_datetime\r\n        }\r\n        // 修改的值传出去\r\n        this.$emit('getData', obj)\r\n        // 把选择了的客户端类型传给按钮做下拉\r\n        let client_type = []\r\n        this.client_type.forEach(item => {\r\n          this.detailData.client_type_uuid.forEach(items => {\r\n            if (item.value_field == items) {\r\n              client_type.push(item)\r\n            }\r\n          })\r\n        })\r\n        this.$emit('getBtnClientType', client_type)\r\n        this.$emit('getVersion_uuid', this.version_uuid)\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n\r\n  },\r\n  watch: {\r\n    func_data: {\r\n      handler (val) {\r\n        this.$nextTick(async () => {\r\n          this.disabled = true\r\n          this.successText = this.$t('label_submit')\r\n          const obj = this.$clone(val)\r\n          if (obj.client_type_uuid) {\r\n            obj.client_type_uuid = obj.client_type_uuid.split(',')\r\n          }\r\n          await this.moduleChange(obj.module_uuid)\r\n          this.detailData = obj\r\n          this.tempData = obj\r\n          // 修改数据的时候把客户端类型，给按钮使用\r\n          let client_type = []\r\n          this.client_type.length > 0 && this.client_type.forEach(item => {\r\n            obj.client_type_uuid.forEach(items => {\r\n              if (item.value_field == items) {\r\n                client_type.push(item)\r\n              }\r\n            })\r\n          })\r\n          this.$emit('getBtnClientType', client_type)\r\n        })\r\n      },\r\n      deep: true\r\n    },\r\n    func_disabled () {\r\n      this.disabled = !this.disabled\r\n      this.tempData = this.detailData\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./func.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./func.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./func.vue?vue&type=template&id=24843b5c&scoped=true&\"\nimport script from \"./func.vue?vue&type=script&lang=js&\"\nexport * from \"./func.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24843b5c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4f59d912&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4f59d912&scoped=true&lang=css&\""],"sourceRoot":""}