{"version":3,"sources":["webpack:///./src/service/api/postmanagement.js","webpack:///./src/views/o_f_manage/jobs_manage/newpositions/modules/positions.vue?1f43","webpack:///src/views/o_f_manage/jobs_manage/newpositions/modules/positions.vue","webpack:///./src/views/o_f_manage/jobs_manage/newpositions/modules/positions.vue?09b4","webpack:///./src/views/o_f_manage/jobs_manage/newpositions/modules/positions.vue","webpack:///./src/views/o_f_manage/jobs_manage/newpositions/modules/positions.vue?a9e5","webpack:///./src/views/o_f_manage/jobs_manage/newpositions/newpositions.vue?9817","webpack:///src/views/o_f_manage/jobs_manage/newpositions/newpositions.vue","webpack:///./src/views/o_f_manage/jobs_manage/newpositions/newpositions.vue?497b","webpack:///./src/views/o_f_manage/jobs_manage/newpositions/newpositions.vue"],"names":["table","getPostList","params","Promise","resolve","reject","http","post","then","res","err","getDetailsPost","addPost","updatePost","deletePost","render","_vm","this","_h","$createElement","_c","_self","ref","attrs","readonly","$t","model","value","Positiondetails","callback","$$v","$set","expression","judegNational","$errors","requiredRule","maxLength","mrbase_sys_job_post_grades","jobPostRades","companyName","department","_e","btnIsLoading","on","success","cancel","staticRenderFns","components","props","isreadonly","type","Boolean","watch","v","validations","job_post_name","required","job_post_shortcode","job_post_description","sequence","between","data","nodorules","userrules","switch1","items","addsequence","created_by","created_utc_datetime","dept_uuid","is_used","job_post_grades","job_post_id","org_level_uuid","updated_by","updated_utc_datetime","uuid","created","methods","$v","$touch","$error","$route","$store","state","company_uuid","code","name","$myConfirm","changesequence","computed","currentCompany","component","positions","mounted"],"mappings":"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","file":"js/chunk-5080898a.b4b74b3d.js","sourcesContent":["// 岗位管理\r\nimport http from '../httpConfig'\r\n\r\nconst table = \"mrbase_sys_job_posts\"\r\n\r\n\r\n// 岗位列表查询接口\r\nexport const getPostList = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/post/list-post/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n//岗位详情\r\nexport const getDetailsPost = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/post/find-post/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n//  岗位新增\r\nexport const addPost = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/post/add-post/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n//岗位修改\r\nexport const updatePost = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/post/update-post/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n\r\n//岗位删除\r\nexport const deletePost = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/post/delete-post/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-form',{ref:\"positionsform\"},[_c('v-card',[_c('v-card-title',[_c('mrc_ess_switch',{attrs:{\"true-value\":\"1\",\"false-value\":\"0\",\"readonly\":_vm.readonly,\"true-text\":_vm.$t('label_To_enable_the'),\"false-text\":_vm.$t('label_disable')},model:{value:(_vm.Positiondetails.is_used),callback:function ($$v) {_vm.$set(_vm.Positiondetails, \"is_used\", $$v)},expression:\"Positiondetails.is_used\"}})],1),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_multiText',{attrs:{\"label\":_vm.$t('label_Position_Title')+'*',\"isNational\":_vm.judegNational('job_post_name'),\"readonly\":_vm.readonly,\"error-messages\":_vm.$errors('Positiondetails','job_post_name',_vm.requiredRule)},model:{value:(_vm.Positiondetails.job_post_name),callback:function ($$v) {_vm.$set(_vm.Positiondetails, \"job_post_name\", $$v)},expression:\"Positiondetails.job_post_name\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_multiText',{attrs:{\"label\":_vm.$t('label_Short_code')+'*',\"isNational\":_vm.judegNational('job_post_shortcode'),\"error-messages\":_vm.$errors('Positiondetails','job_post_shortcode',_vm.maxLength(20)),\"readonly\":_vm.readonly},model:{value:(_vm.Positiondetails.job_post_shortcode),callback:function ($$v) {_vm.$set(_vm.Positiondetails, \"job_post_shortcode\", $$v)},expression:\"Positiondetails.job_post_shortcode\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('mrc_ess_prompt',{attrs:{\"label\":_vm.$t('label_Post_grades')+'*',\"rules\":false,\"disabled\":_vm.readonly,\"multiple\":true,\"errMsg\":_vm.$errors(null,'jobPostRades',_vm.requiredRule),\"obj\":_vm.mrbase_sys_job_post_grades},model:{value:(_vm.jobPostRades),callback:function ($$v) {_vm.jobPostRades=$$v},expression:\"jobPostRades\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('mrc_ess_prompt',{attrs:{\"label\":_vm.$t('label_department')+'*',\"rules\":false,\"disabled\":_vm.readonly,\"errMsg\":_vm.$errors(null,'department',_vm.requiredRule),\"obj\":_vm.companyName},model:{value:(_vm.department),callback:function ($$v) {_vm.department=$$v},expression:\"department\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('mrc_ess_multiText',{attrs:{\"label\":_vm.$t('label_describe'),\"isNational\":_vm.judegNational('job_post_description'),\"readonly\":_vm.readonly},model:{value:(_vm.Positiondetails.job_post_description),callback:function ($$v) {_vm.$set(_vm.Positiondetails, \"job_post_description\", $$v)},expression:\"Positiondetails.job_post_description\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('mrc_ess_NumInput',{attrs:{\"label\":_vm.$t('label_The_sorting')+'*',\"error-messages\":_vm.$errors('Positiondetails','sequence',_vm.requiredRule),\"readonly\":_vm.readonly},model:{value:(_vm.Positiondetails.sequence),callback:function ($$v) {_vm.$set(_vm.Positiondetails, \"sequence\", $$v)},expression:\"Positiondetails.sequence\"}})],1)],1)],1),(!_vm.readonly)?_c('mrc_ess_submitBtn',{attrs:{\"loading\":_vm.btnIsLoading},on:{\"success\":_vm.success,\"cancel\":_vm.cancel}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-form ref=\"positionsform\">\r\n    <v-card>\r\n      <v-card-title>\r\n        <!-- <v-switch v-model=\"Positiondetails.is_used\"\r\n                    :label=\"Positiondetails.is_used?'启用':'不启用'\"></v-switch> -->\r\n        <mrc_ess_switch v-model=\"Positiondetails.is_used\"\r\n                        true-value='1'\r\n                        false-value='0'\r\n                        :readonly='readonly'\r\n                        :true-text=\"$t('label_To_enable_the')\"\r\n                        :false-text=\"$t('label_disable')\"></mrc_ess_switch>\r\n      </v-card-title>\r\n      <v-card-text>\r\n        <v-row>\r\n          <v-col cols=\"6\">\r\n            <!-- <v-text-field :label=\"$t('label_Position_Title')+'*'\"\r\n                            ref=\"requiredfields\"\r\n                            :error-messages=\"$errors('Positiondetails','job_post_name',requiredRule)\"\r\n                            v-model=\"Positiondetails.job_post_name\"\r\n                            hide-details=\"auto\"\r\n                            :readonly='readonly'></v-text-field> -->\r\n            <mrc_ess_multiText :label=\"$t('label_Position_Title')+'*'\"\r\n                               :isNational=\"judegNational('job_post_name')\"\r\n                               :readonly='readonly'\r\n                               :error-messages=\"$errors('Positiondetails','job_post_name',requiredRule)\"\r\n                               v-model=\"Positiondetails.job_post_name\"></mrc_ess_multiText>\r\n          </v-col>\r\n          <v-col cols=\"6\">\r\n            <mrc_ess_multiText :label=\"$t('label_Short_code')+'*'\"\r\n                               :isNational=\"judegNational('job_post_shortcode')\"\r\n                               v-model=\"Positiondetails.job_post_shortcode\"\r\n                               :error-messages=\"$errors('Positiondetails','job_post_shortcode',maxLength(20))\"\r\n                               :readonly='readonly'></mrc_ess_multiText>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col cols=\"12\">\r\n            <!-- <v-select v-model=\"jobPostRades\"\r\n                        :items=\"items\"\r\n                        attach\r\n                        chips\r\n                        label=\"岗位等级\"\r\n                        :readonly='readonly'\r\n                        multiple></v-select> -->\r\n            <mrc_ess_prompt :label=\"$t('label_Post_grades')+'*'\"\r\n                            :rules='false'\r\n                            :disabled='readonly'\r\n                            :multiple=\"true\"\r\n                            :errMsg=\"$errors(null,'jobPostRades',requiredRule)\"\r\n                            v-model=\"jobPostRades\"\r\n                            :obj=\"mrbase_sys_job_post_grades\">\r\n            </mrc_ess_prompt>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col cols=\"12\">\r\n            <!-- <v-select :items=\"items\"\r\n                        v-model=\"Positiondetails\"\r\n                        label=\"部门\"\r\n                        :readonly='readonly'\r\n                        dense></v-select> -->\r\n            <mrc_ess_prompt :label=\"$t('label_department')+'*'\"\r\n                            :rules='false'\r\n                            :disabled='readonly'\r\n                            v-model=\"department\"\r\n                            :errMsg=\"$errors(null,'department',requiredRule)\"\r\n                            :obj=\"companyName\">\r\n            </mrc_ess_prompt>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col cols=\"12\">\r\n            <!-- <v-text-field :label=\"$t('label_describe')\"\r\n                            v-model=\"Positiondetails.job_post_description\"\r\n                            hide-details=\"auto\"\r\n                            :readonly='readonly'></v-text-field> -->\r\n            <mrc_ess_multiText :label=\"$t('label_describe')\"\r\n                               :isNational=\"judegNational('job_post_description')\"\r\n                               v-model=\"Positiondetails.job_post_description\"\r\n                               :readonly='readonly'></mrc_ess_multiText>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col cols=\"4\">\r\n            <!-- <v-text-field :label=\"$t('label_The_sorting')+'*'\"\r\n                            :rules=\"$text_rules('排序不能为空',[v=>!/[^\\d]/g.test(v)||'排序格式错误'])\"\r\n                            v-model=\"Positiondetails.sequence\"\r\n                            :error-messages=\"$errors('Positiondetails','sequence',requiredRule)\"\r\n                            hide-details=\"auto\"\r\n                            :readonly='readonly'></v-text-field> -->\r\n            <mrc_ess_NumInput :label=\"$t('label_The_sorting')+'*'\"\r\n                              v-model=\"Positiondetails.sequence\"\r\n                              :error-messages=\"$errors('Positiondetails','sequence',requiredRule)\"\r\n                              :readonly='readonly'></mrc_ess_NumInput>\r\n\r\n          </v-col>\r\n        </v-row>\r\n      </v-card-text>\r\n      <mrc_ess_submitBtn @success='success'\r\n                         :loading='btnIsLoading'\r\n                         @cancel='cancel'\r\n                         v-if='!readonly'></mrc_ess_submitBtn>\r\n    </v-card>\r\n  </v-form>\r\n</template>  \r\n\r\n<style scoped>\r\n.bt1 {\r\n  display: inline-block;\r\n  width: 25px;\r\n  height: 25px;\r\n  background-color: #ccc;\r\n  line-height: 25px;\r\n  text-align: center;\r\n}\r\n.sequenceinput {\r\n  border-top: 1px black solid;\r\n  border-bottom: 1px black solid;\r\n  text-align: center;\r\n}\r\n</style>\r\n \r\n<script>  \r\nimport { getDetailsPost, updatePost, addPost } from '@/service/api/postmanagement.js'\r\nimport { getBusinessList } from '@/service/api/func_module.js'\r\nimport { required, maxLength, between, email, url } from 'vuelidate/lib/validators'\r\nexport default {\r\n  components: {},\r\n  props: {\r\n    isreadonly: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  watch: {\r\n    isreadonly (v) {\r\n      // console.log(v);\r\n      this.readonly = v\r\n    }\r\n  },\r\n  validations: {\r\n    Positiondetails: {\r\n      job_post_name: {\r\n        maxLength: maxLength(20),\r\n        required\r\n      },\r\n      job_post_shortcode: {\r\n        maxLength: maxLength(20)\r\n      },\r\n      job_post_description: {\r\n\r\n      },\r\n      sequence: {\r\n        between: between(1, 50),\r\n        required\r\n      }\r\n    },\r\n    jobPostRades: {\r\n      required\r\n    },\r\n    department: {\r\n      required\r\n    },\r\n  },\r\n  data () {\r\n    return {\r\n      btnIsLoading: false,\r\n      nodorules: [\r\n        v => !!v || '不能为空',\r\n        v => String(v).length <= 200 || '超过输入个数',\r\n        v => !/[@#$%^&()<>?/]/.test(v) || '请勿输入非法字符',\r\n        v => !/^ +| +$/g.test(v) || '不能输入空格',\r\n      ],\r\n      userrules: [\r\n        v => String(v).length <= 20 || '超过输入个数',\r\n        v => !/[^\\w]/g.test(v) || '只能输入数字和字母'\r\n      ],\r\n      // company_uuid: '',  //当前公司uuid\r\n      jobPostRades: [], //岗位等级回显数据\r\n      department: [],//部门回显数据\r\n      switch1: false,\r\n      readonly: this.isreadonly,\r\n      items: ['foo', 'bar', 'fizz', 'buzz'],\r\n      value: ['foo', 'bar', 'fizz', 'buzz'],\r\n      addsequence: 1,\r\n      Positiondetails: {\r\n        created_by: '', //创建人\r\n        created_utc_datetime: '', //创建时间\r\n        job_post_shortcode: '', //短编码 暂时后端无该字段\r\n        dept_uuid: \"\", //部门uuid\r\n        is_used: \"\", //是否启用 0 否 1 是\r\n        job_post_description: \"\", //岗位描述\r\n        job_post_grades: \"\", //岗位级别 多个用逗号分隔\r\n        job_post_id: '',\r\n        job_post_name: \"\", //岗位名称\r\n        org_level_uuid: \"\", //公司uuid \r\n        sequence: '', //排序\r\n        updated_by: '', //更新人\r\n        updated_utc_datetime: '',\r\n        uuid: \"\",\r\n      }\r\n    };\r\n  },\r\n  created () {\r\n\r\n  },\r\n  async mounted () {\r\n    await this.national('mrbase_sys_job_posts')\r\n    // this.company_uuid = this.$store.state.currentCompany\r\n    if (this.$route.params.uuid || this.$store.state.uuid) {\r\n      const res = await getDetailsPost({\r\n        uuid: this.$store.state.uuid\r\n      })\r\n      console.log(res);\r\n      this.Positiondetails = res.data   //渲染页面\r\n      this.department = this.Positiondetails.dept_uuid\r\n      // this.Positiondetails.is_used == 1 ? this.Positiondetails.is_used = true : this.Positiondetails.is_used = false\r\n      this.jobPostRades = this.Positiondetails.job_post_grades === '' ? [] : this.Positiondetails.job_post_grades.split(',')\r\n    }\r\n    else {\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    success () {  //提交\r\n      this.$v.Positiondetails.$touch()\r\n      this.$v.$touch()\r\n      if (this.$v.Positiondetails.$error) return\r\n      this.btnIsLoading = true\r\n      const jobPostRades = this.jobPostRades.join(',')\r\n      this.Positiondetails.job_post_grades = jobPostRades\r\n      const Positiondetails = this.Positiondetails\r\n      delete Positiondetails.created_by\r\n      delete Positiondetails.created_utc_datetime\r\n      delete Positiondetails.job_post_id\r\n      delete Positiondetails.updated_by\r\n      delete Positiondetails.updated_utc_datetime\r\n      // this.Positiondetails.is_used == true ? this.Positiondetails.is_used = 1 : this.Positiondetails.is_used = 0\r\n      Positiondetails.dept_uuid = this.department\r\n      // delete Positiondetails.uuid\r\n      // delete Positiondetails.job_post_shortcode\r\n      if (this.$route.params.uuid || this.$store.state.uuid) {\r\n        // console.log(this.department);\r\n        Positiondetails.org_level_uuid = this.company_uuid\r\n        updatePost(Positiondetails).then(res => {\r\n          if (res.code == 200) {\r\n            this.$router.push({\r\n              name: 'jobs_manage'\r\n            })\r\n          }\r\n          else if (res.code == 7013) {\r\n            this.$myConfirm({ content: this.$t('message_Subordinate_employees_cannot_modify_the_position') })\r\n            this.btnIsLoading = false\r\n          }\r\n          else {\r\n            this.$myConfirm({ content: this.$t('message_The_modification_failed') })\r\n            this.btnIsLoading = false\r\n          }\r\n        }).catch(err => {\r\n          this.$myConfirm({ content: this.$t('message_The_modification_failed') })\r\n          this.btnIsLoading = false\r\n        })\r\n      }\r\n      else {\r\n        Positiondetails.org_level_uuid = this.company_uuid\r\n        // Positiondetails.dept_uuid = '23423423'  //后端返回为空暂时固定设置\r\n        // console.log(this.$refs.requiredfields.validate());\r\n        // this.$refs.positionsform.validate()  暂时不做判断\r\n        if (true) {\r\n          addPost(Positiondetails).then(res => {\r\n            if (res.code == 200) {\r\n              this.$router.push({\r\n                name: 'jobs_manage'\r\n              })\r\n            } else {\r\n              this.$myConfirm({ content: '新增失败请重试' })\r\n              this.btnIsLoading = false\r\n            }\r\n          }).catch(err => {\r\n            this.$myConfirm({ content: '新增失败请重试' })\r\n            this.btnIsLoading = false\r\n          })\r\n        }\r\n      }\r\n    },\r\n    cancel () {  //取消\r\n      this.$myConfirm({ content: this.$t('message_Confirm_the_cancellation_of_the_edit') }).then(() => {\r\n        this.$router.push({\r\n          name: 'jobs_manage'\r\n        })\r\n      }).catch(err => { })\r\n    },\r\n    changesequence (v) {\r\n      this.Positiondetails.sequence += v\r\n    }\r\n  },\r\n  computed: {\r\n    company_uuid () {\r\n      return this.$store.state.currentCompany\r\n    },\r\n    companyName () {\r\n      // return { prompt_name: 'mrbase_sys_level_company_relevance_dept', company_uuid: this.company_uuid }\r\n      return { prompt_name: 'levelUuid_deptUuid', org_level_uuid: this.company_uuid }\r\n    },\r\n    mrbase_sys_job_post_grades () {\r\n      return { prompt_name: 'mrbase_sys_job_post_grades', org_level_uuid: this.company_uuid }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./positions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./positions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./positions.vue?vue&type=template&id=d5772d86&scoped=true&\"\nimport script from \"./positions.vue?vue&type=script&lang=js&\"\nexport * from \"./positions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./positions.vue?vue&type=style&index=0&id=d5772d86&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d5772d86\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./positions.vue?vue&type=style&index=0&id=d5772d86&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./positions.vue?vue&type=style&index=0&id=d5772d86&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('positions',{attrs:{\"isreadonly\":false}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <positions :isreadonly='false'></positions>\r\n  </div>\r\n</template>\r\n \r\n<script>\r\nimport positions from './modules/positions'\r\nexport default {\r\n  components: {\r\n    positions\r\n  },\r\n  props: {},\r\n  data () {\r\n    return {\r\n\r\n    };\r\n  },\r\n  created () { },\r\n  mounted () { },\r\n  methods: {\r\n\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n}; \r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./newpositions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./newpositions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./newpositions.vue?vue&type=template&id=3841f0c2&scoped=true&\"\nimport script from \"./newpositions.vue?vue&type=script&lang=js&\"\nexport * from \"./newpositions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3841f0c2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}