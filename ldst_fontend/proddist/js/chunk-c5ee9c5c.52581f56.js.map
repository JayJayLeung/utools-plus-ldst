{"version":3,"sources":["webpack:///./src/service/api/admin_account_manage.js","webpack:///./src/views/admin_account_manage/modules/baseInfo.vue?a7d4","webpack:///src/views/admin_account_manage/modules/baseInfo.vue","webpack:///./src/views/admin_account_manage/modules/baseInfo.vue?c4f4","webpack:///./src/views/admin_account_manage/modules/baseInfo.vue","webpack:///./src/views/admin_account_manage/modules/funcSet.vue?a75f","webpack:///src/views/admin_account_manage/modules/funcSet.vue","webpack:///./src/views/admin_account_manage/modules/funcSet.vue?3136","webpack:///./src/views/admin_account_manage/modules/funcSet.vue","webpack:///./src/views/admin_account_manage/detail/index copy.vue?f25e","webpack:///src/views/admin_account_manage/detail/index copy.vue","webpack:///./src/views/admin_account_manage/detail/index copy.vue?ac06","webpack:///./src/views/admin_account_manage/detail/index copy.vue"],"names":["table","admin_account_list","params","Promise","resolve","reject","http","post","then","res","err","admin_account_add","admin_account_update","admin_account_reset","admin_account_disable","admin_account_info","admin_account_del","func_list","takeout_customer","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$t","disabled","model","value","callback","$$v","$set","expression","uuid","staticStyle","$errors","requiredRule","concat","maxLength","Boolean","staffs_uuid","judegNational","trim","style","color","$vuetify","theme","defaults","light","primary","position","top","cursor","on","resetPassword","_v","_e","sameAsKey","emailRule","mrbase_sys_clients","getSelectClients","computed_org_level_uuid","isBindStaffChange","isBindStaff","directives","name","rawName","bindStaffList","getSelectItem","loading","cancelText","successText","cancel","success","staticRenderFns","components","props","type","default","String","paramsData","Object","data","status","user_account","user_pwd","user_primary_email","org_level_uuid","confirmPassword","client_uuid","validations","required","email","computed","prompt_name","$store","state","currentCompany","get","indexOf","set","val","join","created","watch","handler","deep","methods","forEach","arr","item","f1","push","length","$v","$reset","f4","f5","f6","$touch","$error","$emit","component","ref","propsParams","treeList","isload","Array","ids","eleTree","$refs","roleTree","getCheckData","handleReturn","handleEdit","items","scopedSlots","_u","key","fn","submitLoading","success1","cancel1","proxy","mrbase_sys_function_permission","success2","unbind_staff_uuid","$myConfirm","$router","go"],"mappings":"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","file":"js/chunk-c5ee9c5c.52581f56.js","sourcesContent":["/*\r\n * @Description: 管理员账号管理 接口\r\n * @Autor: lwq\r\n * @Date: 2020-07-17 10:40:33\r\n * @LastEditors: lwq\r\n * @LastEditTime: 2020-07-17 18:16:41\r\n * @FilePath: \\mrc-base-server-view\\src\\service\\api\\admin_account_manage.js\r\n */\r\n\r\nimport http from '../httpConfig'\r\n\r\nconst table = 'mrbase_sys_users'\r\n\r\n/**\r\n * @description: 列表\r\n * @param {type} \r\n * @return: \r\n * @author: lwq\r\n */\r\nexport const admin_account_list = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/management/list-user/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n/**\r\n * @description: 新增\r\n * @param {type} \r\n * @return: \r\n * @author: lwq\r\n */\r\nexport const admin_account_add = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/management/add-user/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n/**\r\n * @description: 修改\r\n * @param {type} \r\n * @return: \r\n * @author: lwq\r\n */\r\nexport const admin_account_update = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/management/update-user/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n/**\r\n * @description: 重置\r\n * @param {type} \r\n * @return: \r\n * @author: lwq\r\n */\r\nexport const admin_account_reset = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/management/update-reset-password/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n/**\r\n * @description: 禁用\r\n * @param {type} \r\n * @return: \r\n * @author: lwq\r\n */\r\nexport const admin_account_disable = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/management/update-disable-account/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n/**\r\n * @description: 详情\r\n * @param {type} \r\n * @return: \r\n * @author: lwq\r\n */\r\nexport const admin_account_info = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/management/find-user/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n/**\r\n * @description: 删除\r\n * @param {type} \r\n * @return: \r\n * @author: lwq\r\n */\r\nexport const admin_account_del = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/management/delete-user/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n/**\r\n * @description: 功能权限列表\r\n * @param {interface} /api/role/list-function_role-clients/v1\r\n * @return: \r\n * @author: lwq\r\n */\r\n\r\nexport const func_list = (params = {}) => {\r\n  params['~table~'] = 'mrbase_sys_role'\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/role/list-function_role-clients/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n/**\r\n * @description: 根据人员带出客户\r\n * @param {interface} /api/management/find-staff-user/v1\r\n * @return: \r\n * @author: lwq\r\n */\r\n\r\nexport const takeout_customer = (params = {}) => {\r\n  params['~table~'] = 'mrbase_sys_staffs'\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/management/find-staff-user/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"pa-0\",attrs:{\"elevation\":0}},[_c('v-card-text',[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('mrc_ess_switch',{attrs:{\"true-value\":1,\"false-value\":0,\"true-text\":_vm.$t('label_To_enable_the'),\"readonly\":_vm.disabled,\"false-text\":_vm.$t('label_disable')},model:{value:(_vm.params.status),callback:function ($$v) {_vm.$set(_vm.params, \"status\", $$v)},expression:\"params.status\"}})],1)],1),_c('v-row',[_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\",\"sm\":_vm.params.uuid ? 6 : 12}},[_c('mrc_ess_multiText',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":_vm.$t('label_The_login_name') + '*',\"error-messages\":_vm.$errors('params','user_account',_vm.requiredRule.concat(_vm.maxLength(20))),\"disabled\":Boolean(_vm.params.staffs_uuid),\"isNational\":_vm.judegNational('user_account'),\"placeholder\":\"请输入登录名称\"},model:{value:(_vm.params.user_account),callback:function ($$v) {_vm.$set(_vm.params, \"user_account\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"params.user_account\"}})],1),_c('v-col',{staticClass:\"d-flex flex-column \",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('mrc_ess_multiText',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":_vm.$t('label_password') + '*',\"type\":\"password\",\"isNational\":_vm.judegNational('user_pwd'),\"placeholder\":\"请输入密码\",\"disabled\":Boolean(_vm.params.staffs_uuid),\"error-messages\":_vm.$errors('params','user_pwd',_vm.requiredRule)},model:{value:(_vm.params.user_pwd),callback:function ($$v) {_vm.$set(_vm.params, \"user_pwd\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"params.user_pwd\"}}),(_vm.params.uuid)?_c('span',{style:({color: _vm.$vuetify.theme.defaults.light.primary,position:'relative',top: '10px',cursor: 'pointer'}),on:{\"click\":_vm.resetPassword}},[_vm._v(\"重置密码\")]):_vm._e()],1),(!_vm.params.uuid)?_c('v-col',{staticClass:\"d-flex flex-column\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('mrc_ess_multiText',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":_vm.$t('label_Confirm_password') + '*',\"type\":\"password\",\"isNational\":_vm.judegNational('confirmPassword'),\"placeholder\":_vm.$t('label_Confirm_password'),\"disabled\":Boolean(_vm.params.staffs_uuid)||Boolean(_vm.params.uuid),\"error-messages\":_vm.$errors('params','confirmPassword',_vm.requiredRule.concat(_vm.sameAsKey('密码')))},model:{value:(_vm.params.confirmPassword),callback:function ($$v) {_vm.$set(_vm.params, \"confirmPassword\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"params.confirmPassword\"}})],1):_vm._e(),_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('mrc_ess_multiText',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":_vm.$t('label_Mailbox')+'*',\"error-messages\":_vm.$errors('params','user_primary_email',_vm.requiredRule.concat(_vm.emailRule)),\"isNational\":_vm.judegNational('user_primary_email'),\"disabled\":Boolean(_vm.params.staffs_uuid),\"placeholder\":_vm.$t('label_Mailbox')},model:{value:(_vm.params.user_primary_email),callback:function ($$v) {_vm.$set(_vm.params, \"user_primary_email\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"params.user_primary_email\"}})],1),_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('mrc_ess_prompt',{attrs:{\"obj\":_vm.mrbase_sys_clients,\"label\":_vm.$t('label_Associated_with_the_unit') + '*',\"multiple\":\"\",\"disabled\":_vm.disabled,\"placeholder\":_vm.$t('label_company_name')+'/'+_vm.$t('label_Short_code'),\"errMsg\":_vm.$errors('params','org_level_uuid',_vm.requiredRule)},on:{\"getSelectItem\":_vm.getSelectClients},model:{value:(_vm.computed_org_level_uuid),callback:function ($$v) {_vm.computed_org_level_uuid=$$v},expression:\"computed_org_level_uuid\"}})],1),_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-checkbox',{attrs:{\"dense\":\"\",\"readonly\":_vm.disabled,\"label\":_vm.$t('label_Binding_employees')},on:{\"change\":_vm.isBindStaffChange},model:{value:(_vm.isBindStaff),callback:function ($$v) {_vm.isBindStaff=$$v},expression:\"isBindStaff\"}})],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"12\",\"sm\":\"9\"}},[_c('mrc_ess_prompt',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isBindStaff),expression:\"isBindStaff\"}],attrs:{\"select_arr\":_vm.bindStaffList,\"label\":_vm.$t('label_Binding_employees'),\"disabled\":_vm.disabled,\"rules\":false,\"placeholder\":_vm.$t('label_Binding_employees')},on:{\"getSelectItem\":_vm.getSelectItem},model:{value:(_vm.params.staffs_uuid),callback:function ($$v) {_vm.$set(_vm.params, \"staffs_uuid\", $$v)},expression:\"params.staffs_uuid\"}})],1)],1)],1),(!_vm.disabled)?_c('mrc_ess_submitBtn',{attrs:{\"loading\":_vm.loading,\"cancelText\":_vm.cancelText || _vm.$t('label_cancel'),\"successText\":_vm.successText || _vm.$t('label_submit')},on:{\"cancel\":_vm.cancel,\"success\":_vm.success}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: 基本资料\r\n * @Autor: lwq\r\n * @Date: 2020-07-17 14:23:02\r\n * @LastEditors: Please set LastEditors\r\n * @LastEditTime: 2020-09-04 17:39:24\r\n * @FilePath: \\mrc-base-server-view\\src\\views\\admin_account_manage\\modules\\baseInfo.vue\r\n--> \r\n<template>\r\n  <v-card class=\"pa-0\"\r\n          :elevation=\"0\">\r\n    <v-card-text>\r\n      <v-row dense>\r\n        <v-col class=\"d-flex\"\r\n               cols=\"12\"\r\n               sm=\"3\">\r\n          <mrc_ess_switch :true-value=\"1\"\r\n                          :false-value=\"0\"\r\n                          v-model=\"params.status\"\r\n                          :true-text=\"$t('label_To_enable_the')\"\r\n                          :readonly='disabled'\r\n                          :false-text=\"$t('label_disable')\"></mrc_ess_switch>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <!-- <v-col cols=\"12\"\r\n               class=\"d-flex\"\r\n               :sm=\"params.uuid ? 6 : 12\">\r\n          <mrc_ess_input :label=\"$t('label_The_login_name') + '*'\"\r\n                         :error-messages=\"$errors('params','user_account',requiredRule.concat(maxLength(20)))\"\r\n                         @input=\"$v.params.user_account.$touch()\"\r\n                         @blur=\"$v.params.user_account.$touch()\"\r\n                         :disabled='Boolean(params.staffs_uuid)'\r\n                         v-model.trim=\"params.user_account\"\r\n                         placeholder='请输入登录名称'></mrc_ess_input>\r\n        </v-col>\r\n        <v-col cols=\"12\"\r\n               class=\"d-flex flex-column \"\r\n               sm=\"6\">\r\n\r\n          <mrc_ess_input :label=\"$t('label_password') + '*'\"\r\n                         type='password'\r\n                         @input=\"$v.params.user_pwd.$touch()\"\r\n                         @blur=\"$v.params.user_pwd.$touch()\"\r\n                         v-model.trim=\"params.user_pwd\"\r\n                         placeholder='请输入密码'\r\n                         :disabled='Boolean(params.staffs_uuid)'\r\n                         :error-messages=\"$errors('params','user_pwd',requiredRule)\"></mrc_ess_input>\r\n          <span v-if=\"params.uuid\"\r\n                @click=\"resetPassword\"\r\n                style=\"color: #ff8a00;position:relative;top: 10px;cursor: pointer\">重置密码</span>\r\n        </v-col>\r\n        <v-col cols=\"12\"\r\n               v-if=\"!params.uuid\"\r\n               class=\"d-flex flex-column \"\r\n               sm=\"6\">\r\n\r\n          <mrc_ess_input :label=\"$t('label_Confirm_password') + '*'\"\r\n                         type='password'\r\n                         @input=\"$v.params.confirmPassword.$touch()\"\r\n                         @blur=\"$v.params.confirmPassword.$touch()\"\r\n                         v-model.trim=\"params.confirmPassword\"\r\n                         placeholder='请再次输入密码'\r\n                         :disabled='Boolean(params.staffs_uuid)||Boolean(params.uuid)'\r\n                         :error-messages=\"$errors('params','confirmPassword',requiredRule.concat(sameAsKey('密码')))\"></mrc_ess_input>\r\n        </v-col>\r\n        <v-col cols=\"12\"\r\n               class=\"d-flex\"\r\n               sm=\"12\">\r\n\r\n          <mrc_ess_input label='电子邮箱*'\r\n                         :error-messages=\"$errors('params','user_primary_email',requiredRule.concat(emailRule))\"\r\n                         @input=\"$v.params.user_primary_email.$touch()\"\r\n                         @blur=\"$v.params.user_primary_email.$touch()\"\r\n                         v-model.trim=\"params.user_primary_email\"\r\n                         :disabled='Boolean(params.staffs_uuid)'\r\n                         placeholder='请输入电子邮箱'></mrc_ess_input>\r\n        </v-col> -->\r\n        <v-col cols=\"12\"\r\n               class=\"d-flex\"\r\n               :sm=\"params.uuid ? 6 : 12\">\r\n          <mrc_ess_multiText :label=\"$t('label_The_login_name') + '*'\"\r\n                             :error-messages=\"$errors('params','user_account',requiredRule.concat(maxLength(20)))\"\r\n                             :disabled='Boolean(params.staffs_uuid)'\r\n                             v-model.trim=\"params.user_account\"\r\n                             style='width:100%'\r\n                             :isNational=\"judegNational('user_account')\"\r\n                             placeholder='请输入登录名称'></mrc_ess_multiText>\r\n        </v-col>\r\n        <v-col cols=\"12\"\r\n               class=\"d-flex flex-column \"\r\n               sm=\"6\">\r\n\r\n          <mrc_ess_multiText :label=\"$t('label_password') + '*'\"\r\n                             type='password'\r\n                             v-model.trim=\"params.user_pwd\"\r\n                             style='width:100%'\r\n                             :isNational=\"judegNational('user_pwd')\"\r\n                             placeholder='请输入密码'\r\n                             :disabled='Boolean(params.staffs_uuid)'\r\n                             :error-messages=\"$errors('params','user_pwd',requiredRule)\"></mrc_ess_multiText>\r\n          <span v-if=\"params.uuid\"\r\n                @click=\"resetPassword\"\r\n                :style=\"{color: $vuetify.theme.defaults.light.primary,position:'relative',top: '10px',cursor: 'pointer'}\">重置密码</span>\r\n        </v-col>\r\n        <v-col cols=\"12\"\r\n               v-if=\"!params.uuid\"\r\n               class=\"d-flex flex-column\"\r\n               sm=\"6\">\r\n\r\n          <mrc_ess_multiText :label=\"$t('label_Confirm_password') + '*'\"\r\n                             type='password'\r\n                             v-model.trim=\"params.confirmPassword\"\r\n                             style='width:100%'\r\n                             :isNational=\"judegNational('confirmPassword')\"\r\n                             :placeholder=\"$t('label_Confirm_password')\"\r\n                             :disabled='Boolean(params.staffs_uuid)||Boolean(params.uuid)'\r\n                             :error-messages=\"$errors('params','confirmPassword',requiredRule.concat(sameAsKey('密码')))\"></mrc_ess_multiText>\r\n        </v-col>\r\n        <v-col cols=\"12\"\r\n               class=\"d-flex\"\r\n               sm=\"12\">\r\n\r\n          <mrc_ess_multiText :label=\"$t('label_Mailbox')+'*'\"\r\n                             :error-messages=\"$errors('params','user_primary_email',requiredRule.concat(emailRule))\"\r\n                             v-model.trim=\"params.user_primary_email\"\r\n                             style='width:100%'\r\n                             :isNational=\"judegNational('user_primary_email')\"\r\n                             :disabled='Boolean(params.staffs_uuid)'\r\n                             :placeholder=\"$t('label_Mailbox')\"></mrc_ess_multiText>\r\n        </v-col>\r\n        <v-col cols=\"12\"\r\n               class=\"d-flex\"\r\n               sm=\"12\">\r\n          <mrc_ess_prompt :obj='mrbase_sys_clients'\r\n                          :label=\"$t('label_Associated_with_the_unit') + '*'\"\r\n                          multiple\r\n                          @getSelectItem='getSelectClients'\r\n                          :disabled='disabled'\r\n                          :placeholder=\"$t('label_company_name')+'/'+$t('label_Short_code')\"\r\n                          :errMsg=\"$errors('params','org_level_uuid',requiredRule)\"\r\n                          v-model=\"computed_org_level_uuid\"></mrc_ess_prompt>\r\n        </v-col>\r\n        <v-col cols=\"12\"\r\n               class=\"d-flex\"\r\n               sm=\"3\">\r\n          <v-checkbox dense\r\n                      :readonly=\"disabled\"\r\n                      @change=\"isBindStaffChange\"\r\n                      v-model=\"isBindStaff\"\r\n                      :label=\"$t('label_Binding_employees')\"></v-checkbox>\r\n\r\n        </v-col>\r\n        <v-col cols=\"12\"\r\n               sm=\"9\"\r\n               class=\"py-0\">\r\n          <mrc_ess_prompt :select_arr='bindStaffList'\r\n                          @getSelectItem='getSelectItem'\r\n                          v-show='isBindStaff'\r\n                          :label=\"$t('label_Binding_employees')\"\r\n                          :disabled='disabled'\r\n                          :rules='false'\r\n                          :placeholder=\"$t('label_Binding_employees')\"\r\n                          v-model=\"params.staffs_uuid\"></mrc_ess_prompt>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card-text>\r\n    <mrc_ess_submitBtn @cancel='cancel'\r\n                       v-if=\"!disabled\"\r\n                       :loading='loading'\r\n                       @success='success'\r\n                       :cancelText=\"cancelText || $t('label_cancel')\"\r\n                       :successText=\"successText || $t('label_submit')\"></mrc_ess_submitBtn>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { required, email, maxLength, sameAs } from 'vuelidate/lib/validators'\r\nimport { admin_account_reset } from '@/service/api/admin_account_manage'\r\nimport { getBusinessList } from '@/service/api/prompt'\r\nexport default {\r\n  components: {},\r\n  props: {\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    cancelText: {\r\n      type: String\r\n    },\r\n    successText: {\r\n      type: String\r\n    },\r\n    paramsData: {\r\n      type: Object\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      isBindStaff: false,\r\n      params: {\r\n        status: 1,\r\n        user_account: '',\r\n        user_pwd: '',\r\n        user_primary_email: '',\r\n        org_level_uuid: '',\r\n        confirmPassword: '',\r\n        staffs_uuid: '',\r\n        client_uuid: ''\r\n      },\r\n      bindStaffList: []\r\n    };\r\n  },\r\n  validations: {\r\n    params: {\r\n      confirmPassword: {\r\n        required (val) {\r\n          if (this.params.uuid) return true\r\n          else return val.length > 0\r\n        },\r\n        sameAsKey (val) {\r\n          if (this.params.uuid) return true\r\n          else return val == this.params.user_pwd\r\n        }\r\n      },\r\n      user_account: {\r\n        required,\r\n        maxLength: maxLength(20)\r\n      },\r\n      user_pwd: {\r\n        required\r\n      },\r\n      user_primary_email: {\r\n        required,\r\n        email\r\n      },\r\n      org_level_uuid: {\r\n        required\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    mrbase_sys_clients () {\r\n      return {\r\n        prompt_name: 'org_level_for_clients',\r\n        client_uuid: this.$store.state.currentCompany\r\n      }\r\n    },\r\n    computed_org_level_uuid: {\r\n      get () {\r\n        if (this.params.org_level_uuid) {\r\n          return this.params.org_level_uuid.indexOf(',') > -1\r\n            ?\r\n            this.params.org_level_uuid.split(',')\r\n            :\r\n            [this.params.org_level_uuid]\r\n        } else {\r\n          return []\r\n        }\r\n      },\r\n      set (val) {\r\n        this.params.org_level_uuid = val.join()\r\n      }\r\n    }\r\n  },\r\n  created () { },\r\n  watch: {\r\n    paramsData: {\r\n      handler (val) {\r\n        this.params = val\r\n        this.params.staffs_uuid ? this.isBindStaff = true : this.isBindStaff = false\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  async mounted () {\r\n    if (this.paramsData) {\r\n      this.params = this.paramsData\r\n      this.params.staffs_uuid ? this.isBindStaff = true : this.isBindStaff = false\r\n    }\r\n    this.getPrompt()\r\n  },\r\n\r\n  methods: {\r\n    getSelectClients (val) {\r\n      let arr = []\r\n      val.forEach(item => {\r\n        if (arr.indexOf(item.f1) <= -1) {\r\n          arr.push(item.f1)\r\n        }\r\n      })\r\n      if (arr.length > 0) {\r\n        this.params.client_uuid = arr.join()\r\n      } else {\r\n        this.params.client_uuid = ''\r\n      }\r\n    },\r\n    isBindStaffChange (val) {\r\n      if (!val) {\r\n        this.params.user_account = ''\r\n        this.params.user_pwd = ''\r\n        this.params.confirmPassword = ''\r\n        this.params.user_primary_email = ''\r\n        this.params.staffs_uuid = ''\r\n        this.$v.params.$reset()\r\n      }\r\n    },\r\n    getSelectItem (val) {\r\n      this.params.user_account = val.f4\r\n      this.params.user_pwd = val.f5\r\n      this.params.confirmPassword = val.f5\r\n      this.params.user_primary_email = val.f6\r\n    },\r\n    async getPrompt () {\r\n      const res = await getBusinessList(\r\n        {\r\n          prompt_name: 'levels-staffs',\r\n          org_level_uuid: this.$store.state.currentCompany,\r\n          staffs_uuid: this.params.staffs_uuid\r\n        })\r\n      if (res.code == 200) {\r\n        this.bindStaffList = res.data\r\n      }\r\n    },\r\n    success () {\r\n      this.$v.params.$touch()\r\n      if (this.$v.params.$error) return\r\n      if (!this.isBindStaff) {\r\n        this.params.staffs_uuid = ''\r\n      }\r\n      this.$emit('success', this.params)\r\n    },\r\n    cancel () {\r\n      this.$emit('cancel')\r\n    },\r\n    async resetPassword () {\r\n      const reset = await admin_account_reset({ uuid: this.params.uuid })\r\n      if (reset.code == 200) {\r\n        this.$Message({ text: this.$t('message_The_operation_was_successful') })\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./baseInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./baseInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./baseInfo.vue?vue&type=template&id=2212d3c2&scoped=true&\"\nimport script from \"./baseInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./baseInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2212d3c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card-text',[_c('mrc_ess_mytree',{ref:\"roleTree\",attrs:{\"uuids\":_vm.propsParams,\"list\":_vm.treeList,\"disabled\":_vm.disabled,\"isload\":_vm.isload}}),(!_vm.disabled)?_c('mrc_ess_submitBtn',{attrs:{\"cancelText\":_vm.cancelText || _vm.$t('label_cancel'),\"successText\":_vm.successText || _vm.$t('label_submit')},on:{\"cancel\":_vm.cancel,\"success\":_vm.success}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: 功能权限设置\r\n * @Autor: lwq\r\n * @Date: 2020-07-17 14:23:29\r\n * @LastEditors: lwq\r\n * @LastEditTime: 2020-07-31 15:28:22\r\n * @FilePath: \\mrc-base-server-view\\src\\views\\admin_account_manage\\modules\\funcSet.vue\r\n--> \r\n<template>\r\n  <v-card-text>\r\n    <mrc_ess_mytree ref=\"roleTree\"\r\n                    :uuids='propsParams'\r\n                    :list='treeList'\r\n                    :disabled='disabled'\r\n                    :isload='isload'>\r\n    </mrc_ess_mytree>\r\n    <mrc_ess_submitBtn v-if=\"!disabled\"\r\n                       @cancel='cancel'\r\n                       @success='success'\r\n                       :cancelText=\"cancelText || $t('label_cancel')\"\r\n                       :successText=\"successText || $t('label_submit')\"></mrc_ess_submitBtn>\r\n  </v-card-text>\r\n</template>\r\n\r\n<script>\r\n// import { func_list } from '@/service/api/role'\r\nimport { func_list } from '@/service/api/admin_account_manage'\r\nexport default {\r\n  components: {},\r\n  props: {\r\n    disabled: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    propsParams: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    cancelText: {\r\n      type: String\r\n    },\r\n    successText: {\r\n      type: String\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      isload: false,\r\n      treeList: [],\r\n      ids: []\r\n    };\r\n  },\r\n  created () { },\r\n  async mounted () {\r\n    this.isload = false\r\n    await this.getFuncList()\r\n    this.isload = true\r\n  },\r\n  methods: {\r\n    eleTree () {\r\n      return this.$refs.roleTree.getCheckData()\r\n    },\r\n    /**\r\n     * @description: 获取树结构\r\n     * @param {type} \r\n     * @return: \r\n     * @author: lwq\r\n     */\r\n\r\n    async getFuncList () {\r\n      const list = await func_list()\r\n      if (list.code == 200) {\r\n        this.treeList = list.data\r\n      }\r\n    },\r\n    cancel () {\r\n      this.$emit('cancel')\r\n    },\r\n    success () {\r\n      this.$emit('success', this.$refs.roleTree.getCheckData())\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./funcSet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./funcSet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./funcSet.vue?vue&type=template&id=b803b8ac&scoped=true&\"\nimport script from \"./funcSet.vue?vue&type=script&lang=js&\"\nexport * from \"./funcSet.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b803b8ac\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('mrc_ess_skLoaders',{attrs:{\"skLoading\":_vm.loading}},[_c('div',[_c('mrc_ess_iconGroup',{attrs:{\"is_disabled\":_vm.disabled,\"show_del\":false},on:{\"handleReturn\":_vm.handleReturn,\"handleEdit\":_vm.handleEdit}}),_c('mrc_ess_tabs',{attrs:{\"items\":_vm.items},scopedSlots:_vm._u([{key:\"content-1\",fn:function(){return [_c('base-info',{ref:\"baseInfo\",attrs:{\"disabled\":_vm.disabled,\"loading\":_vm.submitLoading,\"paramsData\":_vm.params},on:{\"success\":_vm.success1,\"cancel\":_vm.cancel1}})]},proxy:true},{key:\"content-2\",fn:function(){return [_c('func-set',{ref:\"funcSet\",attrs:{\"disabled\":_vm.disabled,\"loading\":_vm.submitLoading,\"propsParams\":_vm.mrbase_sys_function_permission},on:{\"success\":_vm.success2,\"cancel\":_vm.cancel1}})]},proxy:true}])})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: 管理员账号详情\r\n * @Autor: lwq\r\n * @Date: 2020-07-17 10:05:51\r\n * @LastEditors: Please set LastEditors\r\n * @LastEditTime: 2020-09-04 17:38:00\r\n * @FilePath: \\mrc-base-server-view\\src\\views\\admin_account_manage\\detail\\index.vue\r\n--> \r\n<template>\r\n  <mrc_ess_skLoaders :skLoading='loading'>\r\n    <div>\r\n      <mrc_ess_iconGroup :is_disabled=\"disabled\"\r\n                         :show_del='false'\r\n                         @handleReturn='handleReturn'\r\n                         @handleEdit='handleEdit'></mrc_ess_iconGroup>\r\n      <mrc_ess_tabs :items='items'>\r\n        <template v-slot:content-1>\r\n          <base-info @success='success1'\r\n                     :disabled='disabled'\r\n                     ref=\"baseInfo\"\r\n                     :loading='submitLoading'\r\n                     :paramsData='params'\r\n                     @cancel='cancel1'></base-info>\r\n        </template>\r\n        <template v-slot:content-2>\r\n          <func-set @success='success2'\r\n                    :disabled='disabled'\r\n                    :loading='submitLoading'\r\n                    ref=\"funcSet\"\r\n                    :propsParams='mrbase_sys_function_permission'\r\n                    @cancel='cancel1'></func-set>\r\n        </template>\r\n      </mrc_ess_tabs>\r\n\r\n    </div>\r\n  </mrc_ess_skLoaders>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { required } from 'vuelidate/lib/validators'\r\nimport baseInfo from '../modules/baseInfo'\r\nimport funcSet from '../modules/funcSet'\r\nimport { admin_account_info, admin_account_update } from '@/service/api/admin_account_manage'\r\nexport default {\r\n  components: { baseInfo, funcSet },\r\n  props: {},\r\n  data () {\r\n    return {\r\n      disabled: true,\r\n      params: {},\r\n      mrbase_sys_function_permission: [],\r\n      loading: false,\r\n      submitLoading: false,\r\n      unbind_staff_uuid: ''\r\n    };\r\n  },\r\n  validations: {},\r\n  computed: {\r\n    items () {\r\n      return [this.$t('label_Basic_information'), this.$t('label_Functional_authority')]\r\n    },\r\n  },\r\n  created () { },\r\n  watch: {},\r\n  async mounted () {\r\n    await this.national('mrbase_sys_users')\r\n    this.$nextTick(async () => {\r\n      this.loading = true\r\n      const uuid = this.$route.params.uuid || this.$store.state.uuid\r\n      const name = this.$route.params.name || this.$store.state.subPage_name\r\n      this.$route.meta.name = name\r\n      this.params.uuid = uuid\r\n      await this.getInfo()\r\n      this.loading = false\r\n    })\r\n  },\r\n\r\n  methods: {\r\n    async success1 (val) {\r\n      // console.log(val)\r\n      this.params = Object.assign({}, val)\r\n      if (this.$refs.funcSet) {\r\n        this.mrbase_sys_function_permission = this.$refs.funcSet.eleTree()\r\n      }\r\n      await this.update()\r\n    },\r\n    cancel1 () {\r\n      this.$myConfirm({ content: this.$t('message_Confirm_the_cancellation_of_the_edit') })\r\n        .then(async () => {\r\n          this.disabled = !this.disabled\r\n          await this.getInfo()\r\n        }).catch(() => { })\r\n    },\r\n    async success2 (val) {\r\n      this.$refs.baseInfo.success()\r\n      // this.mrbase_sys_function_permission = val\r\n      // await this.update()\r\n    },\r\n    async update () {\r\n      let obj = {}\r\n      if (this.params.staffs_uuid) {\r\n        obj = Object.assign(\r\n          {},\r\n          {\r\n            mrbase_sys_function_permission: this.mrbase_sys_function_permission ? this.mrbase_sys_function_permission : [],\r\n            org_level_uuid: this.$store.state.userData.org_level_uuid\r\n          },\r\n          this.params)\r\n      } else {\r\n        obj = Object.assign(\r\n          {},\r\n          {\r\n            mrbase_sys_function_permission: this.mrbase_sys_function_permission ? this.mrbase_sys_function_permission : [],\r\n            org_level_uuid: this.$store.state.userData.org_level_uuid\r\n          },\r\n          this.params, { unbind_staff_uuid: this.unbind_staff_uuid })\r\n\r\n      }\r\n      this.submitLoading = true\r\n      const res = await admin_account_update(obj)\r\n      if (res.code == 200) {\r\n        this.$Message({ text: this.$t('message_The_operation_was_successful') })\r\n        this.$router.go(-1)\r\n      }\r\n      this.submitLoading = false\r\n    },\r\n    handleReturn () {\r\n      this.$router.go(-1)\r\n    },\r\n    handleEdit () {\r\n      this.disabled = !this.disabled\r\n    },\r\n    async getInfo () {\r\n      const res = await admin_account_info({\r\n        uuid: this.params.uuid\r\n      })\r\n      if (res.code == 200) {\r\n        this.unbind_staff_uuid = res.data.staffs_uuid\r\n        const {\r\n          status,\r\n          user_account,\r\n          user_pwd,\r\n          user_primary_email,\r\n          clients_uuid,\r\n          user_name,\r\n          staffs_uuid,\r\n          uuid,\r\n          org_level_uuid\r\n        } = res.data\r\n        this.params = Object.assign({}, {\r\n          status,\r\n          user_account,\r\n          user_pwd,\r\n          user_primary_email,\r\n          clients_uuid,\r\n          user_name,\r\n          staffs_uuid,\r\n          uuid,\r\n          confirmPassword: '',\r\n          org_level_uuid\r\n        })\r\n\r\n        this.mrbase_sys_function_permission = res.mrbase_sys_function_permission\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index copy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index copy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index copy.vue?vue&type=template&id=6dbbc75c&scoped=true&\"\nimport script from \"./index copy.vue?vue&type=script&lang=js&\"\nexport * from \"./index copy.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dbbc75c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}