(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32abfce1","chunk-2d2132ce"],{"46ec":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("mrc_ess_skLoaders",{attrs:{skLoading:e.skLoading}},[r("div",[r("mrc_ess_iconGroup",{attrs:{is_disabled:e.disabled,show_del:!1},on:{handleReturn:e.handleReturn,handleEdit:e.handleEdit,handleDel:e.handleDel}}),r("v-card",[r("v-card-text",[r("v-row",{attrs:{dense:""}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("mrc_ess_multiText",{staticStyle:{width:"100%"},attrs:{"error-messages":e.$errors("params","org_level_name",e.requiredRule.concat(e.maxLength(20))),readonly:e.disabled,label:e.$t("label_Department_name")+"*",isNational:e.judegNational("org_level_name")},model:{value:e.params.org_level_name,callback:function(t){e.$set(e.params,"org_level_name",t)},expression:"params.org_level_name"}})],1),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("mrc_ess_multiText",{staticStyle:{width:"100%"},attrs:{"error-messages":e.$errors("params","org_level_shortcode",e.requiredRule.concat(e.maxLength(20))),readonly:e.disabled,label:e.$t("label_Short_code")+"*",isNational:e.judegNational("org_level_shortcode")},model:{value:e.params.org_level_shortcode,callback:function(t){e.$set(e.params,"org_level_shortcode",t)},expression:"params.org_level_shortcode"}})],1),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"12"}},[r("mrc_ess_prompt",{attrs:{errMsg:e.$errors("params","org_level_code_parent",e.requiredRule),disabled:!!e.$store.state.uuid2||e.disabled,rules:!1,label:e.$t("label_Higher_office")+"*",chips:!1,obj:e.deparentmentParent},on:{getData:function(t){e.params.org_level_leader_uuid=""}},model:{value:e.params.org_level_code_parent,callback:function(t){e.$set(e.params,"org_level_code_parent",t)},expression:"params.org_level_code_parent"}})],1),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"12"}},[r("mrc_ess_prompt",{attrs:{disabled:e.disabled,rules:!1,label:e.$t("label_Department_head"),chips:!1,noDataText:"请选择上级部门/公司",obj:e.leaderObj},model:{value:e.params.org_level_leader_uuid,callback:function(t){e.$set(e.params,"org_level_leader_uuid",t)},expression:"params.org_level_leader_uuid"}})],1),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"12"}},[r("v-text-field",{attrs:{"error-messages":e.$errors("params","sequence",e.requiredRule.concat(e.between("1-99"))),readonly:e.disabled,label:e.$t("label_The_sorting")+"*"},on:{input:function(t){return e.$v.params.sequence.$touch()},blur:function(t){return e.$v.params.sequence.$touch()}},model:{value:e.params.sequence,callback:function(t){e.$set(e.params,"sequence",e._n(t))},expression:"params.sequence"}})],1)],1)],1),e.disabled?e._e():r("v-card-actions",[r("mrc_ess_submitBtn",{on:{cancel:e.cancel,success:e.success}})],1)],1)],1)])},n=[],s=(r("96cf"),r("1da1")),o=r("b5ae"),i=r("ac0f"),l={components:{},props:{},data:function(){return{skLoading:!0,disabled:!0,params:{uuid:"",sequence:1,org_level_leader_uuid:"",org_level_code_parent:"",org_level_name:"",org_level_shortcode:""}}},validations:{params:{sequence:{required:o["required"],between:Object(o["between"])(1,99)},org_level_code_parent:{required:o["required"]},org_level_name:{required:o["required"],maxLength:Object(o["maxLength"])(20)},org_level_shortcode:{required:o["required"],maxLength:Object(o["maxLength"])(20)}}},created:function(){},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.state.iconstatus||(this.disabled=!1),e.next=3,this.national("mrbase_sys_org_levels");case 3:if(this.skLoading=!0,t=this.$route.params.uuid||this.$store.state.uuid2,!t){e.next=13;break}return this.params.uuid=t,r=this.$store.getters.subPage_name,this.$route.meta.title=r,e.next=11,this.getData();case 11:e.next=15;break;case 13:this.disabled=!1,this.$route.meta.title="add";case 15:this.skLoading=!1;case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getData:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["departmentData"])({uuid:this.params.uuid});case 2:t=e.sent,200==t.code&&(this.params.uuid=t.data.uuid,this.params.sequence=t.data.sequence,this.params.org_level_leader_uuid=t.data.org_level_leader_uuid,this.params.org_level_code_parent=t.data.org_level_code_parent,this.params.org_level_name=t.data.org_level_name,this.params.org_level_shortcode=t.data.org_level_shortcode);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){var e,t=this;e=this.params.uuid?"放弃修改":"放弃新增",this.$myConfirm({content:e}).then((function(){t.$router.go(-1)}))["catch"]((function(){}))},success:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$v.params.$touch(),!this.$v.params.$error){e.next=3;break}return e.abrupt("return");case 3:if(!this.params.uuid){e.next=10;break}return e.next=6,Object(i["updateDepartment"])(this.params);case 6:t=e.sent,200==t.code&&(this.$store.commit("newsTips",this.$t("message_The_operation_was_successful")),this.$router.go(-1)),e.next=14;break;case 10:return e.next=12,Object(i["addDepartment"])(this.params);case 12:r=e.sent,200==r.code&&(this.$store.commit("newsTips",this.$t("message_added_successfully")),this.$router.go(-1));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleReturn:function(){this.$router.go(-1)},handleEdit:function(){this.disabled=!this.disabled},handleDel:function(){var e=this;this.$myConfirm({content:this.$t("message_Confirm_the_deletion")}).then(Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["delDepartment"])({uuid:e.params.uuid});case 2:r=t.sent,200==r.code&&e.$store.commit("newsTips","删除成功");case 4:case"end":return t.stop()}}),t,this)}))))["catch"]((function(){}))}},computed:{leaderObj:function(){return{prompt_name:"dept-leader",org_level_code:this.params.org_level_code_parent}},deparentmentParent:function(){return{prompt_name:"level_dept",org_level_code:this.$store.state.orgLevelCode}}},watch:{}},c=l,u=r("2877"),d=Object(u["a"])(c,a,n,!1,null,"2f611331",null);t["default"]=d.exports},ac0f:function(e,t,r){"use strict";r.r(t),r.d(t,"getList",(function(){return s})),r.d(t,"departmentData",(function(){return o})),r.d(t,"addDepartment",(function(){return i})),r.d(t,"updateDepartment",(function(){return l})),r.d(t,"delDepartment",(function(){return c}));r("d3b7");var a=r("efc9"),n="mrbase_sys_org_levels",s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=n,new Promise((function(t,r){a["default"].post("/api/org/levels/list-department/v1",e).then((function(e){t(e)}))["catch"]((function(e){r(e)}))}))},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=n,new Promise((function(t,r){a["default"].post("/api/org/levels/find-department/v1",e).then((function(e){t(e)}))["catch"]((function(e){r(e)}))}))},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=n,new Promise((function(t,r){a["default"].post("/api/org/levels/add-department/v1",e).then((function(e){t(e)}))["catch"]((function(e){r(e)}))}))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=n,new Promise((function(t,r){a["default"].post("/api/org/levels/update-department/v1",e).then((function(e){t(e)}))["catch"]((function(e){r(e)}))}))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=n,new Promise((function(t,r){a["default"].post("/api/org/levels/delete-department/v1",e).then((function(e){t(e)}))["catch"]((function(e){r(e)}))}))}}}]);
//# sourceMappingURL=chunk-32abfce1.3d54b2f2.js.map