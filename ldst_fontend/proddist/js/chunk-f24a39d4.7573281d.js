(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f24a39d4","chunk-2d0d6eb6"],{"4e4d":function(e,t,n){},"6b0e":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",[n("v-card",[n("v-card-title",[n("mrc_ess_switch",{attrs:{"true-value":"1","false-value":"0",readonly:e.readonly,"true-text":e.$t("label_To_enable_the"),"false-text":e.$t("label_disable")},model:{value:e.levelcomponentslist.is_used,callback:function(t){e.$set(e.levelcomponentslist,"is_used",t)},expression:"levelcomponentslist.is_used"}})],1),n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("mrc_ess_multiText",{attrs:{label:e.$t("label_Group_name")+"*",isNational:e.judegNational("group_name"),readonly:e.readonly,"error-messages":e.$errors("levelcomponentslist","group_name",e.maxLength(30).concat(e.requiredRule))},model:{value:e.levelcomponentslist.group_name,callback:function(t){e.$set(e.levelcomponentslist,"group_name",t)},expression:"levelcomponentslist.group_name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("mrc_ess_prompt",{attrs:{label:e.$t("label_company")+"*",disabled:e.readonly,multiple:!0,errMsg:e.$errors(null,"units",e.requiredRule),obj:e.unit},model:{value:e.units,callback:function(t){e.units=t},expression:"units"}})],1)],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,"sort-by":"calories","hide-default-footer":""},scopedSlots:e._u([{key:"item.actions",fn:function(t){var s=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(s)}}},[e._v(" mdi-pencil ")]),n("v-icon",{attrs:{small:"",disabled:e.readonly},on:{click:function(t){return e.deleteItem(s)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){},proxy:!0},{key:"footer",fn:function(){return[n("v-divider"),e.readonly?e._e():n("span",{staticClass:"mt-1 pb-1 d-flex ml-5",on:{click:e.editItem}},[n("span",{staticStyle:{color:"#0F46C1","line-height":"28px","font-size":"12px"}},[e._v(e._s(e.$t("label_A_new_level")))]),n("v-icon",{staticClass:"material-icons",staticStyle:{color:"#0F46C1","font-size":"22px"}},[e._v("add")])],1)]},proxy:!0}])})],1),n("mrc_ess_submitBtn",{attrs:{loading:e.btnIsLoading},on:{success:e.success,cancel:e.cancel}})],1),n("mrc_ess_myDialog",{attrs:{title:e.$t("label_A_new_level"),disabled:!e.readonly},on:{success:e.save,cancel:e.close},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card-text",[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("mrc_ess_multiText",{attrs:{isNational:e.judegNational("job_grade_name"),readonly:e.readonly,"error-messages":e.$errors("editedItem","job_grade_name",e.maxLength(30).concat(e.requiredRule)),label:e.$t("label_The_name_of_the_hierarchy")+"*"},model:{value:e.editedItem.job_grade_name,callback:function(t){e.$set(e.editedItem,"job_grade_name",t)},expression:"editedItem.job_grade_name"}})],1),n("v-col",{attrs:{cols:"12"}},[n("mrc_ess_NumInput",{attrs:{readonly:e.readonly,label:e.$t("label_The_hierarchy")+"*","error-messages":e.$errors("editedItem","job_grade_class",e.between("1-50"))},model:{value:e.editedItem.job_grade_class,callback:function(t){e.$set(e.editedItem,"job_grade_class",t)},expression:"editedItem.job_grade_class"}})],1),n("v-col",{attrs:{cols:"12"}},[n("mrc_ess_multiText",{attrs:{isNational:e.judegNational("remark"),readonly:e.readonly,label:e.$t("label_note")},model:{value:e.editedItem.remark,callback:function(t){e.$set(e.editedItem,"remark",t)},expression:"editedItem.remark"}})],1),n("v-col",{attrs:{cols:"12"}},[n("mrc_ess_NumInput",{attrs:{readonly:!e.readonly,"error-messages":e.$errors("editedItem","sequence",e.between("1-50")),label:e.$t("label_The_sorting")+"*"},model:{value:e.editedItem.sequence,callback:function(t){e.$set(e.editedItem,"sequence",t)},expression:"editedItem.sequence"}})],1)],1)],1)],1)],1)},a=[],o=(n("99af"),n("c975"),n("a15b"),n("d81d"),n("a434"),n("b64b"),n("ac1f"),n("1276"),n("2909")),r=n("5530"),i=(n("96cf"),n("1da1")),l=n("b5ae"),d=n("7535"),c={components:{},props:{readonly:{type:Boolean,default:!1}},watch:{},data:function(){return{btnIsLoading:!1,company_uuid:"",switch1:1,levelcomponentslist:{org_level_uuid:"",group_name:"",mrbase_sys_job_post_grades:[{sequence:"",job_grade_class:"",job_grade_shortcode:"",job_grade_name:"",remark:""}],is_used:"1"},dialog:!1,deletePostmanagement:[],desserts:[],editedIndex:-1,editedItem:{job_grade_name:"",job_grade_class:0,remark:0,sequence:0},defaultItem:{job_grade_name:"",job_grade_class:0,remark:0,sequence:0},unit:null,units:[]}},validations:{levelcomponentslist:{group_name:{maxLength:Object(l["maxLength"])(30),required:l["required"]}},editedItem:{job_grade_name:{maxLength:Object(l["maxLength"])(30),required:l["required"]},job_grade_class:{between:Object(l["between"])(1,50)},remark:{maxLength:Object(l["maxLength"])(500)},sequence:{between:Object(l["between"])(1,50)}},units:{required:l["required"]}},created:function(){},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.national("mrbase_sys_job_post_grades");case 2:t=JSON.parse(localStorage.getItem("userData")).uuid,this.unit={prompt_name:"org_levels_manager_filter_company",user_uuid:t},this.$route.params.uuid&&(this.$route.meta.title=this.$store.state.subPage_name,this.initialize());case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{typedelmethods:function(e,t,n){for(var s=[],a=0;a<e.length;a++){for(var o=e[a].comparisonvalue,i=!1,l=0;l<t.length;l++)if(t[l].comparisonvalue==o){i=!0;break}i||s.push(Object(r["a"])(Object(r["a"])({},e[a]),{},{"~type~":"del"}))}return s},success:function(){var e=this;this.$v.levelcomponentslist.$touch(),this.$v.$touch(),this.$v.levelcomponentslist.$error||(this.btnIsLoading=!0,this.desserts.map((function(e){return delete e.isTrusted,e})),this.levelcomponentslist.org_level_uuid=this.units.join(),this.$route.params.uuid||this.$store.state.uuid?(this.levelcomponentslist.mrbase_sys_job_post_grades=[].concat(Object(o["a"])(this.desserts),Object(o["a"])(this.deletePost)).map((function(e){return delete e.created_by,delete e.updated_utc_datetime,delete e.updated_by,delete e.created_utc_datetime,delete e.job_grade_id,e["~table~"]="mrbase_sys_job_post_grades",e})),Object(d["update_postgrades_group"])(this.levelcomponentslist).then((function(t){"200"===t.code?e.$router.push({name:"Post_level_management"}):(e.$myConfirm({content:e.$t("message_The_modification_failed")}),e.btnIsLoading=!1)}))):(this.levelcomponentslist.mrbase_sys_job_post_grades=this.desserts,Object(d["add_postgrades_group"])(this.levelcomponentslist).then((function(t){200==t.code?e.$router.push({name:"Post_level_management"}):(e.$myConfirm({content:e.$t("message_Add_failed")}),e.btnIsLoading=!1)}))))},cancel:function(){this.$router.push({name:"Post_level_management"})},initialize:function(){var e=this;Object(d["get_postgrades_groupdetail"])({group_name:this.$route.params.groupName}).then((function(t){e.levelcomponentslist=t.data,e.units=t.data.org_level_uuid.length>0?t.data.org_level_uuid.split(","):[],e.desserts=e.levelcomponentslist.mrbase_sys_job_post_grades}))},editItem:function(e){this.$v.editedItem.$reset(),Object.keys(e)&&(this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e)),this.dialog=!0},deleteItem:function(e){var t=this,n=this.desserts.indexOf(e);this.$myConfirm({content:this.$t("message_Confirm_the_deletion")}).then((function(){var e=t.desserts.splice(n,1);(e[0].uuid||e[0].client_uuid)&&t.deletePostmanagement.push(e[0])}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.$v.editedItem.$touch(),this.$v.editedItem.$error||(this.editedIndex>-1?Object.assign(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close())}},computed:{headers:function(){return[{text:this.$t("label_The_name_of_the_hierarchy"),align:"start",sortable:!1,value:"job_grade_name"},{text:this.$t("label_The_hierarchy"),sortable:!1,value:"job_grade_class"},{text:this.$t("label_note"),sortable:!1,value:"remark"},{text:this.$t("label_The_sorting"),value:"sequence"},{text:"Actions",value:"actions",sortable:!1}]},deletePost:function(){return this.deletePostmanagement.length>0?this.deletePostmanagement.map((function(e){return Object(r["a"])(Object(r["a"])({},e),{},{"~type~":"del"})})):[]},companyName:function(){return this.company_uuid=JSON.parse(localStorage.getItem("userData")).currentCompany.uUID},formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}}},u=c,m=(n("c6c2"),n("2877")),_=Object(m["a"])(u,s,a,!1,null,"10d3ba86",null);t["default"]=_.exports},7535:function(e,t,n){"use strict";n.r(t),n.d(t,"get_postgrades",(function(){return o})),n.d(t,"get_postgradesdetail",(function(){return r})),n.d(t,"get_postgrades_groupdetail",(function(){return i})),n.d(t,"add_postgrades",(function(){return l})),n.d(t,"add_postgrades_group",(function(){return d})),n.d(t,"update_postgrades",(function(){return c})),n.d(t,"update_postgrades_group",(function(){return u})),n.d(t,"delete_postgrades",(function(){return m})),n.d(t,"delete_postgrades_group",(function(){return _}));n("d3b7");var s=n("efc9"),a="mrbase_sys_job_post_grades",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,n){s["default"].post("/api/post/grade/list-post-grades/v1",e).then((function(e){t(e)}))["catch"]((function(e){n(e)}))}))},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,n){s["default"].post("/api/post/grade/find-post-grades/v1",e).then((function(e){t(e)}))["catch"]((function(e){n(e)}))}))},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,n){s["default"].post("/api/post/grade/find-post-grades-group/v1",e).then((function(e){t(e)}))["catch"]((function(e){n(e)}))}))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,n){s["default"].post("/api/post/grade/add-post-grades/v1",e).then((function(e){t(e)}))["catch"]((function(e){n(e)}))}))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,n){s["default"].post("/api/post/grade/add-post-grades-group/v1",e).then((function(e){t(e)}))["catch"]((function(e){n(e)}))}))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,n){s["default"].post("/api/post/grade/update-post-grades/v1",e).then((function(e){t(e)}))["catch"]((function(e){n(e)}))}))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,n){s["default"].post("/api/post/grade/update-post-grades-group/v1",e).then((function(e){t(e)}))["catch"]((function(e){n(e)}))}))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,n){s["default"].post("/api/post/grade/delete-post-grades/v1",e).then((function(e){t(e)}))["catch"]((function(e){n(e)}))}))},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,n){s["default"].post("/api/post/grade/delete-post-grades-group/v1",e).then((function(e){t(e)}))["catch"]((function(e){n(e)}))}))}},c6c2:function(e,t,n){"use strict";var s=n("4e4d"),a=n.n(s);a.a}}]);
//# sourceMappingURL=chunk-f24a39d4.7573281d.js.map