(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68630a6f"],{"43ff":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-col",{staticStyle:{position:"relative"},attrs:{cols:"12"}},[s("h4",{staticClass:"pl-2",style:{fontSize:"16px",fontWeight:500,color:t.labelcolor?t.$vuetify.theme.defaults.light.primary:""}},[t._v(t._s(t.headertext||t.$t("label_The_recipient")))]),s("div",{staticClass:"dvinput pl-2",style:{"border-bottom":t.labelcolor?"2px solid "+t.$vuetify.theme.defaults.light.primary:"1px solid black","background-color":t.readonly?"#fff":"rgb(242, 242, 242)"}},[s("span",{staticClass:"d-flex span1"},[t._l(t.showlist,(function(e,i){return s("span",{key:i+e,staticClass:"person"},[s("v-chip",{attrs:{close:!0,disabled:t.readonly},on:{"click:close":function(s){return t.chipclose(e,i)}}},[t._v(" "+t._s(e))])],1)})),t._l(t.showpropertylist,(function(e,i){return s("span",{key:i,staticClass:"property"},[t._v(" "+t._s(e.property)+" ")])})),s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputvalue,expression:"inputvalue"}],staticClass:"input1",attrs:{type:"text",disabled:t.readonly,id:t.inputid},domProps:{value:t.inputvalue},on:{input:[function(e){e.target.composing||(t.inputvalue=e.target.value)},t.input],blur:t.blur,focus:t.focus}}),t.readonly?t._e():s("span",{on:{click:t.changeselect}},[s("v-icon",{staticClass:"material-icons"},[t._v("expand_more")])],1)],2)]),s("div",{staticClass:"selectbox dvprevent",class:t.classshow?"hideorshow":"",on:{mousedown:function(e){return e.stopPropagation(),t.mousedown(e)}}},t._l(t.showselectlist,(function(e,i){return s("div",{key:i,staticClass:"d-flex dvprevent dv2",on:{click:function(s){return t.getitemselect(s,e,i)}}},[s("span",{staticClass:"pl-2 pr-4 dvprevent"},[s("v-img",{staticClass:"dvprevent",attrs:{src:"https://picsum.photos/510/300?random",width:"50",height:"50"}})],1),s("span",{staticClass:"d-flex justify-space-between pr-2 dvprevent",staticStyle:{width:"85%"}},[s("span",{staticClass:"d-flex flex-column dvprevent"},[s("span",{staticClass:"dvprevent span4",on:{mousedown:t.mousedown}},[t._v(t._s(e.christian_name?e.christian_name+"  /  ":"")+t._s(e.preferred_name))]),s("span",{staticClass:"dvprevent span3"},[t._v(" "+t._s(e.org_level_uuid)+"> "+t._s(e.dept_uuid)+"> "+t._s(e.role_uuids)+" ")])]),s("span",{staticClass:"dvprevent"},[t._v("?????")])])])})),0),t.readonly?t._e():s("span",{staticClass:"span2",style:{color:t.$vuetify.theme.defaults.light.primary},on:{click:t.addvariate}},[t._v(t._s(t.$t("label_Join_the_variables"))+" "),s("mrc_ess_svgIcon",{attrs:{iconClass:"open_in_new"}})],1),s("mrc_ess_myDialog",{attrs:{title:t.$t("label_A_new_level"),width:"800",hiddenTitle:"",disabled:!1},on:{success:t.save,cancel:t.close},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card-text",[s("v-tabs",{attrs:{grow:"","background-color":"#ffffff",color:"primary",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e){return s("v-tab",{key:e.tab,staticStyle:{color:"black"}},[t._v(" "+t._s(e.tab)+" ")])})),1),s("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab-item",t._l(t.variatelist,(function(e,i){return s("div",{key:i+e},[s("div",{staticClass:"ptbox",class:e.divbgd?"divbgd":"",on:{click:function(s){return t.changebgd(e,i)}}},[s("span",[t._v(t._s(e.property))])])])})),0),s("v-tab-item")],1)],1)],1)],1)},a=[],n=(s("caad"),s("c975"),s("d81d"),s("a434"),s("2532"),s("96cf"),s("1da1")),l=s("fb42"),r={components:{},props:{function_uuid:{type:String},updateFunction_uuid:{type:String},selectlist:{type:Array},showlist:{type:Array},propertylist:{type:Array},inputid:{type:String,default:"pycredit_name"},headertext:{type:String},readonly:{type:Boolean,default:!1},iconid:{type:String,default:"meass"}},data:function(){return{labelcolor:!1,classshow:!0,inputvalue:"",dialog:!1,tab:null,items:[{tab:"功能变量"},{tab:"系统变量"}],variatelist:[],showpropertylist:[],showselectlist:[]}},computed:{},created:function(){},watch:{propertylist:{handler:function(t){this.showpropertylist=t},deep:!0}},mounted:function(){this.showselectlist=this.selectlist,this.showpropertylist=this.propertylist},methods:{mousedown:function(t){t.preventDefault()},replaceitem:function(t,e){e.map((function(e){for(var s=e.property,i=!0,a=0;a<t.length;a++)if(s==t[a].property){i=!1;break}e.divbgd=!i}))},getitemselect:function(t,e,s){document.getElementById(this.inputid).focus(),this.showlist.includes(e.staff_email)||this.showlist.includes(e.tricode)?this.$store.commit("newsTips",this.$t("message_The_recipient_has_been_added")):this.inputvalue=e.staff_email||e.tricode},getvariatelist:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(!this.variatelist.length>0)){t.next=12;break}if(e=null,!this.$store.state.uuid){t.next=8;break}return t.next=5,Object(l["getBusinessList"])({prompt_name:"email_address_field",function_uuid:this.updateFunction_uuid});case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,Object(l["getBusinessList"])({prompt_name:"email_address_field",function_uuid:this.function_uuid});case 10:e=t.sent;case 11:this.variatelist=e.data.map((function(t){return t.property="{{"+t.field_name+"}}",delete t.field_name,t}));case 12:this.replaceitem(this.showpropertylist,this.variatelist);case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeselect:function(){this.classshow=!this.classshow,this.showselectlist=this.selectlist},chipclose:function(t,e){this.showlist.splice(e,1)},blur:function(t){this.labelcolor=!this.labelcolor,this.classshow=!0,this.inputvalue&&!this.showlist.includes(this.inputvalue)?(this.showlist.push(this.inputvalue),this.inputvalue=""):this.inputvalue&&(this.$store.commit("newsTips",this.$t("message_Do_not_add_repeatedly")),this.inputvalue="")},input:function(){var t=this,e=[];this.inputvalue&&this.selectlist.map((function(s){-1!=s.preferred_name.indexOf(t.inputvalue)&&e.push(s),-1!=s.staff_email.indexOf(t.inputvalue)&&e.push(s),-1!=s.tricode.indexOf(t.inputvalue)&&e.push(s)})),this.showselectlist=e,this.classshow=!1},focus:function(){this.labelcolor=!this.labelcolor},addvariate:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.dialog=!0,t.next=3,this.getvariatelist();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changebgd:function(t,e){t.divbgd=!t.divbgd,this.$set(this.variatelist,e,t)},close:function(){this.dialog=!1;var t=[];this.variatelist.map((function(e){1==e.divbgd&&t.push(e)})),this.showpropertylist=t,this.$emit("getpropertylist",this.showpropertylist)},save:function(){}}},o=r,c=(s("ccde"),s("2877")),u=Object(c["a"])(o,i,a,!1,null,"f9a5da8a",null);e["default"]=u.exports},ccde:function(t,e,s){"use strict";var i=s("cd16"),a=s.n(i);a.a},cd16:function(t,e,s){}}]);
//# sourceMappingURL=chunk-68630a6f.8d86d66c.js.map