{"version":3,"sources":["webpack:///./src/views/o_f_manage/Post_level_management/modules/Levelcomponents.vue?c463","webpack:///./src/service/api/postgrades.js","webpack:///./src/views/o_f_manage/Post_level_management/modules/Levelcomponents.vue?f3be","webpack:///src/views/o_f_manage/Post_level_management/modules/Levelcomponents.vue","webpack:///./src/views/o_f_manage/Post_level_management/modules/Levelcomponents.vue?84b8","webpack:///./src/views/o_f_manage/Post_level_management/modules/Levelcomponents.vue"],"names":["table","get_postgrades","params","Promise","resolve","reject","http","post","then","res","err","get_postgradesdetail","get_postgrades_groupdetail","add_postgrades","add_postgrades_group","update_postgrades","update_postgrades_group","delete_postgrades","delete_postgrades_group","render","_vm","this","_h","$createElement","_c","_self","attrs","readonly","$t","model","value","levelcomponentslist","callback","$$v","$set","expression","judegNational","$errors","requiredRule","between","maxLength","unit","units","concat","_e","btnIsLoading","on","success","cancel","staticRenderFns","components","props","type","Boolean","default","watch","data","nodorules","userrules","switch1","job_grade_name","job_grade_shortcode","job_grade_class","is_used","sequence","remark","org_level_uuid","validations","required","staff_number","created","methods","$v","$touch","$error","join","$route","uuid","$store","state","created_by","updated_utc_datetime","updated_by","created_utc_datetime","code","name","content","$router","push","computed","company_uuid","currentCompany","component"],"mappings":"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","file":"js/chunk-2cb7e3b1.c1abe4ac.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Levelcomponents.vue?vue&type=style&index=0&id=4de4b2ae&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Levelcomponents.vue?vue&type=style&index=0&id=4de4b2ae&scoped=true&lang=css&\"","// 岗位等级管理\r\nimport http from '../httpConfig'\r\n\r\nconst table = \"mrbase_sys_job_post_grades\"\r\n\r\n\r\n// 获取岗位等级列表接口\r\nexport const get_postgrades = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/post/grade/list-post-grades/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n// 获取岗位等级详情接口\r\nexport const get_postgradesdetail = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/post/grade/find-post-grades/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n// 获取岗位等级组详情\r\nexport const get_postgrades_groupdetail = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/post/grade/find-post-grades-group/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n// 新增单个岗位等级\r\nexport const add_postgrades = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/post/grade/add-post-grades/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n// 新增岗位等级组\r\nexport const add_postgrades_group = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/post/grade/add-post-grades-group/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n// 岗位等级修改 \r\nexport const update_postgrades = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/post/grade/update-post-grades/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n// 岗位等级组修改\r\nexport const update_postgrades_group = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/post/grade/update-post-grades-group/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n// 岗位等级删除\r\nexport const delete_postgrades = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/post/grade/delete-post-grades/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n// 岗位等级组删除\r\nexport const delete_postgrades_group = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/post/grade/delete-post-grades-group/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-form',[_c('v-card',[_c('v-card-title',[_c('mrc_ess_switch',{attrs:{\"true-value\":1,\"false-value\":0,\"readonly\":_vm.readonly,\"true-text\":_vm.$t('label_To_enable_the'),\"false-text\":_vm.$t('label_disable')},model:{value:(_vm.levelcomponentslist.is_used),callback:function ($$v) {_vm.$set(_vm.levelcomponentslist, \"is_used\", $$v)},expression:\"levelcomponentslist.is_used\"}})],1),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_multiText',{attrs:{\"label\":_vm.$t('label_The_name_of_the_hierarchy')+'*',\"isNational\":_vm.judegNational('job_grade_name'),\"error-messages\":_vm.$errors('levelcomponentslist','job_grade_name',_vm.requiredRule),\"readonly\":_vm.readonly},model:{value:(_vm.levelcomponentslist.job_grade_name),callback:function ($$v) {_vm.$set(_vm.levelcomponentslist, \"job_grade_name\", $$v)},expression:\"levelcomponentslist.job_grade_name\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_NumInput',{attrs:{\"label\":_vm.$t('label_The_hierarchy')+'*',\"error-messages\":_vm.$errors('levelcomponentslist','job_grade_class',_vm.between('1-50')),\"readonly\":!_vm.readonly},model:{value:(_vm.levelcomponentslist.job_grade_class),callback:function ($$v) {_vm.$set(_vm.levelcomponentslist, \"job_grade_class\", $$v)},expression:\"levelcomponentslist.job_grade_class\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('mrc_ess_multiText',{attrs:{\"label\":_vm.$t('label_note'),\"isNational\":_vm.judegNational('remark'),\"error-messages\":_vm.$errors('levelcomponentslist','remark',_vm.maxLength(200)),\"readonly\":_vm.readonly},model:{value:(_vm.levelcomponentslist.remark),callback:function ($$v) {_vm.$set(_vm.levelcomponentslist, \"remark\", $$v)},expression:\"levelcomponentslist.remark\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('mrc_ess_prompt',{attrs:{\"label\":_vm.$t('label_company')+'*',\"disabled\":_vm.readonly,\"multiple\":true,\"errMsg\":_vm.$errors(null,'units',_vm.requiredRule),\"obj\":_vm.unit},model:{value:(_vm.units),callback:function ($$v) {_vm.units=$$v},expression:\"units\"}})],1)],1),(_vm.readonly)?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_NumInput',{attrs:{\"label\":_vm.$t('label_Number_of_posts_in_use'),\"error-messages\":_vm.$errors('levelcomponentslist','staff_number',_vm.between('1-100000')),\"readonly\":_vm.readonly},model:{value:(_vm.levelcomponentslist.staff_number),callback:function ($$v) {_vm.$set(_vm.levelcomponentslist, \"staff_number\", $$v)},expression:\"levelcomponentslist.staff_number\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_NumInput',{attrs:{\"label\":_vm.$t('label_The_sorting')+'*',\"error-messages\":_vm.$errors('levelcomponentslist','sequence',_vm.between('1-50')),\"readonly\":_vm.readonly},model:{value:(_vm.levelcomponentslist.sequence),callback:function ($$v) {_vm.$set(_vm.levelcomponentslist, \"sequence\", $$v)},expression:\"levelcomponentslist.sequence\"}})],1)],1):_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_NumInput',{attrs:{\"label\":_vm.$t('label_The_sorting')+'*',\"error-messages\":_vm.$errors('levelcomponentslist','sequence',_vm.between('1-50').concat(_vm.requiredRule)),\"readonly\":_vm.readonly},model:{value:(_vm.levelcomponentslist.sequence),callback:function ($$v) {_vm.$set(_vm.levelcomponentslist, \"sequence\", $$v)},expression:\"levelcomponentslist.sequence\"}})],1)],1)],1),(!_vm.readonly)?_c('mrc_ess_submitBtn',{attrs:{\"loading\":_vm.btnIsLoading},on:{\"success\":_vm.success,\"cancel\":_vm.cancel}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-form>\r\n    <v-card>\r\n      <v-card-title>\r\n        <!-- <v-switch v-model=\"levelcomponentslist.is_used\"\r\n                    :label=\"levelcomponentslist.is_used?'启用':'不启用'\"></v-switch> -->\r\n\r\n        <mrc_ess_switch v-model=\"levelcomponentslist.is_used\"\r\n                        :true-value='1'\r\n                        :false-value='0'\r\n                        :readonly='readonly'\r\n                        :true-text=\"$t('label_To_enable_the')\"\r\n                        :false-text=\"$t('label_disable')\"></mrc_ess_switch>\r\n      </v-card-title>\r\n      <v-card-text>\r\n        <v-row>\r\n          <v-col cols=\"6\">\r\n            <!-- <v-text-field :label=\"$t('label_The_name_of_the_hierarchy')+'*'\"\r\n                            :rules='nodorules'\r\n                            append-icon=\"mdi-longitude\"\r\n                            v-model=\"levelcomponentslist.job_grade_name\"\r\n                            :error-messages=\"$errors('levelcomponentslist','job_grade_name',requiredRule)\"\r\n                            hide-details=\"auto\"\r\n                            :readonly='readonly'></v-text-field> -->\r\n            <mrc_ess_multiText :label=\"$t('label_The_name_of_the_hierarchy')+'*'\"\r\n                               :isNational=\"judegNational('job_grade_name')\"\r\n                               v-model=\"levelcomponentslist.job_grade_name\"\r\n                               :error-messages=\"$errors('levelcomponentslist','job_grade_name',requiredRule)\"\r\n                               :readonly='readonly'></mrc_ess_multiText>\r\n          </v-col>\r\n          <v-col cols=\"6\">\r\n            <mrc_ess_NumInput :label=\"$t('label_The_hierarchy')+'*'\"\r\n                              :error-messages=\"$errors('levelcomponentslist','job_grade_class',between('1-50'))\"\r\n                              v-model=\"levelcomponentslist.job_grade_class\"\r\n                              :readonly='!readonly'></mrc_ess_NumInput>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col cols=\"12\">\r\n            <!-- <v-text-field :label=\"$t('label_note')\"\r\n                            append-icon=\"mdi-longitude\"\r\n                            v-model=\"levelcomponentslist.remark\"\r\n                            :error-messages=\"$errors('levelcomponentslist','remark',maxLength(200))\"\r\n                            hide-details=\"auto\"\r\n                            :readonly='readonly'></v-text-field> -->\r\n            <mrc_ess_multiText :label=\"$t('label_note')\"\r\n                               :isNational=\"judegNational('remark')\"\r\n                               v-model=\"levelcomponentslist.remark\"\r\n                               :error-messages=\"$errors('levelcomponentslist','remark',maxLength(200))\"\r\n                               :readonly='readonly'></mrc_ess_multiText>\r\n\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col cols=\"12\">\r\n            <mrc_ess_prompt :label=\"$t('label_company')+'*'\"\r\n                            :disabled='readonly'\r\n                            :multiple=\"true\"\r\n                            v-model=\"units\"\r\n                            :errMsg=\"$errors(null,'units',requiredRule)\"\r\n                            :obj=\"unit\">\r\n            </mrc_ess_prompt>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row v-if=\"readonly\">\r\n          <v-col cols=\"6\">\r\n            <mrc_ess_NumInput :label=\"$t('label_Number_of_posts_in_use')\"\r\n                              v-model=\"levelcomponentslist.staff_number\"\r\n                              :error-messages=\"$errors('levelcomponentslist','staff_number',between('1-100000'))\"\r\n                              :readonly='readonly'></mrc_ess_NumInput>\r\n          </v-col>\r\n          <v-col cols=\"6\">\r\n            <mrc_ess_NumInput :label=\"$t('label_The_sorting')+'*'\"\r\n                              :error-messages=\"$errors('levelcomponentslist','sequence',between('1-50'))\"\r\n                              v-model=\"levelcomponentslist.sequence\"\r\n                              :readonly='readonly'></mrc_ess_NumInput>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row v-else>\r\n          <v-col cols=\"6\">\r\n            <mrc_ess_NumInput :label=\"$t('label_The_sorting')+'*'\"\r\n                              :error-messages=\"$errors('levelcomponentslist','sequence',between('1-50').concat(requiredRule))\"\r\n                              v-model=\"levelcomponentslist.sequence\"\r\n                              :readonly='readonly'></mrc_ess_NumInput>\r\n          </v-col>\r\n        </v-row>\r\n      </v-card-text>\r\n      <mrc_ess_submitBtn @success='success'\r\n                         @cancel='cancel'\r\n                         :loading='btnIsLoading'\r\n                         v-if=\"!readonly\"></mrc_ess_submitBtn>\r\n    </v-card>\r\n  </v-form>\r\n</template>\r\n\r\n<style scoped>\r\n.bt1 {\r\n  display: inline-block;\r\n  width: 25px;\r\n  height: 25px;\r\n  background-color: #ccc;\r\n  line-height: 25px;\r\n  text-align: center;\r\n}\r\n.sequenceinput {\r\n  border-top: 1px black solid;\r\n  border-bottom: 1px black solid;\r\n  text-align: center;\r\n}\r\n</style>\r\n \r\n<script> \r\nimport { update_postgrades, get_postgradesdetail, get_postgrades_groupdetail, update_postgrades_group, add_postgrades, add_postgrades_group } from '@/service/api/postgrades.js'\r\nimport { required, maxLength, between, email, url, numeric } from 'vuelidate/lib/validators'\r\n\r\nexport default {\r\n  components: {},\r\n  props: {\r\n    readonly: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  watch: {\r\n  },\r\n  data () {\r\n    return {\r\n      btnIsLoading: false,\r\n      nodorules: [\r\n        v => !!v || '不能为空',\r\n        v => String(v).length <= 200 || '超过输入个数',\r\n        v => !/[@#$%^&()<>?/]/.test(v) || '请勿输入非法字符',\r\n        v => !/^ +| +$/g.test(v) || '不能输入空格',\r\n      ],\r\n      userrules: [\r\n        v => String(v).length <= 20 || '超过输入个数',\r\n        v => !/[^\\w]/g.test(v) || '只能输入数字和字母'\r\n      ],\r\n      unit: null,\r\n      units: [],\r\n      switch1: false,\r\n      levelcomponentslist: {\r\n        job_grade_name: \"\",\t\t//级别名称\r\n        job_grade_shortcode: \"\",\t\t//级别短编码\r\n        job_grade_class: \"\",\t\t//级别\r\n        is_used: \"1\",\t\t//是否启用 0 否 1 是\r\n        sequence: \"\",\t\t//排序\r\n        remark: \"\",\t\t//备注\r\n        org_level_uuid: \"\",\t\t//关联公司UUID\r\n      }\r\n\r\n    };\r\n  },\r\n  validations: {\r\n    levelcomponentslist: {\r\n      // group_name: {\r\n      //   maxLength: maxLength(20),\r\n      //   required\r\n      // },\r\n      job_grade_shortcode: {\r\n        maxLength: maxLength(10),\r\n      },\r\n      job_grade_name: {\r\n        maxLength: maxLength(20),\r\n        required\r\n      },\r\n      job_grade_class: {\r\n        maxLength: maxLength(10),\r\n        between: between(1, 50)\r\n      },\r\n      remark: {\r\n        maxLength: maxLength(200),\r\n      },\r\n      sequence: {\r\n        maxLength: maxLength(10),\r\n        between: between(1, 50),\r\n        required\r\n      },\r\n      staff_number: {\r\n        maxLength: maxLength(10),\r\n        between: between(1, 100000)\r\n      }\r\n    },\r\n    units: {\r\n      required\r\n    }\r\n  },\r\n  created () { },\r\n  async mounted () {\r\n    await this.national('mrbase_sys_job_post_grades')\r\n    const user_uuid = this.$store.state.userData.uuid || JSON.parse(localStorage.getItem('userData')).uuid\r\n    this.unit = { prompt_name: 'org_levels_manager_filter_company', user_uuid }\r\n    if (this.$route.params.uuid || this.$store.state.uuid) {\r\n      this.$route.meta.title = this.$store.state.subPage_name\r\n      const res = await get_postgradesdetail({ uuid: this.$store.state.uuid })\r\n      this.levelcomponentslist = res.data\r\n      this.units = res.data.org_level_uuid.length > 0 ? res.data.org_level_uuid.split(',') : []\r\n    }\r\n    else {\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    success () {  //提交\r\n      this.$v.levelcomponentslist.$touch()\r\n      this.$v.$touch()\r\n      if (this.$v.levelcomponentslist.$error) return\r\n      this.btnIsLoading = true\r\n      this.levelcomponentslist.org_level_uuid = this.units.join()\r\n      if (this.$route.params.uuid || this.$store.state.uuid) {\r\n        delete this.levelcomponentslist.created_by\r\n        delete this.levelcomponentslist.updated_utc_datetime\r\n        delete this.levelcomponentslist.updated_by\r\n        delete this.levelcomponentslist.created_utc_datetime\r\n        // this.levelcomponentslist.is_used = 1\r\n        update_postgrades(this.levelcomponentslist).then(res => {\r\n          if (res.code == 200) {\r\n            this.$router.push({\r\n              name: 'Post_level_management'\r\n            })\r\n          }\r\n          else if (res.code == 'mrbase_sys_job_post_grades.job_grade_class.required') {\r\n            this.$myConfirm({\r\n              content: this.$t('message_The_higher_the_number')\r\n            })\r\n            this.btnIsLoading = false\r\n          }\r\n          else {\r\n            this.$myConfirm({\r\n              content: this.$t('message_The_modification_failed')\r\n            })\r\n            this.btnIsLoading = false\r\n          }\r\n        })\r\n      }\r\n      else {\r\n        add_postgrades(this.levelcomponentslist).then(res => {\r\n          if (res.code == 200) {\r\n            this.$router.push({\r\n              name: 'Post_level_management'\r\n            })\r\n          }\r\n          else if (res.code == 'mrbase_sys_job_post_grades.job_grade_class.required') {\r\n            this.$myConfirm({\r\n              content: this.$t('message_The_higher_the_number')\r\n            })\r\n            this.btnIsLoading = false\r\n          }\r\n          else if (res.code == 'mrbase_sys_job_post_grades.org_level_uuid.required') {\r\n            this.$myConfirm({\r\n              content: this.$t('message_Unit_required')\r\n            })\r\n            this.btnIsLoading = false\r\n          }\r\n          else {\r\n            this.$myConfirm({\r\n              content: this.$t('message_Add_failed')\r\n            })\r\n            this.btnIsLoading = false\r\n          }\r\n        })\r\n      }\r\n    },\r\n    cancel () {  //取消\r\n      this.$router.push({\r\n        name: 'Post_level_management'\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    company_uuid () {  //当前公司\r\n      return this.$store.state.currentCompany\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Levelcomponents.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Levelcomponents.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Levelcomponents.vue?vue&type=template&id=4de4b2ae&scoped=true&\"\nimport script from \"./Levelcomponents.vue?vue&type=script&lang=js&\"\nexport * from \"./Levelcomponents.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Levelcomponents.vue?vue&type=style&index=0&id=4de4b2ae&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4de4b2ae\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}