(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ee45c3d","chunk-12e200f5","chunk-6549ed25","chunk-6fe5be15","chunk-4825692d","chunk-2d21e7e5"],{"18db":function(t,e,a){},"1c61":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bigbox"},[a("div",[t.readonly?a("span",{staticClass:"span2",style:{color:t.$vuetify.theme.defaults.light.primary},on:{click:t.addvariate}},[t._v(t._s(t.$t("label_Join_the_variables"))+" "),a("mrc_ess_svgIcon",{attrs:{iconClass:"open_in_new"}})],1):t._e()]),a("mrc_ess_myDialog",{attrs:{title:t.$t("label_A_new_level"),width:"800",hiddenTitle:"",disabled:!1},on:{cancel:t.close},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card-text",[a("v-tabs",{attrs:{grow:"","background-color":"#ffffff",color:"primary",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e){return a("v-tab",{key:e.tab,staticStyle:{color:"black"}},[t._v(" "+t._s(e.tab)+" ")])})),1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{staticStyle:{"overflow-y":"scroll","max-height":"300px"}},t._l(t.variatelist,(function(e,n){return a("div",{key:n+e},[a("div",{staticClass:"ptbox",class:e.divbgd?"divbgd":"",on:{click:function(a){return t.changebgd(e,n)}}},[a("span",[t._v(t._s(e.property))]),a("span",{staticStyle:{color:"#bcbcbc"}},[t._v(t._s(e.name))])])])})),0),a("v-tab-item",{staticStyle:{"overflow-y":"scroll","max-height":"300px"}},t._l(t.syslist,(function(e,n){return a("div",{key:n+e},[a("div",{staticClass:"ptbox",class:e.divbgd?"divbgd":"",on:{click:function(a){return t.changebgd2(e,n)}}},[a("span",[t._v(t._s(e.property))]),a("span",{staticStyle:{color:"#bcbcbc"}},[t._v(t._s(e.name))])])])})),0)],1)],1)],1)],1)},s=[],i=(a("d81d"),a("5530")),r={components:{},props:{readonly:{type:Boolean,default:!0}},data:function(){return{itemss:[],offset:!0,tab:null,dialog:!1,variatelist:[],syslist:[]}},computed:{items:function(){return[{tab:this.$t("label_functionVar")},{tab:this.$t("label_systemVar")}]}},created:function(){},watch:{},mounted:function(){this.getvariatelist(),this.getsyslist()},methods:{getvariatelist:function(){this.variatelist=[{property:"{{saaas}}",name:"xasxaxaaxa"},{property:"{{xasaokhhh}}",name:"xasxaxaaxa"},{property:"{{qqqws}}",name:"xasxaxaxaxaaxa"},{property:"{{qwertyui}}",name:"xaxxsxaxxaaxa"},{property:"{{saaas}}",name:"xasxaxaaxa"},{property:"{{xasaokhhh}}",name:"xasxaxaaxa"},{property:"{{qqqws}}",name:"xasxaxaxaxaaxa"},{property:"{{qwertyui}}",name:"xaxxsxaxxaaxa"},{property:"{{saaas}}",name:"xasxaxaaxa"},{property:"{{xasaokhhh}}",name:"xasxaxaaxa"},{property:"{{qqqws}}",name:"xasxaxaxaxaaxa"},{property:"{{qwertyui}}",name:"xaxxsxaxxaaxa"},{property:"{{saaas}}",name:"xasxaxaaxa"},{property:"{{xasaokhhh}}",name:"xasxaxaaxa"},{property:"{{qqqws}}",name:"xasxaxaxaxaaxa"},{property:"{{qwertyui}}",name:"xaxxsxaxxaaxa"}],this.variatelist=this.variatelist.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{divbgd:!1})}))},getsyslist:function(){this.syslist=[{property:"{{112saaas}}",name:"xasxaxaaxa"},{property:"{{112xasaokhhh}}",name:"xasxaxaaxa"},{property:"{{112qqqws}}",name:"xasxaxaxaxaaxa"},{property:"{{112qwertyui}}",name:"xaxxsxaxxaaxa"},{property:"{{112saaas}}",name:"xasxaxaaxa"},{property:"{{112xasaokhhh}}",name:"xasxaxaaxa"},{property:"{{112qqqws}}",name:"xasxaxaxaxaaxa"},{property:"{{112qwertyui}}",name:"xaxxsxaxxaaxa"},{property:"{{112saaas}}",name:"xasxaxaaxa"},{property:"{{112xasaokhhh}}",name:"xasxaxaaxa"},{property:"{{112qqqws}}",name:"xasxaxaxaxaaxa"},{property:"{{112qwertyui}}",name:"xaxxsxaxxaaxa"},{property:"{{112saaas}}",name:"xasxaxaaxa"},{property:"{{112xasaokhhh}}",name:"xasxaxaaxa"},{property:"{{112qqqws}}",name:"xasxaxaxaxaaxa"},{property:"{{112qwertyui}}",name:"xaxxsxaxxaaxa"}],this.syslist=this.variatelist.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{divbgd:!1})}))},addvariate:function(){this.dialog=!0},changebgd:function(t,e){t.divbgd=!t.divbgd,this.$set(this.variatelist,e,t)},changebgd2:function(t,e){t.divbgd=!t.divbgd,this.$set(this.syslist,e,t)},close:function(){this.dialog=!1;var t=[];this.variatelist.map((function(e){1==e.divbgd&&t.push(e)})),this.syslist.map((function(e){1==e.divbgd&&t.push(e)})),this.$emit("getpropertylist",t),this.variatelist=this.variatelist.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{divbgd:!1})})),this.syslist=this.syslist.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{divbgd:!1})}))},save:function(){}}},o=r,l=(a("e38b"),a("2877")),c=Object(l["a"])(o,n,s,!1,null,"c0f31daa",null);e["default"]=c.exports},"24f5":function(t,e,a){"use strict";var n=a("7929"),s=a.n(n);s.a},"2b81":function(t,e,a){},"4b71":function(t,e,a){"use strict";var n=a("bad1"),s=a.n(n);s.a},7929:function(t,e,a){},"7d45":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[a("div",[t.isShow?a("h4",{style:{color:t.$vuetify.theme.defaults.light.primary}},[t._v(t._s(t.label))]):a("v-text-field",t._g(t._b({attrs:{label:t.label||t.$t("label_Email_message"),readonly:t.readonly,value:t.defaultemailsubject,"append-icon":"mdi-longitude"}},"v-text-field",s,!1),n))],1)]}}]),model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("v-list",{staticClass:"bigbox"},[t._l(t.childrenpurport,(function(e,n){return a("v-list-item",{key:n},[a("v-text-field",{attrs:{label:t.$t("label."+e.language_code)+"*",rules:t.rules,readonly:t.readonly},on:{blur:t.handleinputBlur},model:{value:e.content,callback:function(a){t.$set(e,"content",a)},expression:"item.content"}}),a("propertyDialog",{attrs:{readonly:!t.readonly},on:{getpropertylist:function(e){return t.getpropertylist(e,n)}}})],1)})),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.readonly,expression:"!readonly"}],staticClass:"btnbox"},[a("mrc_ess_submitBtn",{attrs:{cancelText:"cancel",successText:"OK"},on:{cancel:t.cancel,success:t.success}})],1)],2)],1)],1)},s=[],i=(a("d81d"),a("fb6a"),a("1c61")),r={components:{propertyDialog:i["default"]},props:{label:{type:String},purport:{type:Array,default:function(){return[]}},defaultemailsubject:{type:String},readonly:{type:Boolean,default:!1}},model:{prop:"purport",event:"purportChange"},data:function(){return{rules:[function(t){return!!t||"Required."}],isShow:!1,childrenpurport:[],blurIndex:null}},computed:{},created:function(){},watch:{purport:{handler:function(t){this.childrenpurport=this.$clone(t)},deep:!0}},mounted:function(){this.childrenpurport=this.$clone(this.purport)},methods:{success:function(){this.isShow=!1,this.$emit("purportChange",this.childrenpurport)},cancel:function(){this.isShow=!1,this.childrenpurport=this.$clone(this.purport)},getpropertylist:function(t,e){var a=this;t.map((function(t){a.childrenpurport[e].content?a.childrenpurport[e].content=a.childrenpurport[e].content.slice(0,a.blurIndex)+t.property+a.childrenpurport[e].content.slice(a.blurIndex):a.childrenpurport[e].content=t.property}))},handleinputBlur:function(t){this.blurIndex=t.srcElement.selectionStart}},validations:{}},o=r,l=(a("4b71"),a("2877")),c=Object(l["a"])(o,n,s,!1,null,"7063606a",null);e["default"]=c.exports},"7e75":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{staticStyle:{position:"relative"},attrs:{cols:"12"}},[a("h4",{style:{fontSize:"16px",fontWeight:500,color:t.labelcolor?t.$vuetify.theme.defaults.light.primary:""}},[t._v(t._s(t.headertext||t.$t("label_The_recipient")))]),a("div",{staticClass:"dvinput",style:{"border-bottom":t.labelcolor?"2px solid "+t.$vuetify.theme.defaults.light.primary:"1px solid black"}},[a("span",{staticClass:"d-flex span1"},[t._l(t.showlist,(function(e,n){return a("span",{key:n+e,staticClass:"person"},[a("v-chip",{attrs:{close:!0,disabled:t.readonly},on:{"click:close":function(a){return t.chipclose(e,n)}}},[t._v(" "+t._s(e))])],1)})),t._l(t.showpropertylist,(function(e,n){return a("span",{key:n,staticClass:"property"},[t._v(" "+t._s(e.property)+" ")])})),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputvalue,expression:"inputvalue"}],staticClass:"input1",attrs:{type:"text",disabled:t.readonly,id:t.inputid},domProps:{value:t.inputvalue},on:{input:[function(e){e.target.composing||(t.inputvalue=e.target.value)},t.input],blur:t.blur,focus:t.focus}}),t.readonly?t._e():a("span",{on:{click:t.changeselect}},[a("v-icon",{staticClass:"material-icons"},[t._v("expand_more")])],1)],2)]),a("div",{staticClass:"selectbox dvprevent",class:t.classshow?"hideorshow":"",on:{mousedown:function(e){return e.stopPropagation(),t.mousedown(e)}}},t._l(t.showselectlist,(function(e,n){return a("div",{key:n,staticClass:"d-flex dvprevent dv2",on:{click:function(a){return t.getitemselect(a,e,n)}}},[a("span",{staticClass:"pl-2 pr-4 dvprevent"},[a("v-img",{staticClass:"dvprevent",attrs:{src:"https://picsum.photos/510/300?random",width:"50",height:"50"}})],1),a("span",{staticClass:"d-flex justify-space-between pr-2 dvprevent",staticStyle:{width:"85%"}},[a("span",{staticClass:"d-flex flex-column dvprevent"},[a("span",{staticClass:"dvprevent span4",on:{mousedown:t.mousedown}},[t._v(t._s(e.christian_name?e.christian_name+"  /  ":"")+t._s(e.preferred_name))]),a("span",{staticClass:"dvprevent span3"},[t._v(" "+t._s(e.org_level_uuid)+"> "+t._s(e.dept_uuid)+"> "+t._s(e.role_uuids)+" ")])]),a("span",{staticClass:"dvprevent"},[t._v("?????")])])])})),0),t.readonly?t._e():a("span",{staticClass:"span2",style:{color:t.$vuetify.theme.defaults.light.primary},on:{click:t.addvariate}},[t._v(t._s(t.$t("label_Join_the_variables"))+" "),a("mrc_ess_svgIcon",{attrs:{iconClass:"open_in_new"}})],1),a("mrc_ess_myDialog",{attrs:{title:t.$t("label_A_new_level"),width:"800",hiddenTitle:"",disabled:!1},on:{success:t.save,cancel:t.close},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card-text",[a("v-tabs",{attrs:{grow:"","background-color":"#ffffff",color:"primary",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e){return a("v-tab",{key:e.tab,staticStyle:{color:"black"}},[t._v(" "+t._s(e.tab)+" ")])})),1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",t._l(t.variatelist,(function(e,n){return a("div",{key:n+e},[a("div",{staticClass:"ptbox",class:e.divbgd?"divbgd":"",on:{click:function(a){return t.changebgd(e,n)}}},[a("span",[t._v(t._s(e.property))]),a("span",{staticStyle:{color:"#bcbcbc"}},[t._v(t._s(e.name))])])])})),0),a("v-tab-item")],1)],1)],1)],1)},s=[],i=(a("caad"),a("c975"),a("d81d"),a("a434"),a("2532"),{components:{},props:{selectlist:{type:Array},showlist:{type:Array},propertylist:{type:Array},inputid:{type:String,default:"pycredit_name"},headertext:{type:String},readonly:{type:Boolean,default:!1},iconid:{type:String,default:"meass"}},data:function(){return{labelcolor:!1,classshow:!0,inputvalue:"",dialog:!1,tab:null,items:[{tab:"功能变量"},{tab:"系统变量"}],variatelist:[],showpropertylist:[],showselectlist:[]}},computed:{},created:function(){},watch:{propertylist:{handler:function(t){this.showpropertylist=t},deep:!0}},mounted:function(){this.getvariatelist(),this.showselectlist=this.selectlist,this.showpropertylist=this.propertylist},methods:{mousedown:function(t){t.preventDefault()},replaceitem:function(t,e){e.map((function(e){for(var a=e.property,n=!0,s=0;s<t.length;s++)if(a==t[s].property){n=!1;break}e.divbgd=!n}))},getitemselect:function(t,e,a){document.getElementById(this.inputid).focus(),this.showlist.includes(e.staff_email)||this.showlist.includes(e.tricode)?this.$store.commit("newsTips",this.$t("message_The_recipient_has_been_added")):this.inputvalue=e.staff_email||e.tricode},getvariatelist:function(){this.variatelist=[{property:"{{saaas}}",name:"xasxaxaaxa"},{property:"{{xasaokhhh}}",name:"xasxaxaaxa"},{property:"{{qqqws}}",name:"xasxaxaxaxaaxa"},{property:"{{qwertyui}}",name:"xaxxsxaxxaaxa"}],this.replaceitem(this.showpropertylist,this.variatelist)},changeselect:function(){this.classshow=!this.classshow,this.showselectlist=this.selectlist},chipclose:function(t,e){this.showlist.splice(e,1)},blur:function(t){this.labelcolor=!this.labelcolor,this.classshow=!0,this.inputvalue&&!this.showlist.includes(this.inputvalue)?(this.showlist.push(this.inputvalue),this.inputvalue=""):this.inputvalue&&(this.$store.commit("newsTips",this.$t("message_Do_not_add_repeatedly")),this.inputvalue="")},input:function(){var t=this,e=[];this.inputvalue&&this.selectlist.map((function(a){-1!=a.preferred_name.indexOf(t.inputvalue)&&e.push(a),-1!=a.staff_email.indexOf(t.inputvalue)&&e.push(a),-1!=a.tricode.indexOf(t.inputvalue)&&e.push(a)})),this.showselectlist=e,this.classshow=!1},focus:function(){this.labelcolor=!this.labelcolor},addvariate:function(){this.dialog=!0},changebgd:function(t,e){t.divbgd=!t.divbgd,this.$set(this.variatelist,e,t)},close:function(){this.dialog=!1;var t=[];this.variatelist.map((function(e){1==e.divbgd&&t.push(e)})),this.showpropertylist=t,this.$emit("getpropertylist",this.showpropertylist)},save:function(){}}}),r=i,o=(a("24f5"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"d079e8fe",null);e["default"]=l.exports},"867d":function(t,e,a){"use strict";var n=a("bf6a"),s=a.n(n);s.a},a3fd:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"textareabox"},[a("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[a("div",[t.isShow?a("h4",{style:{color:t.$vuetify.theme.defaults.light.primary}},[t._v(t._s(t.label||t.$t("label_The_mail_text")))]):a("v-textarea",t._g(t._b({attrs:{value:t.defaultcontent,name:"input-7-4",readonly:!0,label:t.label||t.$t("label_The_mail_text"),"append-icon":"mdi-longitude"}},"v-textarea",s,!1),n))],1)]}}]),model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("v-list",{staticClass:"bigbox"},[t._l(t.childrencontent,(function(e,n){return a("v-list-item",{key:n},[a("v-textarea",{attrs:{readonly:t.readonly,rules:t.rules,name:"input-7-4",label:t.$t("label_The_mail_text")+"*"},on:{blur:t.handleinputBlur,change:t.change},model:{value:e.content,callback:function(a){t.$set(e,"content",a)},expression:"item.content"}}),a("propertyDialog",{attrs:{readonly:!t.readonly},on:{getpropertylist:function(e){return t.getpropertylist(e,n)}}})],1)})),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.readonly,expression:"!readonly"}],staticClass:"btnbox"},[a("mrc_ess_submitBtn",{attrs:{cancelText:"cancel",successText:"OK"},on:{cancel:t.cancel,success:t.success}})],1)],2)],1)],1)},s=[],i=(a("d81d"),a("fb6a"),a("1c61")),r={components:{propertyDialog:i["default"]},props:{label:{type:String},defaultcontent:{type:String},content:{type:Array,default:function(){return[]}},readonly:{type:Boolean,default:!1}},model:{prop:"content",event:"contentChange"},data:function(){return{rules:[function(t){return!!t||"Required."}],showMenu:!1,childrencontent:[],blurIndex:"",isShow:!1}},computed:{},created:function(){},watch:{content:{handler:function(t){this.childrencontent=this.$clone(t)},deep:!0}},mounted:function(){this.childrencontent=this.$clone(this.content)},methods:{change:function(t){},success:function(){this.isShow=!1,this.$emit("contentChange",this.childrencontent)},cancel:function(){this.isShow=!1,this.childrencontent=this.$clone(this.content)},getpropertylist:function(t,e){var a=this;t.map((function(t){a.childrencontent[e].content?a.childrencontent[e].content=a.childrencontent[e].content.slice(0,a.blurIndex)+t.property+a.childrencontent[e].content.slice(a.blurIndex):a.childrencontent[e].content=t.property}))},handleinputBlur:function(t){this.blurIndex=t.srcElement.selectionStart}}},o=r,l=(a("867d"),a("2877")),c=Object(l["a"])(o,n,s,!1,null,"7f181db9",null);e["default"]=c.exports},b599:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title"),a("v-card-text",[a("v-row",[a("emailinput",{attrs:{selectlist:t.selectlist,showlist:t.showlist,propertylist:t.propertylist,readonly:t.disabled},on:{getpropertylist:t.getpropertylist}}),a("emailinput",{attrs:{selectlist:t.selectlist,readonly:t.disabled,inputid:"deputy",showlist:t.deputyshowlist,propertylist:t.deputypropertylist,headertext:t.$t("label_Deputy_to_the_addressee")},on:{getpropertylist:t.deputygetpropertylist}}),a("v-col",{staticStyle:{position:"relative"},attrs:{cols:"12"}},[a("inputtemplate",{attrs:{readonly:t.disabled,defaultemailsubject:t.defaultemailsubject},model:{value:t.emailsubject,callback:function(e){t.emailsubject=e},expression:"emailsubject"}})],1),a("v-col",{attrs:{cols:"12"}},[a("textareatemplate",{attrs:{defaultcontent:t.defaultemailcontent,readonly:t.disabled},model:{value:t.emailcontent,callback:function(e){t.emailcontent=e},expression:"emailcontent"}})],1)],1)],1),t.$store.state.uuid?[t.disabled?t._e():a("mrc_ess_submitBtn",{on:{cancel:t.cancel,success:t.success}})]:[t.disabled?t._e():a("mrc_ess_submitBtn",{attrs:{cancelText:t.$t("label_The_previous_step")},on:{cancel:t.addcancel,success:t.addsuccess}})]],2)},s=[],i=(a("99af"),a("4de4"),a("c975"),a("a15b"),a("d81d"),a("ac1f"),a("5319"),a("1276"),a("5530")),r=a("2909"),o=(a("96cf"),a("1da1")),l=a("d696"),c=a("fb42"),u=a("7e75"),p=a("1c61"),d=a("a3fd"),h=a("7d45"),m={components:{emailinput:u["default"],propertyDialog:p["default"],textareatemplate:d["default"],inputtemplate:h["default"]},props:{disabled:{type:Boolean}},data:function(){return{selectlist:[{name:"julia",staffnum:99,email:"523555@qq.com",gw:"xaaxaxa"},{name:"juck",staffnum:99,email:"746287204@qq.com",gw:"qwert"},{name:"jukacsa",staffnum:99,email:"21355@qq.com",gw:"xaaxaxa"},{name:"load",staffnum:99,email:"3455@qq.com",gw:"xaaxaxa"},{name:"loads",staffnum:99,email:"5355@qq.com",gw:"xaaxaxa"}],showlist:[],propertylist:[],deputyshowlist:[],deputypropertylist:[],emailsubject:[],emailcontent:[],inputstatus:!1,tab:null,list:{},dialog:!1,recipientsitems:[],recipients:[],childrenpropertylist:[]}},computed:{items:function(){return[{tab:this.$t("label_functionVar")},{tab:this.$t("label_systemVar")}]},defaultemailsubject:function(){var t=this.$store.state.lang,e=this.emailsubject.filter((function(e){return e.language_code==t}));return e.length>0?e[0].content:$t("verify_pleaseSetContent")},defaultemailcontent:function(){var t=this.$store.state.lang,e=this.emailcontent.filter((function(e){return e.language_code==t}));return e.length>0?e[0].content:$t("verify_pleaseSetContent")}},created:function(){},watch:{TSemailsubject:{handler:function(t){console.log(t,"只改变了")}}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getselectlist();case 2:if(!this.$store.state.uuid){t.next=7;break}return t.next=5,this.getdetail();case 5:t.next=9;break;case 7:this.emailsubject=[{language_code:"zh",content_type:"1",content:""},{language_code:"cn",content_type:"1",content:""}],this.emailcontent=[{language_code:"zh",content_type:"2",content:""},{language_code:"cn",content_type:"2",content:""}];case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getdetail:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,s,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["getdetailemailtemplate"])({uuid:this.$store.state.uuid});case 2:e=t.sent,200==e.code&&(a=[],n=[],s=[],i=[],r=[],o=[],-1!=e.data.template_addressee.indexOf(",")?e.data.template_addressee.split(",").map((function(t){0==t.indexOf("{{")?a.push({property:t,divbgd:!0}):n.push(t)})):0==e.data.template_addressee.indexOf("{{")?a.push({property:e.data.template_addressee,divbgd:!0}):n.push(e.data.template_addressee),-1!=e.data.template_carbon_copy.indexOf(",")?e.data.template_carbon_copy.split(",").map((function(t){0==t.indexOf("{{")?s.push({property:t,divbgd:!0}):i.push(t)})):0==e.data.template_carbon_copy.indexOf("{{")?s.push({property:item,divbgd:!0}):i.push(e.data.template_carbon_copy),e.mrbase_sys_mail_template_language.map((function(t){1==t.content_type&&(t.content=t.content.replace(/<br\/>/g,"\n"),r.push(t)),2==t.content_type&&(t.content=t.content.replace(/<br\/>/g,"\n"),o.push(t))})),this.propertylist=a,this.showlist=n,this.deputypropertylist=s,this.deputyshowlist=""!=i[0]?i:[],this.emailsubject=r,this.emailcontent=o);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getselectlist:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$store.state.currentCompany,t.next=3,Object(c["getBusinessList"])({prompt_name:"recipients_staff",uuid:e});case 3:a=t.sent,200==a.code&&(this.selectlist=a.data);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){var t=this;this.$myConfirm({content:this.$t("message_Confirm_the_cancellation_of_the_edit")}).then((function(e){t.$router.push({name:"emailtemplate"})}))["catch"]((function(t){}))},datatreating:function(){var t=this.showlist.join(",");this.propertylist.map((function(e){t+=e.property}));var e=this.deputyshowlist.join(",");this.deputypropertylist.map((function(t){e+=t.property}));var a=this.$clone(this.$deletefield(this.emailsubject)).map((function(t){return t.content.replace(/\n/g,"<br/>"),t})),n=this.$clone(this.$deletefield(this.emailcontent)).map((function(t){return t.content=t.content.replace(/\n/g,"<br/>"),t})),s=[].concat(Object(r["a"])(a),Object(r["a"])(n));return s=s.map((function(t){return delete t.id,delete t.template_uuid,t})),console.log(s),{mrbase_sys_mail_template_language:s,template_addressee:t,template_carbon_copy:e}},success:function(){var t=this;Object(l["updateemailtemplate"])(Object(i["a"])({uuid:this.$store.state.uuid},this.datatreating())).then((function(e){200==e.code?(t.$store.commit("newsTips",t.$t("message_The_operation_was_successful")),t.getdetail()):t.$store.commit("newsTips",e.msg)}))},addcancel:function(){this.$emit("changee1",1)},addsuccess:function(){this.$emit("submit",this.datatreating())},getpropertylist:function(t){this.propertylist=t},deputygetpropertylist:function(t){this.deputypropertylist=t}}},f=m,x=(a("e9c1"),a("2877")),v=Object(x["a"])(f,n,s,!1,null,"5a59c040",null);e["default"]=v.exports},bad1:function(t,e,a){},bf6a:function(t,e,a){},d696:function(t,e,a){"use strict";a.r(e),a.d(e,"getemailtemplatelist",(function(){return i})),a.d(e,"getdetailemailtemplate",(function(){return r})),a.d(e,"addemailtemplate",(function(){return o})),a.d(e,"updateemailtemplate",(function(){return l})),a.d(e,"deleteemailtemplate",(function(){return c}));a("d3b7");var n=a("efc9"),s="mrbase_sys_mail_template",i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=s,new Promise((function(e,a){n["default"].post("/api/mailtemplate/list-template/v1",t).then((function(t){e(t)}))["catch"]((function(t){a(t)}))}))},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=s,new Promise((function(e,a){n["default"].post("/api/mailtemplate/find-template/v1",t).then((function(t){e(t)}))["catch"]((function(t){a(t)}))}))},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=s,new Promise((function(e,a){n["default"].post("/api/mailtemplate/add-template/v1",t).then((function(t){e(t)}))["catch"]((function(t){a(t)}))}))},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=s,new Promise((function(e,a){n["default"].post("/api/mailtemplate/update-template/v1",t).then((function(t){e(t)}))["catch"]((function(t){a(t)}))}))},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t["~table~"]=s,new Promise((function(e,a){n["default"].post("/api/mailtemplate/delete-template/v1",t).then((function(t){e(t)}))["catch"]((function(t){a(t)}))}))}},e38b:function(t,e,a){"use strict";var n=a("2b81"),s=a.n(n);s.a},e9c1:function(t,e,a){"use strict";var n=a("18db"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-6ee45c3d.4788c926.js.map