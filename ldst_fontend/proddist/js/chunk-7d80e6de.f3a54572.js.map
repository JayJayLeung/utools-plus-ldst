{"version":3,"sources":["webpack:///./src/service/api/OrganizationalManagement.js","webpack:///./src/views/o_f_manage/organizationalManagement/detailOrganizationalManagement.vue?e5ea","webpack:///src/views/o_f_manage/organizationalManagement/detailOrganizationalManagement.vue","webpack:///./src/views/o_f_manage/organizationalManagement/detailOrganizationalManagement.vue?d9e9","webpack:///./src/views/o_f_manage/organizationalManagement/detailOrganizationalManagement.vue","webpack:///./src/views/o_f_manage/organizationalManagement/organizationalManagement.vue?30bd","webpack:///src/views/o_f_manage/organizationalManagement/organizationalManagement.vue","webpack:///./src/views/o_f_manage/organizationalManagement/organizationalManagement.vue?d79b","webpack:///./src/views/o_f_manage/organizationalManagement/organizationalManagement.vue"],"names":["table","getOrganizationalManagementList","params","Promise","resolve","reject","http","post","then","res","err","detailOrganizationalManagement","deleteOrganizationalManagement","updateOrganizationalManagement","addOrganizationalManagement","render","_vm","this","_h","$createElement","_c","_self","attrs","readonly","on","handleEdit","handleDel","staticRenderFns","components","OrganizationalManagement","props","data","list","computed","created","watch","mounted","$store","state","iconstatus","$route","meta","title","getters","subPage_name","beforeDestroy","methods","commit","$myConfirm","code","name","component","staticClass","$t","topcompanylist","model","value","viewList","callback","$$v","$set","expression","deptuuid","changeType","$errors","requiredRule","disabled","paramsChange","staticStyle","newdeptuuid","newsuperior","newspica","newjob_post_uuid","judegNational","_e","btnIsLoading","success","cancel","type","Boolean","default","company_uuid","currentCompany","company_Name","items","org_level_name","superior","spica","newmrbase_sys_job_post_grades","changeList","val","role_uuids","String","indexOf","split","content","validations","staff_uuid","required","Change_effective"],"mappings":"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","file":"js/chunk-7d80e6de.f3a54572.js","sourcesContent":["/*\r\n * @Description: \r\n * @Autor: yd\r\n * @Date: 2020-08-17 11:00:19\r\n * @LastEditors: yd\r\n * @LastEditTime: 2020-08-17 11:08:31\r\n */\r\n//员工管理\r\nimport http from '../httpConfig'\r\n\r\nconst table = \"mrbase_sys_staff_property_group\"\r\n\r\n\r\nexport const getOrganizationalManagementList = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/staff-property/find-group/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\nexport const detailOrganizationalManagement = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/staff-property/find-group/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\nexport const deleteOrganizationalManagement = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/staff-property/find-group/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n\r\nexport const updateOrganizationalManagement = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/staff-property/delete-group/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n\r\nexport const addOrganizationalManagement = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/staff-property/add-group/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mrc_ess_iconGroup',{attrs:{\"is_disabled\":_vm.readonly,\"showReturn\":false},on:{\"handleEdit\":_vm.handleEdit,\"handleDel\":_vm.handleDel}}),_c('OrganizationalManagement',{attrs:{\"disabled\":_vm.readonly}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Autor: yd\r\n * @Date: 2020-07-13 09:24:52\r\n * @LastEditors: yd\r\n * @LastEditTime: 2020-08-17 11:14:48\r\n--> \r\n<template>\r\n  <div>\r\n    <mrc_ess_iconGroup :is_disabled='readonly'\r\n                       :showReturn='false'\r\n                       @handleEdit='handleEdit'\r\n                       @handleDel='handleDel'></mrc_ess_iconGroup>\r\n    <OrganizationalManagement :disabled='readonly'></OrganizationalManagement>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { deleteOrganizationalManagement } from '@/service/api/OrganizationalManagement.js'\r\nimport OrganizationalManagement from './organizationalManagement'\r\nexport default {\r\n  components: {\r\n    OrganizationalManagement\r\n  },\r\n  props: {},\r\n  data () {\r\n    return {\r\n      readonly: false,\r\n      list: {}\r\n    };\r\n  },\r\n  computed: {},\r\n  created () { },\r\n  watch: {},\r\n  mounted () {\r\n    this.readonly = this.$store.state.iconstatus\r\n    this.$route.meta.title = this.$store.getters.subPage_name\r\n  },\r\n  beforeDestroy () {\r\n\r\n  },\r\n  methods: {\r\n    handleEdit () {\r\n      this.readonly = !this.readonly\r\n      this.$store.commit('set_iconstatus', this.readonly)\r\n    },\r\n    handleDel () {\r\n      this.$myConfirm({ content: this.$t('message_Confirm_the_deletion') }).then(res => {\r\n        deleteOrganizationalManagement({ uuid: this.$store.state.uuid }).then(res => {\r\n          if (res.code === '200') {\r\n            this.$store.commit('newsTips', this.$t('message_The_deletion_was_successful'))\r\n            this.$router.push({\r\n              name: 'OrganizationalManagement'\r\n            })\r\n          }\r\n        })\r\n      })\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detailOrganizationalManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detailOrganizationalManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detailOrganizationalManagement.vue?vue&type=template&id=6b233117&scoped=true&\"\nimport script from \"./detailOrganizationalManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./detailOrganizationalManagement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b233117\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-text',{staticClass:\"pl-8 pr-8\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_prompt',{attrs:{\"label\":this.$t('label_The_original_company')+'*',\"rules\":false,\"chips\":false,\"disabled\":true,\"value_field\":\"uuid\",\"view_fields\":\"org_level_name\",\"select_arr\":_vm.$store.state.topcompanylist},model:{value:(_vm.viewList.org_level_uuid),callback:function ($$v) {_vm.$set(_vm.viewList, \"org_level_uuid\", $$v)},expression:\"viewList.org_level_uuid\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_prompt',{attrs:{\"label\":this.$t('label_The_original_department')+'*',\"rules\":false,\"disabled\":true,\"obj\":_vm.deptuuid},model:{value:(_vm.viewList.dept_uuid),callback:function ($$v) {_vm.$set(_vm.viewList, \"dept_uuid\", $$v)},expression:\"viewList.dept_uuid\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_prompt',{attrs:{\"label\":_vm.$t('label_changeType')+'*',\"rules\":false,\"disabled\":true,\"obj\":_vm.changeType},model:{value:(_vm.viewList.job_post_uuid),callback:function ($$v) {_vm.$set(_vm.viewList, \"job_post_uuid\", $$v)},expression:\"viewList.job_post_uuid\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_datePicker',{attrs:{\"errMsg\":_vm.$errors('list','Change_effective',_vm.requiredRule),\"disabled\":_vm.disabled,\"label\":this.$t('label_Effective_date')+'*'},on:{\"getTime\":_vm.paramsChange},model:{value:(_vm.list.Change_effective),callback:function ($$v) {_vm.$set(_vm.list, \"Change_effective\", $$v)},expression:\"list.Change_effective\"}})],1)],1),_c('div',[_c('div',{staticClass:\"pl-6 pt-6 pr-6 mt-4 mb-6\",staticStyle:{\"border\":\"2px solid rgb(238, 238, 240)\",\"border-radius\":\"8px\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_prompt',{attrs:{\"label\":this.$t('label_New_company')+'*',\"rules\":false,\"value_field\":\"uuid\",\"view_fields\":\"org_level_name\",\"select_arr\":_vm.$store.state.topcompanylist,\"disabled\":_vm.disabled},model:{value:(_vm.list.transferred_org_level_uuid),callback:function ($$v) {_vm.$set(_vm.list, \"transferred_org_level_uuid\", $$v)},expression:\"list.transferred_org_level_uuid\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_prompt',{attrs:{\"label\":this.$t('label_New_department')+'*',\"rules\":false,\"disabled\":_vm.disabled,\"obj\":_vm.newdeptuuid},model:{value:(_vm.list.transferred_dept_uuid),callback:function ($$v) {_vm.$set(_vm.list, \"transferred_dept_uuid\", $$v)},expression:\"list.transferred_dept_uuid\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('mrc_ess_prompt',{attrs:{\"label\":_vm.$t('label_newDepartManager')+'*',\"rules\":false,\"disabled\":_vm.disabled,\"obj\":_vm.newsuperior},model:{value:(_vm.list.direct_leader_code),callback:function ($$v) {_vm.$set(_vm.list, \"direct_leader_code\", $$v)},expression:\"list.direct_leader_code\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_prompt',{attrs:{\"label\":_vm.$t('label_role')+'：'+_vm.$t('label_move')+'/'+_vm.$t('label_merge')+'*',\"rules\":false,\"multiple\":true,\"disabled\":_vm.disabled,\"obj\":_vm.newspica},model:{value:(_vm.list.transferred_role_uuid),callback:function ($$v) {_vm.$set(_vm.list, \"transferred_role_uuid\", $$v)},expression:\"list.transferred_role_uuid\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('mrc_ess_prompt',{attrs:{\"label\":_vm.$t('label_post')+'：'+_vm.$t('label_move')+'/'+_vm.$t('label_merge')+'*',\"rules\":false,\"disabled\":_vm.disabled,\"obj\":_vm.newjob_post_uuid},model:{value:(_vm.list.transferred_post_uuid\t),callback:function ($$v) {_vm.$set(_vm.list, \"transferred_post_uuid\", $$v)},expression:\"list.transferred_post_uuid\\t\"}})],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('mrc_ess_multiText',{attrs:{\"label\":this.$t('label_note'),\"isNational\":_vm.judegNational('remark'),\"readonly\":_vm.disabled},model:{value:(_vm.list.remark),callback:function ($$v) {_vm.$set(_vm.list, \"remark\", $$v)},expression:\"list.remark\"}})],1)],1)],1),(!_vm.disabled)?_c('mrc_ess_submitBtn',{attrs:{\"loading\":_vm.btnIsLoading},on:{\"success\":_vm.success,\"cancel\":_vm.cancel}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Autor: yd\r\n * @Date: 2020-07-27 10:37:42\r\n * @LastEditors: Please set LastEditors\r\n * @LastEditTime: 2020-09-08 16:30:40\r\n--> \r\n<template>\r\n  <v-card>\r\n    <v-card-text class=\"pl-8 pr-8\">\r\n      <v-row>\r\n        <v-col cols=\"6\">\r\n          <mrc_ess_prompt :label=\"this.$t('label_The_original_company')+'*'\"\r\n                          :rules='false'\r\n                          :chips='false'\r\n                          :disabled='true'\r\n                          value_field='uuid'\r\n                          view_fields='org_level_name'\r\n                          :select_arr='$store.state.topcompanylist'\r\n                          v-model=\"viewList.org_level_uuid\">\r\n          </mrc_ess_prompt>\r\n        </v-col>\r\n        <v-col cols=\"6\">\r\n          <mrc_ess_prompt :label=\"this.$t('label_The_original_department')+'*'\"\r\n                          :rules='false'\r\n                          :disabled='true'\r\n                          v-model=\"viewList.dept_uuid\"\r\n                          :obj=\"deptuuid\">\r\n          </mrc_ess_prompt>\r\n        </v-col>\r\n        <v-col cols=\"6\">\r\n          <mrc_ess_prompt :label=\"$t('label_changeType')+'*'\"\r\n                          :rules='false'\r\n                          :disabled='true'\r\n                          v-model=\"viewList.job_post_uuid\"\r\n                          :obj=\"changeType\">\r\n          </mrc_ess_prompt>\r\n        </v-col>\r\n        <v-col cols=\"6\">\r\n          <mrc_ess_datePicker @getTime='paramsChange'\r\n                              :errMsg=\"$errors('list','Change_effective',requiredRule)\"\r\n                              :disabled=\"disabled\"\r\n                              :label=\"this.$t('label_Effective_date')+'*'\"\r\n                              v-model=\"list.Change_effective\"></mrc_ess_datePicker>\r\n        </v-col>\r\n      </v-row>\r\n      <div>\r\n        <div class=\"pl-6 pt-6 pr-6 mt-4 mb-6\"\r\n             style=\"border:2px solid rgb(238, 238, 240);border-radius:8px;\">\r\n          <v-row>\r\n            <v-col cols=\"6\">\r\n              <mrc_ess_prompt :label=\"this.$t('label_New_company')+'*'\"\r\n                              :rules='false'\r\n                              value_field='uuid'\r\n                              view_fields='org_level_name'\r\n                              :select_arr='$store.state.topcompanylist'\r\n                              :disabled='disabled'\r\n                              v-model=\"list.transferred_org_level_uuid\">\r\n              </mrc_ess_prompt>\r\n            </v-col>\r\n            <v-col cols=\"6\">\r\n              <mrc_ess_prompt :label=\"this.$t('label_New_department')+'*'\"\r\n                              :rules='false'\r\n                              :disabled='disabled'\r\n                              v-model=\"list.transferred_dept_uuid\"\r\n                              :obj=\"newdeptuuid\">\r\n              </mrc_ess_prompt>\r\n            </v-col>\r\n            <v-col cols=\"12\">\r\n              <mrc_ess_prompt :label=\"$t('label_newDepartManager')+'*'\"\r\n                              :rules='false'\r\n                              :disabled='disabled'\r\n                              v-model=\"list.direct_leader_code\"\r\n                              :obj=\"newsuperior\">\r\n              </mrc_ess_prompt>\r\n            </v-col>\r\n            <v-col cols=\"6\">\r\n              <mrc_ess_prompt :label=\"$t('label_role')+'：'+$t('label_move')+'/'+$t('label_merge')+'*'\"\r\n                              :rules='false'\r\n                              :multiple=\"true\"\r\n                              :disabled='disabled'\r\n                              v-model=\"list.transferred_role_uuid\"\r\n                              :obj=\"newspica\">\r\n              </mrc_ess_prompt>\r\n            </v-col>\r\n            <v-col cols=\"6\">\r\n              <mrc_ess_prompt :label=\"$t('label_post')+'：'+$t('label_move')+'/'+$t('label_merge')+'*'\"\r\n                              :rules='false'\r\n                              :disabled='disabled'\r\n                              v-model=\"list.transferred_post_uuid\t\"\r\n                              :obj=\"newjob_post_uuid\">\r\n              </mrc_ess_prompt>\r\n            </v-col>\r\n          </v-row>\r\n        </div>\r\n        <v-col cols=\"12\">\r\n          <mrc_ess_multiText :label=\"this.$t('label_note')\"\r\n                             :isNational=\"judegNational('remark')\"\r\n                             v-model=\"list.remark\"\r\n                             :readonly=\"disabled\">\r\n          </mrc_ess_multiText>\r\n        </v-col>\r\n      </div>\r\n    </v-card-text>\r\n    <mrc_ess_submitBtn @success='success'\r\n                       @cancel='cancel'\r\n                       :loading='btnIsLoading'\r\n                       v-if='!disabled'></mrc_ess_submitBtn>\r\n  </v-card>\r\n</template>\r\n\r\n<script> \r\nimport {\r\n  getOrganizationalManagementList\r\n  , detailOrganizationalManagement\r\n  , addOrganizationalManagement\r\n  , updateOrganizationalManagement\r\n  , deleteOrganizationalManagement\r\n} from '@/service/api/OrganizationalManagement.js'\r\nimport { required, maxLength, between, email, url } from 'vuelidate/lib/validators'\r\nexport default {\r\n  components: {},\r\n  props: {\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      list: {},\r\n      btnIsLoading: false,\r\n      viewList: {},\r\n    };\r\n  },\r\n  computed: {\r\n    // staffText: [this.$t('label_Former_boss') + '*', ''],\r\n    deptuuid () {  //部门参照查询字段\r\n      return { prompt_name: 'levelUuid_deptUuid', org_level_uuid: this.company_uuid }\r\n    },\r\n    company_uuid () { //当前选中公司\r\n      return this.$store.state.currentCompany\r\n    },\r\n    company_Name () { //当前选中公司名字\r\n      const items = this.$store.state.topcompanylist.filter(item => item.uuid == this.$store.state.currentCompany)\r\n      return items[0].org_level_name\r\n    },\r\n    changeType () {  //变更类型\r\n      return { prompt_name: 'level-dept-post', dept_uuid: this.viewList.dept_uuid }\r\n    },\r\n    superior () { //上司高级参照\r\n      return { prompt_name: 'boss', org_level_uuid: this.company_uuid, staff_uuid: this.list.staff_uuid }\r\n    },\r\n    spica () { //角色高级参照 \r\n      return { prompt_name: 'level-role', org_level_uuid: this.company_uuid }\r\n    },\r\n    newdeptuuid () {  //部门参照查询字段\r\n      return { prompt_name: 'levelUuid_deptUuid', org_level_uuid: this.list.transferred_org_level_uuid }\r\n    },\r\n    newjob_post_uuid () {  //岗位查询\r\n      return { prompt_name: 'level-dept-post', dept_uuid: this.list.transferred_dept_uuid }\r\n    },\r\n    newsuperior () { //上司高级参照\r\n      return { prompt_name: 'new_boss', org_level_uuid: this.list.transferred_org_level_uuid }\r\n    },\r\n    newspica () { //角色高级参照 \r\n      return { prompt_name: 'level-role', org_level_uuid: this.list.transferred_org_level_uuid }\r\n    },\r\n    newmrbase_sys_job_post_grades () { //岗位等级\r\n      return { prompt_name: 'mrbase_sys_job_post_grades', org_level_uuid: this.list.transferred_org_level_uuid }\r\n    }\r\n  },\r\n  created () { },\r\n  watch: {},\r\n  async mounted () {\r\n    await this.national('mrbase_sys_staffs_change_cont')\r\n    if (this.$store.state.uuid) {\r\n      this.getDetail()\r\n      this.$route.meta.title = this.$store.state.subPage_name\r\n    }\r\n    else {\r\n\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    paramsChange () { },\r\n    changeList (val) {\r\n      // console.log(val);\r\n      if (val.role_uuids) {\r\n        val.role_uuids = String(val.role_uuids).indexOf(',') != -1 ? String(val.role_uuids).split(',') : [val.role_uuids]\r\n      }\r\n      this.viewList = val\r\n    },\r\n    async getDetail () {\r\n      const res = await detailOrganizationalManagement({ uuid: this.$store.state.uuid })\r\n      if (res.code == 200) {\r\n        this.list = res.data\r\n        // console.log(this.list);\r\n        this.list.transferred_role_uuid = String(this.list.transferred_role_uuid).indexOf(',') != -1 ? this.list.transferred_role_uuid.split(',') : [this.list.transferred_role_uuid]\r\n        this.list.transferred_post_grade = String(this.list.transferred_post_grade).indexOf(',') != -1 ? this.list.transferred_post_grade.split(',') : [this.list.transferred_post_grade]\r\n        // console.log(this.list);\r\n      }\r\n      else {\r\n\r\n      }\r\n    },\r\n    async success () {\r\n      this.$v.list.$touch()\r\n      if (this.$v.list.$error) return\r\n      this.btnIsLoading = true\r\n      delete this.list.result_status\r\n      String(this.list.Change_effective).indexOf('-') == -1 ? this.list.Change_effective = this.$moment(this.list.Change_effective) : ''\r\n      this.list.transferred_role_uuid ? this.list.transferred_role_uuid = this.list.transferred_role_uuid.join() : ''\r\n      this.list.transferred_post_grade ? this.list.transferred_post_grade = this.list.transferred_post_grade.join() : ''\r\n      // console.log(this.list);\r\n      // return\r\n      if (this.$store.state.uuid) {\r\n        updateOrganizationalManagement(this.$deletefield(null, this.list)).then(res => {\r\n          if (res.code == 200) {\r\n            this.$store.commit('newsTips', this.$t('message_The_operation_was_successful'))\r\n            this.getDetail()\r\n          }\r\n          else {\r\n            this.$store.commit('newsTips', this.$t('message_The_modification_failed') + res.msg)\r\n          }\r\n          this.btnIsLoading = false\r\n        })\r\n      }\r\n      else {\r\n        addOrganizationalManagement(this.list).then(res => {\r\n          if (res.code == 200) {\r\n            this.$store.commit('newsTips', this.$t('message_added_successfully'))\r\n            this.$router.push({ name: 'OrganizationalManagement' })\r\n          }\r\n          else {\r\n            this.$store.commit('newsTips', res.msg)\r\n          }\r\n          this.btnIsLoading = false\r\n        })\r\n      }\r\n    },\r\n    cancel () {\r\n      this.$myConfirm({\r\n        content: this.$t('message_Confirm_the_cancellation_of_the_edit')\r\n      }).then(res => {\r\n        this.$router.push({\r\n          name: 'OrganizationalManagement'\r\n        })\r\n      }).catch(err => { })\r\n    },\r\n  },\r\n  validations: {\r\n    list: {\r\n      staff_uuid: {\r\n        required\r\n      },\r\n      Change_effective: {\r\n        required\r\n      },\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./organizationalManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./organizationalManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./organizationalManagement.vue?vue&type=template&id=153d70c7&scoped=true&\"\nimport script from \"./organizationalManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./organizationalManagement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"153d70c7\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}