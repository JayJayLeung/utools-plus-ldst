(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb409efc","chunk-2d0e48bc","chunk-2d0bcea4","chunk-2d0d0f26","chunk-2d0e6677"],{"2a87":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("mrc_ess_multiText",{attrs:{label:e.$t("label_The_name")+"*",readonly:e.disabled,isNational:e.judegNational("preferred_name"),"error-messages":e.$errors("stafflist","preferred_name",e.requiredRule)},model:{value:e.stafflist.preferred_name,callback:function(t){e.$set(e.stafflist,"preferred_name",t)},expression:"stafflist.preferred_name"}})],1),a("v-col",{attrs:{cols:"4"}},[a("mrc_ess_multiText",{attrs:{label:e.$t("label_Surname")+"*",readonly:e.disabled,isNational:e.judegNational("family_name"),"error-messages":e.$errors("stafflist","family_name",e.requiredRule)},model:{value:e.stafflist.family_name,callback:function(t){e.$set(e.stafflist,"family_name",t)},expression:"stafflist.family_name"}})],1),a("v-col",{attrs:{cols:"4"}},[a("mrc_ess_multiText",{attrs:{label:e.$t("label_Nickname"),isNational:e.judegNational("child_name"),readonly:e.disabled},model:{value:e.stafflist.child_name,callback:function(t){e.$set(e.stafflist,"child_name",t)},expression:"stafflist.child_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("mrc_ess_multiText",{attrs:{label:e.$t("label_Show_the_name")+"*",isNational:e.judegNational("show_name"),"error-messages":e.$errors("stafflist","show_name",e.requiredRule),readonly:e.disabled},model:{value:e.stafflist.show_name,callback:function(t){e.$set(e.stafflist,"show_name",t)},expression:"stafflist.show_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("mrc_ess_brandupload",{on:{changeimgSrc:e.changeimgSrc},model:{value:e.files2,callback:function(t){e.files2=t},expression:"files2"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("mrc_ess_multiText",{attrs:{label:e.$t("label_Mailbox")+"*",isNational:e.judegNational("staff_email"),"error-messages":e.$errors("stafflist","staff_email",e.requiredRule.concat(e.emailRule)),readonly:e.disabled},model:{value:e.stafflist.staff_email,callback:function(t){e.$set(e.stafflist,"staff_email",t)},expression:"stafflist.staff_email"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("mrc_ess_multiText",{attrs:{label:e.$t("label_Employee_ID")+"*",isNational:e.judegNational("staff_code"),"error-messages":e.$errors("stafflist","staff_code",e.requiredRule),readonly:e.disabled},model:{value:e.stafflist.staff_code,callback:function(t){e.$set(e.stafflist,"staff_code",t)},expression:"stafflist.staff_code"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("mrc_ess_prompt",{attrs:{label:e.$t("label_department")+"*",errMsg:e.$errors("stafflist","dept_uuid",e.requiredRule),rules:!1,disabled:e.disabled,obj:e.companyName},model:{value:e.stafflist.dept_uuid,callback:function(t){e.$set(e.stafflist,"dept_uuid",t)},expression:"stafflist.dept_uuid"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("mrc_ess_prompt",{attrs:{label:e.$t("label_Position_Title")+"*",errMsg:e.$errors("stafflist","job_post_uuid",e.requiredRule),rules:!1,disabled:e.disabled,obj:e.job_post_uuid},model:{value:e.stafflist.job_post_uuid,callback:function(t){e.$set(e.stafflist,"job_post_uuid",t)},expression:"stafflist.job_post_uuid"}})],1),a("v-col",{attrs:{cols:"6"}},[a("mrc_ess_prompt",{attrs:{label:e.$t("label_Post_grades")+"*",errMsg:e.$errors("stafflist","job_post_grade_uuid",e.requiredRule),rules:!1,disabled:e.disabled,multiple:!0,obj:e.mrbase_sys_job_post_grades},model:{value:e.job_post_grade_uuid,callback:function(t){e.job_post_grade_uuid=t},expression:"job_post_grade_uuid"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-checkbox",{staticClass:"mx-2",attrs:{"true-value":1,"false-value":0,label:e.$t("label_The_person_in_charge_of_the_unit")},model:{value:e.stafflist.is_org_manager,callback:function(t){e.$set(e.stafflist,"is_org_manager",t)},expression:"stafflist.is_org_manager"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-checkbox",{staticClass:"mx-2",attrs:{"true-value":1,"false-value":0,label:e.$t("label_Department_head")},model:{value:e.stafflist.is_dept_manage,callback:function(t){e.$set(e.stafflist,"is_dept_manage",t)},expression:"stafflist.is_dept_manage"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("mrc_ess_prompt",{attrs:{label:e.$t("label_Boss"),rules:!1,disabled:e.disabled,obj:e.superior},model:{value:e.stafflist.direct_leader_code,callback:function(t){e.$set(e.stafflist,"direct_leader_code",t)},expression:"stafflist.direct_leader_code"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("mrc_ess_prompt",{attrs:{label:e.$t("label_role")+"*",rules:!1,errMsg:e.$errors("stafflist","role_uuids",e.requiredRule),multiple:"",disabled:e.disabled,obj:e.spica},model:{value:e.roleUuids,callback:function(t){e.roleUuids=t},expression:"roleUuids"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("mrc_ess_datePicker",{attrs:{disabled:!1,errMsg:e.$errors("stafflist","first_employment_date",e.requiredRule.concat([{rule:"beforeDate",msg:"不能超过终止日期"}])),label:e.$t("label_The_date_of_entry_to_the_company")+"*"},model:{value:e.stafflist.first_employment_date,callback:function(t){e.$set(e.stafflist,"first_employment_date",t)},expression:"stafflist.first_employment_date"}})],1),a("v-col",{attrs:{cols:"6"}},[a("mrc_ess_datePicker",{attrs:{disabled:!1,label:e.$t("label_The_end_date_of_the_trial_period")+"*",errMsg:e.$errors("stafflist","probation_end_date",e.requiredRule.concat([{rule:"afterDate",msg:"不能晚于开始时间"}]))},model:{value:e.stafflist.probation_end_date,callback:function(t){e.$set(e.stafflist,"probation_end_date",t)},expression:"stafflist.probation_end_date"}})],1)],1)],1),a("mrc_ess_submitBtn",{attrs:{successText:e.$t("label_The_next_step")},on:{cancel:e.cancel,success:e.success}})],1)},r=[],i=(a("a15b"),a("0d03"),a("ac1f"),a("1276"),a("96cf"),a("1da1")),o=a("b5ae"),n={components:{},props:{},data:function(){return{items:[],disabled:!1,stafflist:{job_post_uuid:"",org_level_uuid:"",show_name:"",job_post_grade_uuid:"",given_name:"",child_name:"",christian_name:"",role_uuids:"",dept_uuid:"",family_name:"",preferred_name:"",staff_email:"",is_dept_manage:0,is_org_manager:0,direct_leader_code:"",staff_image:"展示不同自己添加",staff_status:1},files:[],files2:{}}},validations:{stafflist:{preferred_name:{required:o["required"]},family_name:{required:o["required"]},child_name:{},show_name:{required:o["required"]},staff_email:{required:o["required"],email:o["email"]},staff_code:{required:o["required"]},dept_uuid:{required:o["required"]},job_post_uuid:{required:o["required"]},job_post_grade_uuid:{required:o["required"]},is_org_manager:{},is_dept_manage:{},direct_leader_code:{},role_uuids:{required:o["required"]},first_employment_date:{required:o["required"],beforeDate:function(e){if(!this.stafflist.probation_end_date)return!0;var t=new Date(e).valueOf(),a=new Date(this.stafflist.probation_end_date).valueOf();return t<a}},probation_end_date:{required:o["required"],afterDate:function(e){if(!this.stafflist.first_employment_date)return!0;var t=new Date(e).valueOf(),a=new Date(this.stafflist.first_employment_date).valueOf();return a<t}}}},created:function(){},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.national("mrbase_sys_staffs");case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{changeimgSrc:function(){},cancel:function(){},success:function(){this.$v.stafflist.$touch(),this.$v.stafflist.$error||(this.stafflist.org_level_uuid=this.company_uuid,this.$emit("changee1",2,this.stafflist))}},computed:{job_post_grade_uuid:{get:function(){return this.stafflist.job_post_grade_uuid.length>0?this.stafflist.job_post_grade_uuid.length>1?this.stafflist.job_post_grade_uuid.split(","):[this.stafflist.job_post_grade_uuid]:[]},set:function(e){this.stafflist.job_post_grade_uuid=e.join()}},roleUuids:{get:function(){return this.stafflist.role_uuids.length>0?this.stafflist.role_uuids.length>1?this.stafflist.role_uuids.split(","):[this.stafflist.role_uuids]:[]},set:function(e){this.stafflist.role_uuids=e.join()}},company_uuid:function(){return this.$store.state.currentCompany},companyName:function(){return{prompt_name:"levelUuid_deptUuid",org_level_uuid:this.company_uuid}},job_post_uuid:function(){return{prompt_name:"level-dept-post",dept_uuid:this.stafflist.dept_uuid}},superior:function(){return{prompt_name:"new_boss",org_level_uuid:this.company_uuid}},spica:function(){return{prompt_name:"level-role",org_level_uuid:this.company_uuid}},mrbase_sys_job_post_grades:function(){return{prompt_name:"mrbase_sys_job_post_grades",org_level_uuid:this.company_uuid}}},watch:{}},l=n,u=a("2877"),f=Object(u["a"])(l,s,r,!1,null,"c3abdc74",null);t["default"]=f.exports},"69c0":function(e,t,a){"use strict";a.r(t),a.d(t,"getStaffPropertyGroup",(function(){return i})),a.d(t,"getStaffPropertyGroupDetail",(function(){return o})),a.d(t,"getPropertyGroupDetail",(function(){return n})),a.d(t,"deleteStaffPropertyGroup",(function(){return l})),a.d(t,"updateStaffPropertyGroup",(function(){return u})),a.d(t,"addStaffPropertyGroup",(function(){return f})),a.d(t,"add_staff_manager",(function(){return c}));a("d3b7");var s=a("efc9"),r="mrbase_sys_staff_property_group",i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=r,new Promise((function(t,a){s["default"].post("/api/staff-property/list-group/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=r,new Promise((function(t,a){s["default"].post("/api/staff-property/find-group/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]="mrbase_sys_staff_property_group_default_value",new Promise((function(t,a){s["default"].post("/api/staff-property/find-property/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=r,new Promise((function(t,a){s["default"].post("/api/staff-property/delete-group/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=r,new Promise((function(t,a){s["default"].post("/api/staff-property/update-group/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=r,new Promise((function(t,a){s["default"].post("/api/staff-property/add-group/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]="mrbase_sys_staffs",new Promise((function(t,a){s["default"].post("/api/staff-manager/add-staff/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))}},"752f":function(e,t,a){},"87ab":function(e,t,a){"use strict";var s=a("752f"),r=a.n(s);r.a},"914b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("mrc_ess_prompt",{attrs:{label:"Reference from property group*",obj:e.clientSource},model:{value:e.client,callback:function(t){e.client=t},expression:"client"}})],1)],1)],1),a("mrc_ess_submitBtn",{attrs:{cancelText:e.$t("label_The_previous_step")},on:{cancel:e.cancel,success:e.success}})],1)},r=[],i={components:{},props:{},data:function(){return{client:null,clientSource:{},mrbase_sys_staff_property:[{staff_property_master_uuid:"staff_property_uuid_016",org_level_uuid:"74477f34-78f5-4a1e-8078-a3ce796df11b",effective_utc_datetime:"2020-3-1",staff_property_master_code:"AAA001",value:"其他",remarks:"民族"},{staff_property_master_uuid:"staff_property_uuid_016",org_level_uuid:"74477f34-78f5-4a1e-8078-a3ce796df11b",effective_utc_datetime:"2020-6-1",staff_property_master_code:"AAA001",value:"汉",remarks:"名族"},{staff_property_master_uuid:"staff_property_uuid_019",org_level_uuid:"74477f34-78f5-4a1e-8078-a3ce796df11b",effective_utc_datetime:"2020-9-1",staff_property_master_code:"AAA001|BBB001",value:"其他",remarks:"国籍"},{staff_property_master_uuid:"staff_property_uuid_019",org_level_uuid:"74477f34-78f5-4a1e-8078-a3ce796df11b",effective_utc_datetime:"2020-3-1",staff_property_master_code:"AAA001|BBB001",value:"中国",remarks:"国籍"},{staff_property_master_uuid:"staff_property_uuid_022",org_level_uuid:"74477f34-78f5-4a1e-8078-a3ce796df11b",effective_utc_datetime:"2020-6-1",staff_property_master_code:"AAA001|BBB002",value:"zh",remarks:"语言"},{staff_property_master_uuid:"staff_property_uuid_022",org_level_uuid:"74477f34-78f5-4a1e-8078-a3ce796df11b",effective_utc_datetime:"2020-9-1",staff_property_master_code:"AAA001|BBB002",value:"cn",remarks:"语言"}]}},created:function(){},mounted:function(){},methods:{cancel:function(){this.$emit("changee2",1)},success:function(){this.$emit("submit",this.mrbase_sys_staff_property)}},computed:{},watch:{}},o=i,n=a("2877"),l=Object(n["a"])(o,s,r,!1,null,"84ccb0f2",null);t["default"]=l.exports},9934:function(e,t,a){"use strict";a.r(t),a.d(t,"uploadFileAll",(function(){return r})),a.d(t,"uploadFileUser",(function(){return i})),a.d(t,"uploadFileOrg",(function(){return o}));a("d3b7");var s=a("efc9"),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,a){s["default"].uploadFile("/api/importData/current-import-data/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,a){s["default"].uploadFile("/api/importData/user-import-data/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,a){s["default"].uploadFile("/api/importData/org-import-data/v1",e).then((function(e){t(e)}))["catch"]((function(e){a(e)}))}))}},e6c2:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{position:"relative"}},[a("span",{staticStyle:{position:"absolute",right:"10px",top:"-50px"}},[a("mrc_ess_uploadBtn",{staticStyle:{position:"absolute",left:"-100px"},attrs:{fn:e.fn,label:e.$t("label_Batch_Import"),uploadLoading:e.uploadLoading,resStatus:e.resStatus},on:{sendRequest:e.sendRequest,findError:e.findError}}),a("v-btn",{attrs:{rounded:"",color:"primary",dark:""},on:{click:function(t){e.dialog=!0}}},[e._v(e._s(e.$t("label_Download_the_template")))])],1),a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v(e._s(e.$t("label_Employee_profile")))]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v("propety")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("staffdata",{on:{changee1:e.changee1}})],1),a("v-stepper-content",{attrs:{step:"2"}},[a("propety",{on:{changee2:e.changee2,submit:e.submit}})],1)],1)],1)],1)},r=[],i=a("5530"),o=(a("96cf"),a("1da1")),n=a("2a87"),l=a("914b"),u=a("69c0"),f=a("9934"),c=a("a78e"),d=a.n(c),_={components:{staffdata:n["default"],propety:l["default"]},data:function(){return{fn:null,uploadLoading:null,resStatus:null,e1:1,adduserlist:{},mrbase_sys_staff_property:[]}},methods:{findError:function(){this.fn=getStaffLeaveList},sendRequest:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.uploadLoading=!0,a=new FormData,a.append("attachment_file",t),a.append("formData",JSON.stringify({module_uuid:this.$store.state.menuFunctionUuid,"~table~":"mrbase_sys_staffs",token:d.a.get("token")})),e.next=6,Object(f["uploadFileUser"])(a);case 6:s=e.sent,200==s.code?(this.uploadLoading=!1,this.resStatus=!0):(this.uploadLoading=!1,this.resStatus=!1);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),changee1:function(e,t){this.e1=e,this.adduserlist=t,console.log(t)},changee2:function(e){this.e1=e},submit:function(e){var t=this;this.mrbase_sys_staff_property=e;var a=window.location.origin+"/#/login";Object(u["add_staff_manager"])(Object(i["a"])(Object(i["a"])({},this.adduserlist),{},{login_url:a})).then((function(e){"200"===e.code?(t.$store.commit("newsTips",t.$t("message_added_successfully")),t.$router.push({name:"staffmanagement"})):t.$store.commit("newsTips",e.msg)}))}}},p=_,m=(a("87ab"),a("2877")),b=Object(m["a"])(p,s,r,!1,null,"0983309b",null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-fb409efc.143a94d5.js.map