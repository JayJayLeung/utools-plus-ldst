{"version":3,"sources":["webpack:///./src/service/api/menu.js","webpack:///./src/views/menu_manage/menu_list.vue?9936","webpack:///./src/views/menu_manage/menu_list.vue?fe47","webpack:///src/views/menu_manage/menu_list.vue","webpack:///./src/views/menu_manage/menu_list.vue?9910","webpack:///./src/views/menu_manage/menu_list.vue"],"names":["table","get_menuList","params","Promise","resolve","reject","http","post","then","res","err","get_menuDetail","add_menu","update_menu","del_menu","render","_vm","this","_h","$createElement","_c","_self","on","$event","stopPropagation","toggle","staticClass","class","level","style","paddingLeft","showChildren","visibility","obj","children","length","_v","_s","INT","menu_name","attrs","clientType","is_show","$t","list","handleClick","scopedSlots","_u","key","fn","proxy","_l","item","index","delData","_e","staticRenderFns","name","components","props","type","Number","default","Object","data","is_del","created","mounted","methods","$emit","uuid","$store","commit","$router","push","$myConfirm","title","content","console","log","computed","watch","component"],"mappings":"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","file":"js/chunk-97c2cf70.3d50dce3.js","sourcesContent":["import http from '../httpConfig'\r\nconst table = 'mrbase_sys_menus'\r\n// 菜单管理列表\r\nexport const get_menuList = (params = {}) => {\r\n    params['~table~'] = table\r\n    return new Promise((resolve, reject) => {\r\n        http.post('/api/menu/list-menu/v1', params)\r\n            .then(res => {\r\n                resolve(res)\r\n            })\r\n            .catch(err => {\r\n                reject(err)\r\n            })\r\n    })\r\n}\r\n// 菜单管理详情\r\nexport const get_menuDetail = (params = {}) => {\r\n    params['~table~'] = table\r\n    return new Promise((resolve, reject) => {\r\n        http.post('/api/menu/find-menu/v1', params)\r\n            .then(res => {\r\n                resolve(res)\r\n            })\r\n            .catch(err => {\r\n                reject(err)\r\n            })\r\n    })\r\n}\r\n// 菜单管理新增\r\nexport const add_menu = (params = {}) => {\r\n    params['~table~'] = table\r\n    return new Promise((resolve, reject) => {\r\n        http.post('/api/menu/add-menu/v1', params)\r\n            .then(res => {\r\n                resolve(res)\r\n            })\r\n            .catch(err => {\r\n                reject(err)\r\n            })\r\n    })\r\n}\r\n// 菜单管理修改\r\nexport const update_menu = (params = {}) => {\r\n    params['~table~'] = table\r\n    return new Promise((resolve, reject) => {\r\n        http.post('/api/menu/update-menu/v1', params)\r\n            .then(res => {\r\n                resolve(res)\r\n            })\r\n            .catch(err => {\r\n                reject(err)\r\n            })\r\n    })\r\n}\r\n// 菜单管理删除\r\nexport const del_menu = (params = {}) => {\r\n    params['~table~'] = table\r\n    return new Promise((resolve, reject) => {\r\n        http.post('/api/menu/delete-menu/v1', params)\r\n            .then(res => {\r\n                resolve(res)\r\n            })\r\n            .catch(err => {\r\n                reject(err)\r\n            })\r\n    })\r\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu_list.vue?vue&type=style&index=0&id=2fa31cfc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu_list.vue?vue&type=style&index=0&id=2fa31cfc&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.is_del)?_c('div',{on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle($event)}}},[_c('div',{staticClass:\"top\",class:{'resetOne': _vm.level > 0}},[_c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"title\",style:({'paddingLeft': _vm.paddingLeft})},[_c('v-icon',{staticClass:\"icon\",class:{'transformIcon': _vm.showChildren},style:({ visibility: _vm.obj.children&&_vm.obj.children.length > 0 ? 'visible' : 'hidden'})},[_vm._v(\"mdi-menu-down\")]),_c('div',{staticClass:\"title_name\"},[_vm._v(_vm._s(_vm.INT(_vm.obj.menu_name)))])],1),_c('div',{staticClass:\"iconlist\"},[_c('mrc_ess_showClientType',{attrs:{\"iconList\":_vm.obj.clientType}})],1),_c('div',{staticClass:\"func_name\"},[_vm._v(_vm._s(_vm.INT(_vm.obj.menu_name)))]),_c('div',{staticClass:\"is_show\"},[_c('span',{staticClass:\"status\",class:{'is_used': !_vm.obj.is_show}},[_vm._v(_vm._s(_vm.obj.is_show ? _vm.$t('label_display') : _vm.$t('label_hidden')))])]),_c('div',{staticClass:\"action\"},[_c('menu-list',{attrs:{\"list\":_vm.list},on:{\"handleClick\":_vm.handleClick},scopedSlots:_vm._u([{key:\"showAction\",fn:function(){return [_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])]},proxy:true}],null,false,2106939161)})],1)]),(_vm.showChildren)?_c('div',_vm._l((_vm.obj.children),function(item,index){return _c('menu-list-manage',{key:index,attrs:{\"obj\":item,\"level\":_vm.level + 1},on:{\"delData\":_vm.delData}})}),1):_vm._e()])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div @click.stop=\"toggle\"\r\n       v-if=\"is_del\">\r\n    <div class=\"top\"\r\n         :class=\"{'resetOne': level > 0}\">\r\n      <div class=\"list\">\r\n        <div class=\"title\"\r\n             :style=\"{'paddingLeft': paddingLeft}\">\r\n          <!-- :style=\"{ visibility: !obj.sub || obj.sub.length <= 0 ? 'visible' : 'hidden'}\" -->\r\n          <v-icon class=\"icon\"\r\n                  :class=\"{'transformIcon': showChildren}\"\r\n                  :style=\"{ visibility: obj.children&&obj.children.length > 0 ? 'visible' : 'hidden'}\">mdi-menu-down</v-icon>\r\n          <div class=\"title_name\">{{INT(obj.menu_name)}}</div>\r\n        </div>\r\n        <div class=\"iconlist\">\r\n          <!-- <v-icon>mdi-close</v-icon>\r\n          <v-icon>mdi-close</v-icon>\r\n          <v-icon>mdi-close</v-icon>\r\n          <v-icon>mdi-close</v-icon> -->\r\n          <mrc_ess_showClientType :iconList='obj.clientType'></mrc_ess_showClientType>\r\n        </div>\r\n        <div class=\"func_name\">{{INT(obj.menu_name)}}</div>\r\n        <div class=\"is_show\">\r\n          <span class=\"status\"\r\n                :class=\"{'is_used': !obj.is_show}\">{{obj.is_show ? $t('label_display') : $t('label_hidden') }}</span>\r\n        </div>\r\n        <div class=\"action\">\r\n          <menu-list :list='list'\r\n                     @handleClick='handleClick'>\r\n            <template v-slot:showAction>\r\n              <v-icon>mdi-dots-vertical</v-icon>\r\n            </template>\r\n          </menu-list>\r\n\r\n        </div>\r\n      </div>\r\n      <div v-if=\"showChildren\">\r\n        <menu-list-manage v-for=\"(item,index) in obj.children\"\r\n                          :key='index'\r\n                          :obj='item'\r\n                          @delData='delData'\r\n                          :level='level + 1'></menu-list-manage>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { del_menu, get_menuList } from '@/service/api/menu'\r\nexport default {\r\n  name: 'menuListManage',\r\n  components: {},\r\n  props: {\r\n    level: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    obj: {\r\n      type: Object\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      is_del: true,\r\n      showChildren: false,\r\n\r\n    };\r\n  },\r\n  created () { },\r\n  mounted () { },\r\n  methods: {\r\n    toggle () {\r\n      if (this.obj.children.length <= 0) {\r\n        return\r\n      }\r\n      this.showChildren = !this.showChildren\r\n    },\r\n    delData (uuid) {\r\n      this.$emit('delData', uuid)\r\n    },\r\n    handleClick ({ index }) {\r\n      switch (index) {\r\n        case 0:\r\n          this.$store.commit('set_subPage_name', this.obj.menu_name)\r\n          this.$store.commit('set_uuid', this.obj.uuid)\r\n          this.$store.commit('set_iconstatus', true)\r\n          this.$router.push({\r\n            name: 'menu_detail',\r\n            params: {\r\n              name: this.obj.menu_name,\r\n              uuid: this.obj.uuid\r\n            }\r\n          })\r\n          break\r\n        case 1:\r\n          this.$store.commit('set_subPage_name', this.obj.menu_name)\r\n          this.$store.commit('set_uuid', this.obj.uuid)\r\n          this.$store.commit('set_iconstatus', false)\r\n          this.$router.push({\r\n            name: 'menu_detail',\r\n            params: {\r\n              name: this.obj.menu_name,\r\n              uuid: this.obj.uuid\r\n            }\r\n          })\r\n          break;\r\n        case 2:\r\n          this.$myConfirm({\r\n            title: '提示',\r\n            content: '确定删除吗？'\r\n          }).then(async () => {\r\n            const del = await del_menu({ uuid: this.obj.uuid })\r\n            if (del.code == 200) {\r\n              this.$store.commit('newsTips', this.$t('message_The_deletion_was_successful'))\r\n              this.is_del = false\r\n              this.$emit('delData', this.obj.uuid)\r\n            }\r\n          }).catch(() => {\r\n            console.log('点了取消')\r\n          })\r\n          break;\r\n      }\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    paddingLeft () {\r\n      return this.level * 15 + 'px'\r\n    },\r\n    list () {\r\n      return [\r\n        {\r\n          name: this.$t('label_View')\r\n        },\r\n        {\r\n          name: this.$t('label_Edit')\r\n        },\r\n        {\r\n          name: this.$t('label_delete')\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  watch: {},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.top {\r\n  width: 100%;\r\n  border: 1px solid #dedede;\r\n  border-radius: 8px;\r\n  margin: 10px 0;\r\n}\r\n.list {\r\n  padding: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.list:hover {\r\n  background-color: #ececec;\r\n}\r\n.title {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 23vw;\r\n}\r\n.iconlist {\r\n  width: 14vw;\r\n  font-size: 15px;\r\n}\r\n.func_name {\r\n  width: 19vw;\r\n}\r\n.is_show {\r\n  flex: 1;\r\n}\r\n.action {\r\n  width: 2vw;\r\n  text-align: right;\r\n  cursor: pointer;\r\n}\r\n.title_name {\r\n  font-size: 16px;\r\n}\r\n.icon {\r\n  transform: rotate(-90deg);\r\n}\r\n\r\n.transformIcon {\r\n  transform: rotate(0deg);\r\n}\r\n\r\n.d-flex {\r\n  align-items: center;\r\n  font-size: 17px;\r\n}\r\n.resetOne {\r\n  border: none;\r\n  border-top: 1px solid #dedede;\r\n  /* border-bottom: 1px solid #dedede; */\r\n  border-radius: 0px;\r\n  margin: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu_list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu_list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./menu_list.vue?vue&type=template&id=2fa31cfc&scoped=true&\"\nimport script from \"./menu_list.vue?vue&type=script&lang=js&\"\nexport * from \"./menu_list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menu_list.vue?vue&type=style&index=0&id=2fa31cfc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fa31cfc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}