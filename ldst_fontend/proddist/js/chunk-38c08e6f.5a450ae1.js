(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38c08e6f","chunk-2d238478"],{"13b4":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-text",{staticClass:"px-7"},[s("showDataAccessHeader",{attrs:{showAdd:!t.readonly,label:t.$t("查看岗位指定组织架构人员数据"),readonly:t.readonly},on:{add:t.add},model:{value:t.dataobj.mrbase_sys_data_strategy_specified_post_toorg_is_used,callback:function(e){t.$set(t.dataobj,"mrbase_sys_data_strategy_specified_post_toorg_is_used",e)},expression:"dataobj.mrbase_sys_data_strategy_specified_post_toorg_is_used"}}),t._l(t.list,(function(e,a){return s("dataCard",{key:e.uuid,staticClass:"mb-7",attrs:{index:a,list:e,readonly:t.readonly},on:{edit:t.edit,deleteItem:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;return[s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("mrc_ess_autoCompletePosition",{attrs:{label:t.$t("岗位名称"),disabled:!0,multiple:!0},model:{value:a.post_uuid,callback:function(e){t.$set(a,"post_uuid",e)},expression:"item.post_uuid"}})],1),s("v-col",{attrs:{cols:"6"}},[s("mrc_ess_autoCompleteDepartment",{attrs:{label:t.$t("被查看组织机构"),disabled:!0,multiple:!0},model:{value:a.org_level_uuids,callback:function(e){t.$set(a,"org_level_uuids",e)},expression:"item.org_level_uuids"}})],1),s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_autoCompleteStaff",{attrs:{"item-key":"staff_id",label:t.$t("排除人员"),disabled:!0,multiple:!0},model:{value:a.exclude_staff_ids,callback:function(e){t.$set(a,"exclude_staff_ids",e)},expression:"item.exclude_staff_ids"}})],1),s("v-col",{attrs:{cols:"12"}},[s("tree",{attrs:{readonly:!0},model:{value:a.function_uuids,callback:function(e){t.$set(a,"function_uuids",e)},expression:"item.function_uuids"}})],1)],1)]}}],null,!0)})}))],2),s("dialogModule",{attrs:{title:t.$t("查看岗位指定组织架构人员数据"),paramsData:t.currentItem},on:{getData:t.getData},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}}),t.readonly?t._e():s("mrc_ess_submitBtn",{attrs:{cancelText:t.$store.state.uuid?"取消":t.$t("label_The_previous_step")},on:{success:t.success,cancel:t.cancel}})],1)},r=[],i=(s("99af"),s("d81d"),s("a434"),s("2909")),n=s("5530"),o=(s("96cf"),s("1da1")),c=s("6f42"),u=s("4a46"),d=s("a65d"),l=s("491c"),_=s("5e27"),f={components:{showDataAccessHeader:c["default"],dialogModule:u["default"],dataCard:d["default"],tree:l["default"]},props:{readonly:{type:Boolean,default:!1}},data:function(){return{open:!1,params:null,currentItem:{},currentIndex:{},dataobj:{mrbase_sys_data_strategy_specified_post_toorg_is_used:"0"},list:[],deleteList:[]}},validations:{},computed:{},created:function(){},watch:{},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=5;break}return t.next=3,this.getList();case 3:t.next=5;break;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=7;break}return t.next=3,Object(_["getData"])({org_level_uuid:this.$store.state.uuid,date:"mrbase_sys_data_strategy_specified_post_toorg"});case 3:e=t.sent,200==e.code&&(this.list=e.mrbase_sys_data_strategy_specified_post_toorg,this.dataobj=e.data),t.next=7;break;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),add:function(){this.currentItem=Object.assign({}),this.currentIndex=Object.assign({}),this.open=!0},getData:function(t,e){this.params=t,console.log(e),1==e?this.$set(this.list,this.currentIndex,Object.assign(this.currentItem,t)):this.list.push(t)},edit:function(t,e){console.log(t,e),this.currentItem=t,this.currentIndex=e,this.open=!0},deleteItem:function(t,e){this.currentItem=t,this.currentIndex=e,t.uuid&&this.deleteList.push(Object(n["a"])(Object(n["a"])({},t),{},{type:"del"})),this.list.splice(e,1)},success:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=15;break}return e=[].concat(Object(i["a"])(this.list),Object(i["a"])(this.deleteList)).map((function(t){return Object(n["a"])(Object(n["a"])({},t),{},{strategy_uuid:a.dataobj.uuid})})),t.next=4,Object(_["updateData"])({"~table~":"mrbase_sys_data_strategy_specified_post_toorg",mrbase_sys_data_strategy_specified_post_toorg_is_used:this.dataobj.mrbase_sys_data_strategy_specified_post_toorg_is_used,mrbase_sys_data_strategy_specified_post_toorg:e});case 4:if(s=t.sent,200!=s.code){t.next=12;break}return this.$Message({text:this.$t("修改成功")}),t.next=9,this.getList();case 9:this.$emit("updateSuccess"),t.next=13;break;case 12:this.$Message({text:this.$t(s.msg),color:"rgb(0, 0, 0, 0.38)"});case 13:t.next=16;break;case 15:this.$emit("success");case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.$emit("cancel")}}},p=f,m=s("2877"),h=Object(m["a"])(p,a,r,!1,null,"4b7ea776",null);e["default"]=h.exports},"307e":function(t,e,s){},"361e":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-text",{staticClass:"px-7"},[s("showDataAccessHeader",{attrs:{showAdd:!t.readonly,label:t.$t("指定人员查看指定人员数据"),readonly:t.readonly},on:{add:t.add},model:{value:t.dataobj.mrbase_sys_data_strategy_specified_staff_tostaffs_is_used,callback:function(e){t.$set(t.dataobj,"mrbase_sys_data_strategy_specified_staff_tostaffs_is_used",e)},expression:"dataobj.mrbase_sys_data_strategy_specified_staff_tostaffs_is_used"}}),t._l(t.list,(function(e,a){return s("dataCard",{key:e.uuid,staticClass:"mb-7",attrs:{readonly:t.readonly,index:a,list:e},on:{edit:t.edit,deleteItem:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;return[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_autoCompleteStaff",{attrs:{label:t.$t("员工姓名"),disabled:!0,multiple:!0},model:{value:a.staff_uuid,callback:function(e){t.$set(a,"staff_uuid",e)},expression:"item.staff_uuid"}})],1),s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_autoCompleteStaff",{attrs:{label:t.$t("被查看员工"),disabled:!0,multiple:!0},model:{value:a.to_staff_uuids,callback:function(e){t.$set(a,"to_staff_uuids",e)},expression:"item.to_staff_uuids"}})],1),s("v-col",{attrs:{cols:"12"}},[s("tree",{attrs:{readonly:!0},model:{value:a.function_uuids,callback:function(e){t.$set(a,"function_uuids",e)},expression:"item.function_uuids"}})],1)],1)]}}],null,!0)})}))],2),s("dialogModule",{attrs:{title:t.$t("指定人员查看指定人员数据"),paramsData:t.currentItem},on:{getData:t.getData},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}}),t.readonly?t._e():s("mrc_ess_submitBtn",{attrs:{cancelText:t.$store.state.uuid?"取消":t.$t("label_The_previous_step")},on:{success:t.success,cancel:t.cancel}})],1)},r=[],i=(s("99af"),s("d81d"),s("a434"),s("2909")),n=s("5530"),o=(s("96cf"),s("1da1")),c=s("6f42"),u=s("c649"),d=s("a65d"),l=s("491c"),_=s("5e27"),f={components:{showDataAccessHeader:c["default"],dialogModule:u["default"],dataCard:d["default"],tree:l["default"]},props:{readonly:{type:Boolean,default:!1}},data:function(){return{open:!1,params:null,currentItem:{},currentIndex:{},dataobj:{mrbase_sys_data_strategy_specified_staff_tostaffs_is_used:"0"},list:[],deleteList:[]}},validations:{},computed:{},created:function(){},watch:{},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=5;break}return t.next=3,this.getList();case 3:t.next=5;break;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=7;break}return t.next=3,Object(_["getData"])({org_level_uuid:this.$store.state.uuid,date:"mrbase_sys_data_strategy_specified_staff_tostaffs"});case 3:e=t.sent,200==e.code&&(this.list=e.mrbase_sys_data_strategy_specified_staff_tostaffs?e.mrbase_sys_data_strategy_specified_staff_tostaffs:[],this.dataobj=e.data),t.next=7;break;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),add:function(){this.currentItem=Object.assign({}),this.currentIndex=Object.assign({}),this.open=!0},getData:function(t,e){this.params=t,console.log(e),1==e?this.$set(this.list,this.currentIndex,Object.assign(this.currentItem,t)):this.list.push(t)},edit:function(t,e){console.log(t,e),this.currentItem=t,this.currentIndex=e,this.open=!0},deleteItem:function(t,e){this.currentItem=t,this.currentIndex=e,t.uuid&&this.deleteList.push(Object(n["a"])(Object(n["a"])({},t),{},{type:"del"})),this.list.splice(e,1)},success:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=15;break}return e=[].concat(Object(i["a"])(this.list),Object(i["a"])(this.deleteList)).map((function(t){return Object(n["a"])(Object(n["a"])({},t),{},{strategy_uuid:a.dataobj.uuid})})),t.next=4,Object(_["updateData"])({"~table~":"mrbase_sys_data_strategy_specified_staff_tostaffs",mrbase_sys_data_strategy_specified_staff_tostaffs_is_used:this.dataobj.mrbase_sys_data_strategy_specified_staff_tostaffs_is_used,mrbase_sys_data_strategy_specified_staff_tostaffs:e});case 4:if(s=t.sent,200!=s.code){t.next=12;break}return this.$Message({text:this.$t("修改成功")}),t.next=9,this.getList();case 9:this.$emit("updateSuccess"),t.next=13;break;case 12:this.$Message({text:this.$t(s.msg),color:"rgb(0, 0, 0, 0.38)"});case 13:t.next=16;break;case 15:this.$emit("success");case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.$emit("cancel")}}},p=f,m=s("2877"),h=Object(m["a"])(p,a,r,!1,null,"79ff0596",null);e["default"]=h.exports},"4a46":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mrc_ess_myDialog",{attrs:{isopen:t.isopen,width:550,title:t.title,disabled:!0},on:{cancel:t.cancel,success:t.success}},[s("div",{staticStyle:{"overflow-x":"hidden"}},[s("mrc_ess_switch",{attrs:{"true-value":"1","false-value":"0",readonly:t.readonly,label:1==t.params.status?t.$t("启用"):t.$t("禁用")},model:{value:t.params.status,callback:function(e){t.$set(t.params,"status",e)},expression:"params.status"}}),s("mrc_ess_autoCompletePosition",{attrs:{disabled:t.readonly,label:t.$t("岗位名称"),multiple:!0},model:{value:t.params.post_uuid,callback:function(e){t.$set(t.params,"post_uuid",e)},expression:"params.post_uuid"}}),s("mrc_ess_autoCompleteDepartment",{attrs:{disabled:t.readonly,label:t.$t("被查看组织机构"),multiple:!0},model:{value:t.params.org_level_uuids,callback:function(e){t.$set(t.params,"org_level_uuids",e)},expression:"params.org_level_uuids"}}),s("mrc_ess_autoCompleteStaff",{attrs:{"item-key":"staff_id",disabled:t.readonly,label:t.$t("排除人员"),multiple:!0},model:{value:t.params.exclude_staff_ids,callback:function(e){t.$set(t.params,"exclude_staff_ids",e)},expression:"params.exclude_staff_ids"}}),s("tree",{model:{value:t.params.function_uuids,callback:function(e){t.$set(t.params,"function_uuids",e)},expression:"params.function_uuids"}})],1)])},r=[],i=(s("b64b"),s("b5ae")),n=s("491c"),o={components:{tree:n["default"]},props:{title:{type:String},readonly:{type:Boolean,default:!1},isopen:{type:Boolean,default:!1},paramsData:{type:Object,default:function(){return{}}}},model:{prop:"isopen",event:"flag"},data:function(){return{params:{status:"1",post_uuid:"",high_grade_switch:"1",exclude_staff_ids:""},type:0}},validations:{params:{post_uuid:{required:i["required"]}}},computed:{},created:function(){},watch:{paramsData:function(t){Object.keys(t).length>0?this.type=1:this.type=0,this.params=this.$clone(t)}},mounted:function(){this.params=this.$clone(this.paramsData),Object.keys(this.params).length>0?this.type=1:this.type=0},methods:{cancel:function(){this.$emit("flag",!this.isopen),this.$emit("cancel")},success:function(){this.$v.params.$touch(),this.$v.params.$error||(this.$emit("getData",this.params,this.type),this.$emit("flag",!this.isopen))}}},c=o,u=s("2877"),d=Object(u["a"])(c,a,r,!1,null,"52611bb0",null);e["default"]=d.exports},"57d3":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex",staticStyle:{"background-color":"#eeeef0"}},[s("v-card",{staticStyle:{"border-radius":"8px",width:"200px","background-color":"#eeeef0"}},[s("v-tabs",{staticClass:"py-4",staticStyle:{"background-color":"#ffffff"},attrs:{vertical:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.tabList,(function(e,a){return s("v-tab",{key:a,staticClass:"tabs",staticStyle:{color:"black"}},[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[s("span",t._g(t._b({staticStyle:{width:"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","text-align":"left"}},"span",n,!1),i),[t._v(t._s(a+1)+"."+t._s(e.title))])]}}],null,!0)},[s("span",[t._v(" "+t._s(a+1)+"."+t._s(e.title))])])],1)})),1)],1),s("v-card",{staticClass:"ml-4",staticStyle:{flex:"1","background-color":"#eeeef0","border-radius":"8px"}},[s("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab-item",[s("viewYourOwnData",{ref:"oneRef",attrs:{readonly:t.readonly},on:{cancel:t.cancel,success:t.success}})],1),s("v-tab-item",[s("viewDataOfSubordinates",{ref:"twoRef",attrs:{readonly:t.readonly},on:{updateSuccess:t.updateSuccess,success:t.success,cancel:t.cancel}})],1),s("v-tab-item",[s("viewDataOfEmployeesInTheSamePosition",{ref:"threeRef",attrs:{readonly:t.readonly},on:{success:t.success,updateSuccess:t.updateSuccess,cancel:t.cancel}})],1),s("v-tab-item",[s("viewDataOfDelegatedPersonnel",{ref:"fourRef",attrs:{readonly:t.readonly},on:{updateSuccess:t.updateSuccess,success:t.success,cancel:t.cancel}})],1),s("v-tab-item",[s("viewDataOfDesignOrganizationalStructureAtDesignatedPositions",{ref:"fiveRef",attrs:{readonly:t.readonly},on:{updateSuccess:t.updateSuccess,success:t.success,cancel:t.cancel}})],1),s("v-tab-item",[s("designatedPersonnelToViewPersonnelDataOfDesignatedPositions",{ref:"sixRef",attrs:{readonly:t.readonly},on:{updateSuccess:t.updateSuccess,success:t.success,cancel:t.cancel}})],1),s("v-tab-item",[s("designatedPersonnelViewShDataOfDesianatedOrganizationalStructurePersonnel",{ref:"sevenRef",attrs:{readonly:t.readonly},on:{updateSuccess:t.updateSuccess,success:t.success,cancel:t.cancel}})],1),s("v-tab-item",[s("designatedPersonnelToViewDesignatedPersonnelData",{ref:"eightRef",attrs:{readonly:t.readonly},on:{updateSuccess:t.updateSuccess,success:t.success,cancel:t.cancel}})],1)],1)],1)],1)},r=[],i=s("5530"),n=(s("96cf"),s("1da1")),o=s("5e27"),c=s("80f1"),u=s("7b77"),d=s("8912"),l=s("7991"),_=s("9969"),f=s("6da5"),p=s("361e"),m=s("13b4"),h={components:{viewDataOfSubordinates:c["default"],viewYourOwnData:u["default"],viewDataOfEmployeesInTheSamePosition:d["default"],viewDataOfDelegatedPersonnel:l["default"],designatedPersonnelViewShDataOfDesianatedOrganizationalStructurePersonnel:_["default"],designatedPersonnelToViewPersonnelDataOfDesignatedPositions:f["default"],designatedPersonnelToViewDesignatedPersonnelData:p["default"],viewDataOfDesignOrganizationalStructureAtDesignatedPositions:m["default"]},props:{readonly:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},baseInfo:{type:Object,default:function(){return{}}}},data:function(){return{tab:0,mrbase_sys_data_strategy_subordinate:[],mrbase_sys_data_strategy_same_post_grade:[],mrbase_sys_data_strategy_post_onbehalf:[],mrbase_sys_data_strategy_specified_post_toorg:[],mrbase_sys_data_strategy_specified_staff_topost:[],mrbase_sys_data_strategy_specified_staff_toorg:[],mrbase_sys_data_strategy_specified_staff_tostaffs:[]}},validations:{},computed:{tabList:function(){return[{title:this.$t("查看自己录入数据"),tableName:""},{title:this.$t("查看下属人员数据"),tableName:""},{title:this.$t("查看同岗位人员数据"),tableName:""},{title:this.$t("查看被代理岗位人员数据"),tableName:""},{title:this.$t("指定岗位查看指定组织架构人员数据"),tableName:""},{title:this.$t("指定人员查看指定岗位人员数据"),tableName:""},{title:this.$t("指定人员查看指定组织架构人员数据"),tableName:""},{title:this.$t("指定人员查看指定人员错误"),tableName:""}]}},created:function(){},watch:{},mounted:function(){},methods:{success:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,s){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=3;break}t.next=15;break;case 3:return a={mrbase_sys_data_strategy_subordinate_properties:"002",mrbase_sys_data_strategy_same_post_grade_properties:"003",mrbase_sys_data_strategy_post_onbehalf_properties:"004",mrbase_sys_data_strategy_specified_post_toorg_properties:"005",mrbase_sys_data_strategy_specified_staff_tostaffs_properties:"006",mrbase_sys_data_strategy_specified_staff_topost_properties:"007",mrbase_sys_data_strategy_specified_staff_toorg_properties:"008",mrbase_sys_data_strategy_subordinate_is_used:"0",mrbase_sys_data_strategy_same_post_grade_is_used:"0",mrbase_sys_data_strategy_post_onbehalf_is_used:"0",mrbase_sys_data_strategy_specified_post_toorg_is_used:"0",mrbase_sys_data_strategy_specified_staff_topost_is_used:"0",mrbase_sys_data_strategy_specified_staff_toorg_is_used:"0",mrbase_sys_data_strategy_specified_staff_tostaffs_is_used:"0",mrbase_sys_data_strategy_subordinate:[],mrbase_sys_data_strategy_same_post_grade:[],mrbase_sys_data_strategy_post_onbehalf:[],mrbase_sys_data_strategy_specified_post_toorg:[],mrbase_sys_data_strategy_specified_staff_topost:[],mrbase_sys_data_strategy_specified_staff_toorg:[],mrbase_sys_data_strategy_specified_staff_tostaffs:[]},this.$refs.twoRef&&(a.mrbase_sys_data_strategy_subordinate_is_used=this.$refs.twoRef.dataobj.mrbase_sys_data_strategy_subordinate_is_used,a.mrbase_sys_data_strategy_subordinate=this.$refs.twoRef.list),this.$refs.threeRef&&(a.mrbase_sys_data_strategy_same_post_grade_is_used=this.$refs.threeRef.dataobj.mrbase_sys_data_strategy_same_post_grade_is_used,a.mrbase_sys_data_strategy_same_post_grade=this.$refs.threeRef.list),this.$refs.fourRef&&(a.mrbase_sys_data_strategy_post_onbehalf_is_used=this.$refs.fourRef.dataobj.mrbase_sys_data_strategy_post_onbehalf_is_used,a.mrbase_sys_data_strategy_post_onbehalf=this.$refs.fourRef.list),this.$refs.fiveRef&&(a.mrbase_sys_data_strategy_specified_post_toorg_is_used=this.$refs.fiveRef.dataobj.mrbase_sys_data_strategy_specified_post_toorg_is_used,a.mrbase_sys_data_strategy_specified_post_toorg=this.$refs.fiveRef.list),this.$refs.sixRef&&(a.mrbase_sys_data_strategy_specified_staff_topost_is_used=this.$refs.sixRef.dataobj.mrbase_sys_data_strategy_specified_staff_topost_is_used,a.mrbase_sys_data_strategy_specified_staff_topost=this.$refs.sixRef.list),this.$refs.sevenRef&&(a.mrbase_sys_data_strategy_specified_staff_toorg_is_used=this.$refs.sevenRef.dataobj.mrbase_sys_data_strategy_specified_staff_toorg_is_used,a.mrbase_sys_data_strategy_specified_staff_toorg=this.$refs.sevenRef.list),this.$refs.eightRef&&(a.mrbase_sys_data_strategy_specified_staff_tostaffs_is_used=this.$refs.eightRef.dataobj.mrbase_sys_data_strategy_specified_staff_tostaffs_is_used,a.mrbase_sys_data_strategy_specified_staff_tostaffs=this.$refs.eightRef.list),t.next=13,Object(o["addData"])(Object(i["a"])(Object(i["a"])({},a),this.baseInfo));case 13:r=t.sent,200==r.code?(this.$Message({text:this.$t("添加成功")}),this.$router.push({name:"data-access-strategy"})):this.$Message({text:this.$t(r.msg),color:"rgb(0,0,0,0.38)"});case 15:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),cancel:function(t){var e=this;this.$store.state.uuid?this.$myConfirm({content:this.$t("确认取消编辑")}).then((function(t){e.$router.push({name:"data-access-strategy"})}))["catch"]((function(t){})):this.$emit("lastStep")},updateSuccess:function(){this.$emit("updateSuccess")}}},b=h,y=(s("f3c9"),s("2877")),g=Object(y["a"])(b,a,r,!1,null,"105fe284",null);e["default"]=g.exports},7991:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-text",{staticClass:"px-7"},[s("showDataAccessHeader",{attrs:{showAdd:!t.readonly,label:t.$t("查看被代理岗位人员数据"),readonly:t.readonly},on:{add:t.add},model:{value:t.dataobj.mrbase_sys_data_strategy_post_onbehalf_is_used,callback:function(e){t.$set(t.dataobj,"mrbase_sys_data_strategy_post_onbehalf_is_used",e)},expression:"dataobj.mrbase_sys_data_strategy_post_onbehalf_is_used"}}),t._l(t.list,(function(e,a){return s("dataCard",{key:e.uuid,staticClass:"mb-7",attrs:{index:a,readonly:t.readonly,list:e},on:{edit:t.edit,deleteItem:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;return[s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("mrc_ess_autoCompletePosition",{attrs:{disabled:!0,multiple:!0},model:{value:a.post_uuid,callback:function(e){t.$set(a,"post_uuid",e)},expression:"item.post_uuid"}})],1),s("v-col",{attrs:{cols:"6"}},[s("mrc_ess_autoCompletePosition",{attrs:{disabled:!0,multiple:!0},model:{value:a.onbehalf_post_uuid,callback:function(e){t.$set(a,"onbehalf_post_uuid",e)},expression:"item.onbehalf_post_uuid"}})],1),s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_autoCompleteStaff",{attrs:{"item-key":"staff_id",label:"排除人员",disabled:!0,multiple:!0},model:{value:a.exclude_staff_ids,callback:function(e){t.$set(a,"exclude_staff_ids",e)},expression:"item.exclude_staff_ids"}})],1),s("v-col",{attrs:{cols:"12"}},[s("tree",{attrs:{readonly:!0},model:{value:a.function_uuids,callback:function(e){t.$set(a,"function_uuids",e)},expression:"item.function_uuids"}})],1)],1)]}}],null,!0)})}))],2),s("dialogModule",{attrs:{title:t.$t("查看被代理岗位人员数据"),paramsData:t.currentItem},on:{getData:t.getData},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}}),t.readonly?t._e():s("mrc_ess_submitBtn",{attrs:{cancelText:t.$store.state.uuid?"取消":t.$t("label_The_previous_step")},on:{success:t.success,cancel:t.cancel}})],1)},r=[],i=(s("99af"),s("d81d"),s("a434"),s("2909")),n=s("5530"),o=(s("96cf"),s("1da1")),c=s("6f42"),u=s("7aa7"),d=s("a65d"),l=s("491c"),_=s("5e27"),f={components:{showDataAccessHeader:c["default"],dialogModule:u["default"],dataCard:d["default"],tree:l["default"]},props:{readonly:{type:Boolean,default:!1}},data:function(){return{open:!1,params:null,currentItem:{},currentIndex:{},dataobj:{mrbase_sys_data_strategy_post_onbehalf_is_used:"0"},list:[],deleteList:[]}},validations:{},computed:{},created:function(){},watch:{},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=5;break}return t.next=3,this.getList();case 3:t.next=5;break;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=7;break}return t.next=3,Object(_["getData"])({org_level_uuid:this.$store.state.uuid,date:"mrbase_sys_data_strategy_post_onbehalf"});case 3:e=t.sent,200==e.code&&(this.list=e.mrbase_sys_data_strategy_post_onbehalf?e.mrbase_sys_data_strategy_post_onbehalf:"",this.dataobj=e.data),t.next=7;break;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),add:function(){this.currentItem=Object.assign({}),this.currentIndex=Object.assign({}),this.open=!0},getData:function(t,e){this.params=t,console.log(e),1==e?this.$set(this.list,this.currentIndex,Object.assign(this.currentItem,t)):this.list.push(t)},edit:function(t,e){console.log(t,e),this.currentItem=t,this.currentIndex=e,this.open=!0},deleteItem:function(t,e){this.currentItem=t,this.currentIndex=e,t.uuid&&this.deleteList.push(Object(n["a"])(Object(n["a"])({},t),{},{type:"del"})),this.list.splice(e,1)},success:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=15;break}return e=[].concat(Object(i["a"])(this.list),Object(i["a"])(this.deleteList)).map((function(t){return Object(n["a"])(Object(n["a"])({},t),{},{strategy_uuid:a.dataobj.uuid})})),t.next=4,Object(_["updateData"])({"~table~":"mrbase_sys_data_strategy_post_onbehalf",mrbase_sys_data_strategy_post_onbehalf_is_used:this.dataobj.mrbase_sys_data_strategy_post_onbehalf_is_used,mrbase_sys_data_strategy_post_onbehalf:e});case 4:if(s=t.sent,200!=s.code){t.next=12;break}return this.$Message({text:this.$t("修改成功")}),t.next=9,this.getList();case 9:this.$emit("updateSuccess"),t.next=13;break;case 12:this.$Message({text:this.$t(s.msg),color:"rgb(0, 0, 0, 0.38)"});case 13:t.next=16;break;case 15:this.$emit("success");case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.$emit("cancel")}}},p=f,m=s("2877"),h=Object(m["a"])(p,a,r,!1,null,"0676012c",null);e["default"]=h.exports},"7aa7":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mrc_ess_myDialog",{attrs:{isopen:t.isopen,width:550,title:t.title,disabled:!0},on:{cancel:t.cancel,success:t.success}},[s("div",{staticStyle:{"overflow-x":"hidden"}},[s("mrc_ess_switch",{attrs:{"true-value":"1","false-value":"0",readonly:t.readonly,label:1==t.params.status?t.$t("启用"):t.$t("禁用")},model:{value:t.params.status,callback:function(e){t.$set(t.params,"status",e)},expression:"params.status"}}),s("mrc_ess_autoCompletePosition",{staticClass:"mb-8",attrs:{disabled:t.readonly,multiple:!0},model:{value:t.params.post_uuid,callback:function(e){t.$set(t.params,"post_uuid",e)},expression:"params.post_uuid"}}),s("mrc_ess_autoCompletePosition",{staticClass:"mb-8",attrs:{disabled:t.readonly,multiple:!0},model:{value:t.params.onbehalf_post_uuid,callback:function(e){t.$set(t.params,"onbehalf_post_uuid",e)},expression:"params.onbehalf_post_uuid"}}),s("mrc_ess_autoCompleteStaff",{staticClass:"mb-8",attrs:{"item-key":"staff_id",disabled:t.readonly,label:"排除人员",multiple:!0},model:{value:t.params.exclude_staff_ids,callback:function(e){t.$set(t.params,"exclude_staff_ids",e)},expression:"params.exclude_staff_ids"}}),s("tree",{model:{value:t.params.function_uuids,callback:function(e){t.$set(t.params,"function_uuids",e)},expression:"params.function_uuids"}})],1)])},r=[],i=(s("b64b"),s("b5ae")),n=s("491c"),o={components:{tree:n["default"]},props:{title:{type:String},readonly:{type:Boolean,default:!1},isopen:{type:Boolean,default:!1},paramsData:{type:Object,default:function(){return{}}}},model:{prop:"isopen",event:"flag"},data:function(){return{params:{status:"1"},type:0}},validations:{params:{post_uuid:{required:i["required"]}}},computed:{},created:function(){},watch:{paramsData:function(t){Object.keys(t).length>0?this.type=1:this.type=0,this.params=this.$clone(t)}},mounted:function(){this.params=this.$clone(this.paramsData),Object.keys(this.params).length>0?this.type=1:this.type=0},methods:{cancel:function(){this.$emit("flag",!this.isopen),this.$emit("cancel")},success:function(){this.$v.params.$touch(),this.$v.params.$error||(this.$emit("getData",this.params,this.type),this.$emit("flag",!this.isopen))}}},c=o,u=s("2877"),d=Object(u["a"])(c,a,r,!1,null,"67f93537",null);e["default"]=d.exports},"7b77":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-text",{staticClass:"px-7"},[s("showDataAccessHeader",{attrs:{readonly:!0,showAdd:!1},model:{value:t.obj.num,callback:function(e){t.$set(t.obj,"num",e)},expression:"obj.num"}})],1),t.readonly?t._e():s("mrc_ess_submitBtn",{attrs:{cancelText:t.$store.state.uuid?"取消":t.$t("label_The_previous_step")},on:{success:t.success,cancel:t.cancel}})],1)},r=[],i=s("6f42"),n={components:{showDataAccessHeader:i["default"]},props:{readonly:{type:Boolean,default:!1}},data:function(){return{obj:{num:"1"}}},validations:{},computed:{},created:function(){},watch:{},mounted:function(){},methods:{add:function(){this.open=!0},success:function(){this.$store.state.uuid,this.$emit("success")},cancel:function(){this.$emit("cancel")}}},o=n,c=s("2877"),u=Object(c["a"])(o,a,r,!1,null,"45f2817f",null);e["default"]=u.exports},"80f1":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-text",{staticClass:"px-7"},[s("showDataAccessHeader",{attrs:{showAdd:!1,label:t.$t("查看下属人员数据"),readonly:t.readonly},on:{add:t.add},model:{value:t.dataobj.mrbase_sys_data_strategy_subordinate_is_used,callback:function(e){t.$set(t.dataobj,"mrbase_sys_data_strategy_subordinate_is_used",e)},expression:"dataobj.mrbase_sys_data_strategy_subordinate_is_used"}}),t._l(t.list,(function(e,a){return s("div",{key:a},[s("tree",{attrs:{readonly:t.readonly,maxHeight:"800"},model:{value:e.exclude_function_uuids,callback:function(s){t.$set(e,"exclude_function_uuids",s)},expression:"item.exclude_function_uuids"}})],1)}))],2),t.readonly?t._e():s("mrc_ess_submitBtn",{attrs:{cancelText:t.$store.state.uuid?t.$t("取消"):t.$t("label_The_previous_step")},on:{success:t.success,cancel:t.cancel}})],1)},r=[],i=(s("d81d"),s("5530")),n=(s("96cf"),s("1da1")),o=s("5e27"),c=s("6f42"),u=s("ff68"),d=s("491c"),l={components:{showDataAccessHeader:c["default"],dialogModule:u["default"],tree:d["default"]},props:{readonly:{type:Boolean,default:!1}},data:function(){return{open:!1,dataobj:{mrbase_sys_data_strategy_subordinate_is_used:"0"},list:[{exclude_function_uuids:""}]}},validations:{},computed:{},created:function(){},watch:{},mounted:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=5;break}return t.next=3,this.getList();case 3:t.next=5;break;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=7;break}return t.next=3,Object(o["getData"])({org_level_uuid:this.$store.state.uuid,date:"mrbase_sys_data_strategy_subordinate"});case 3:e=t.sent,200==e.code&&(this.list=e.mrbase_sys_data_strategy_subordinate?e.mrbase_sys_data_strategy_subordinate:[{exclude_function_uuids:""}],this.dataobj=e.data?e.data:{}),t.next=7;break;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),add:function(){this.open=!0},success:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=15;break}return e=this.list.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{strategy_uuid:a.dataobj.uuid})})),t.next=4,Object(o["updateData"])({"~table~":"mrbase_sys_data_strategy_subordinate",mrbase_sys_data_strategy_subordinate_is_used:this.dataobj.mrbase_sys_data_strategy_subordinate_is_used,mrbase_sys_data_strategy_subordinate:e});case 4:if(s=t.sent,200!=s.code){t.next=12;break}return this.$Message({text:this.$t("修改成功")}),t.next=9,this.getList();case 9:this.$emit("updateSuccess"),t.next=13;break;case 12:this.$Message({text:this.$t(s.msg),color:"rgb(0, 0, 0, 0.38) "});case 13:t.next=16;break;case 15:this.$emit("success");case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.$emit("cancel")}}},_=l,f=s("2877"),p=Object(f["a"])(_,a,r,!1,null,"0bc0b7e2",null);e["default"]=p.exports},"858b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mrc_ess_myDialog",{attrs:{isopen:t.isopen,width:550,title:t.title,disabled:!0},on:{cancel:t.cancel,success:t.success}},[s("div",{staticStyle:{"overflow-x":"hidden"}},[s("mrc_ess_switch",{attrs:{"true-value":1,"false-value":0,readonly:t.readonly,label:1==t.params.status?t.$t("启用"):t.$t("禁用")},model:{value:t.params.status,callback:function(e){t.$set(t.params,"status",e)},expression:"params.status"}}),s("mrc_ess_autoCompletePosition",{attrs:{disabled:t.readonly,multiple:!0},model:{value:t.params.post_uuid,callback:function(e){t.$set(t.params,"post_uuid",e)},expression:"params.post_uuid"}}),s("div",[s("div",{staticStyle:{position:"relative",top:"15px","font-size":"13px",color:"rgba(0, 0, 0, 0.38)","font-family":"Noto Sans CJK TC"}},[t._v(" "+t._s(t.$t("是否等级高查看等级低"))+" ")]),s("v-radio-group",{attrs:{row:"",mandatory:!1},model:{value:t.params.high_grade_switch,callback:function(e){t.$set(t.params,"high_grade_switch",e)},expression:"params.high_grade_switch"}},[s("v-radio",{attrs:{label:t.$t("是"),value:1}}),s("v-radio",{attrs:{label:t.$t("否"),value:0}})],1)],1),s("mrc_ess_autoCompleteStaff",{attrs:{disabled:t.readonly,"item-key":"staff_id",label:t.$t("排除人员"),multiple:!0},model:{value:t.params.exclude_staff_ids,callback:function(e){t.$set(t.params,"exclude_staff_ids",e)},expression:"params.exclude_staff_ids"}}),s("tree",{model:{value:t.params.function_uuids,callback:function(e){t.$set(t.params,"function_uuids",e)},expression:"params.function_uuids"}})],1)])},r=[],i=(s("b64b"),s("b5ae")),n=s("491c"),o={components:{tree:n["default"]},props:{title:{type:String},readonly:{type:Boolean,default:!1},isopen:{type:Boolean,default:!1},paramsData:{type:Object,default:function(){return{}}}},model:{prop:"isopen",event:"flag"},data:function(){return{params:{status:"1",post_uuid:"",high_grade_switch:"1",exclude_staff_ids:"",function_uuids:""},type:0}},validations:{params:{post_uuid:{required:i["required"]}}},computed:{},created:function(){},watch:{paramsData:function(t){Object.keys(t).length>0?this.type=1:this.type=0,this.params=this.$clone(t)}},mounted:function(){this.params=this.$clone(this.paramsData),Object.keys(this.params).length>0?this.type=1:this.type=0},methods:{cancel:function(){this.$emit("flag",!this.isopen),this.$emit("cancel")},success:function(){this.$v.params.$touch(),this.$v.params.$error||(this.$emit("getData",this.params,this.type),this.$emit("flag",!this.isopen))}}},c=o,u=s("2877"),d=Object(u["a"])(c,a,r,!1,null,"7f0e5a08",null);e["default"]=d.exports},8912:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-text",{staticClass:"px-7"},[s("showDataAccessHeader",{attrs:{showAdd:!t.readonly,label:t.$t("查看同岗位人员数据"),readonly:t.readonly},on:{add:t.add},model:{value:t.dataobj.mrbase_sys_data_strategy_same_post_grade_is_used,callback:function(e){t.$set(t.dataobj,"mrbase_sys_data_strategy_same_post_grade_is_used",e)},expression:"dataobj.mrbase_sys_data_strategy_same_post_grade_is_used"}}),t._l(t.list,(function(e,a){return s("dataCard",{key:e.uuid,staticClass:"mb-7",attrs:{readonly:t.readonly,index:a,list:e},on:{edit:t.edit,deleteItem:t.deleteItem}})}))],2),s("dialogModule",{attrs:{title:t.$t("查看同岗位人员数据"),paramsData:t.currentItem},on:{getData:t.getData},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}}),t.readonly?t._e():s("mrc_ess_submitBtn",{attrs:{cancelText:t.$store.state.uuid?"取消":t.$t("label_The_previous_step")},on:{success:t.success,cancel:t.cancel}})],1)},r=[],i=(s("99af"),s("d81d"),s("a434"),s("2909")),n=s("5530"),o=(s("96cf"),s("1da1")),c=s("5e27"),u=s("6f42"),d=s("858b"),l=s("a65d"),_=s("491c"),f={components:{showDataAccessHeader:u["default"],dialogModule:d["default"],dataCard:l["default"],tree:_["default"]},props:{readonly:{type:Boolean,default:!1}},data:function(){return{open:!1,params:null,currentItem:{},currentIndex:{},dataobj:{mrbase_sys_data_strategy_same_post_grade_is_used:"0"},list:[],deleteList:[]}},validations:{},computed:{},created:function(){},watch:{},mounted:function(){this.getList()},methods:{getList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=7;break}return t.next=3,Object(c["getData"])({org_level_uuid:this.$store.state.uuid,date:"mrbase_sys_data_strategy_same_post_grade"});case 3:e=t.sent,200==e.code&&(this.list=e.mrbase_sys_data_strategy_same_post_grade?e.mrbase_sys_data_strategy_same_post_grade:[],this.dataobj=e.data),t.next=7;break;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),add:function(){this.currentItem=Object.assign({}),this.currentIndex=Object.assign({}),this.open=!0},getData:function(t,e){this.params=t,1==e?this.$set(this.list,this.currentIndex,Object.assign(this.currentItem,t)):this.list.push(t)},edit:function(t,e){console.log(t,e),this.currentItem=t,this.currentIndex=e,this.open=!0},deleteItem:function(t,e){this.currentItem=t,this.currentIndex=e,t.uuid&&this.deleteList.push(Object(n["a"])(Object(n["a"])({},t),{},{type:"del"})),this.list.splice(e,1)},success:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=15;break}return e=[].concat(Object(i["a"])(this.list),Object(i["a"])(this.deleteList)).map((function(t){return Object(n["a"])(Object(n["a"])({},t),{},{strategy_uuid:a.dataobj.uuid})})),t.next=4,Object(c["updateData"])({"~table~":"mrbase_sys_data_strategy_same_post_grade",mrbase_sys_data_strategy_same_post_grade_is_used:this.dataobj.mrbase_sys_data_strategy_same_post_grade_is_used,mrbase_sys_data_strategy_same_post_grade:e});case 4:if(s=t.sent,200!=s.code){t.next=12;break}return this.$Message({text:this.$t("修改成功")}),t.next=9,this.getList();case 9:this.$emit("updateSuccess"),t.next=13;break;case 12:this.$Message({text:this.$t(s.msg),color:"rgb(0, 0, 0, 0.38) "});case 13:t.next=16;break;case 15:this.$emit("success");case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.$emit("cancel")}}},p=f,m=s("2877"),h=Object(m["a"])(p,a,r,!1,null,"c632feac",null);e["default"]=h.exports},9969:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-text",{staticClass:"px-7"},[s("showDataAccessHeader",{attrs:{showAdd:!t.readonly,label:t.$t("指定人员查看指定组织架构人员数据"),readonly:t.readonly},on:{add:t.add},model:{value:t.dataobj.mrbase_sys_data_strategy_specified_staff_toorg_is_used,callback:function(e){t.$set(t.dataobj,"mrbase_sys_data_strategy_specified_staff_toorg_is_used",e)},expression:"dataobj.mrbase_sys_data_strategy_specified_staff_toorg_is_used"}}),t._l(t.list,(function(e,a){return s("dataCard",{key:e.uuid,staticClass:"mb-7",attrs:{index:a,readonly:t.readonly,list:e},on:{edit:t.edit,deleteItem:t.deleteItem}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_autoCompleteStaff",{attrs:{label:t.$t("员工姓名"),disabled:!0,multiple:!0},model:{value:e.staff_uuid,callback:function(s){t.$set(e,"staff_uuid",s)},expression:"item.staff_uuid"}})],1),s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_autoCompleteDepartment",{attrs:{label:t.$t("被查看组织机构"),disabled:!0,multiple:!0},model:{value:e.org_level_uuids,callback:function(s){t.$set(e,"org_level_uuids",s)},expression:"item.org_level_uuids"}})],1),s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_autoCompleteStaff",{attrs:{"item-key":"staff_id",label:t.$t("排除人员"),disabled:!0,multiple:!0},model:{value:e.exclude_staff_ids,callback:function(s){t.$set(e,"exclude_staff_ids",s)},expression:"item.exclude_staff_ids"}})],1),s("v-col",{attrs:{cols:"12"}},[s("tree",{attrs:{readonly:!0},model:{value:e.function_uuids,callback:function(s){t.$set(e,"function_uuids",s)},expression:"item.function_uuids"}})],1)],1)],1)}))],2),s("dialogModule",{attrs:{title:t.$t("指定人员查看指定组织架构人员数据"),paramsData:t.currentItem},on:{getData:t.getData},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}}),t.readonly?t._e():s("mrc_ess_submitBtn",{attrs:{cancelText:t.$store.state.uuid?"取消":t.$t("label_The_previous_step")},on:{success:t.success,cancel:t.cancel}})],1)},r=[],i=(s("99af"),s("d81d"),s("a434"),s("2909")),n=s("5530"),o=(s("96cf"),s("1da1")),c=s("6f42"),u=s("cb9d"),d=s("a65d"),l=s("491c"),_=s("5e27"),f={components:{showDataAccessHeader:c["default"],dialogModule:u["default"],dataCard:d["default"],tree:l["default"]},props:{readonly:{type:Boolean,default:!1}},data:function(){return{open:!1,params:null,currentItem:{},currentIndex:{},dataobj:{mrbase_sys_data_strategy_specified_staff_toorg_is_used:"0"},list:[],deleteList:[]}},validations:{},computed:{},created:function(){},watch:{},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=5;break}return t.next=3,this.getList();case 3:t.next=5;break;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=7;break}return t.next=3,Object(_["getData"])({org_level_uuid:this.$store.state.uuid,date:"mrbase_sys_data_strategy_specified_staff_toorg"});case 3:e=t.sent,200==e.code&&(this.list=e.mrbase_sys_data_strategy_specified_staff_toorg?e.mrbase_sys_data_strategy_specified_staff_toorg:[],this.dataobj=e.data),t.next=7;break;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),add:function(){this.currentItem=Object.assign({}),this.currentIndex=Object.assign({}),this.open=!0},getData:function(t,e){this.params=t,console.log(e),1==e?this.$set(this.list,this.currentIndex,Object.assign(this.currentItem,t)):this.list.push(t)},edit:function(t,e){console.log(t,e),this.currentItem=t,this.currentIndex=e,this.open=!0},deleteItem:function(t,e){this.currentItem=t,this.currentIndex=e,t.uuid&&this.deleteList.push(Object(n["a"])(Object(n["a"])({},t),{},{type:"del"})),this.list.splice(e,1)},success:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.uuid){t.next=15;break}return e=[].concat(Object(i["a"])(this.list),Object(i["a"])(this.deleteList)).map((function(t){return Object(n["a"])(Object(n["a"])({},t),{},{strategy_uuid:a.dataobj.uuid})})),t.next=4,Object(_["updateData"])({"~table~":"mrbase_sys_data_strategy_specified_staff_toorg",mrbase_sys_data_strategy_specified_staff_toorg_is_used:this.dataobj.mrbase_sys_data_strategy_specified_staff_toorg_is_used,mrbase_sys_data_strategy_specified_staff_toorg:e});case 4:if(s=t.sent,200!=s.code){t.next=12;break}return this.$Message({text:this.$t("修改成功")}),t.next=9,this.getList();case 9:this.$emit("updateSuccess"),t.next=13;break;case 12:this.$Message({text:this.$t(s.msg),color:"rgb(0, 0, 0, 0.38)"});case 13:t.next=16;break;case 15:this.$emit("success");case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.$emit("cancel")}}},p=f,m=s("2877"),h=Object(m["a"])(p,a,r,!1,null,"4c55d966",null);e["default"]=h.exports},c649:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mrc_ess_myDialog",{attrs:{isopen:t.isopen,width:550,title:t.title,disabled:!0},on:{cancel:t.cancel,success:t.success}},[s("div",{staticStyle:{"overflow-x":"hidden"}},[s("mrc_ess_switch",{attrs:{"true-value":"1","false-value":"0",readonly:t.readonly,label:1==t.params.status?t.$t("启用"):t.$t("禁用")},model:{value:t.params.status,callback:function(e){t.$set(t.params,"status",e)},expression:"params.status"}}),s("mrc_ess_autoCompleteStaff",{attrs:{label:t.$t("员工姓名"),disabled:t.readonly,multiple:!0},model:{value:t.params.staff_uuid,callback:function(e){t.$set(t.params,"staff_uuid",e)},expression:"params.staff_uuid"}}),s("mrc_ess_autoCompleteStaff",{attrs:{label:t.$t("被查看员工"),disabled:t.readonly,multiple:!0},model:{value:t.params.to_staff_uuids,callback:function(e){t.$set(t.params,"to_staff_uuids",e)},expression:"params.to_staff_uuids"}}),s("tree",{model:{value:t.params.function_uuids,callback:function(e){t.$set(t.params,"function_uuids",e)},expression:"params.function_uuids"}})],1)])},r=[],i=(s("b64b"),s("b5ae")),n=s("491c"),o={components:{tree:n["default"]},props:{title:{type:String},readonly:{type:Boolean,default:!1},isopen:{type:Boolean,default:!1},paramsData:{type:Object,default:function(){return{}}}},model:{prop:"isopen",event:"flag"},data:function(){return{params:{status:"1",high_grade_switch:"1",exclude_staff_ids:""},type:0}},validations:{params:{staff_uuid:{required:i["required"]}}},computed:{},created:function(){},watch:{paramsData:function(t){Object.keys(t).length>0?this.type=1:this.type=0,this.params=this.$clone(t)}},mounted:function(){this.params=this.$clone(this.paramsData),Object.keys(this.params).length>0?this.type=1:this.type=0},methods:{cancel:function(){this.$emit("flag",!this.isopen),this.$emit("cancel")},success:function(){this.$v.params.$touch(),this.$v.params.$error||(this.$emit("getData",this.params,this.type),this.$emit("flag",!this.isopen))}}},c=o,u=s("2877"),d=Object(u["a"])(c,a,r,!1,null,"0402faa4",null);e["default"]=d.exports},cb9d:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mrc_ess_myDialog",{attrs:{isopen:t.isopen,width:550,title:t.title,disabled:!0},on:{cancel:t.cancel,success:t.success}},[s("div",{staticStyle:{"overflow-x":"hidden"}},[s("mrc_ess_switch",{attrs:{"true-value":"1","false-value":"0",readonly:t.readonly,label:1==t.params.status?t.$t("启用"):t.$t("禁用")},model:{value:t.params.status,callback:function(e){t.$set(t.params,"status",e)},expression:"params.status"}}),s("mrc_ess_autoCompleteStaff",{attrs:{disabled:t.readonly,label:t.$t("员工姓名"),multiple:!0},model:{value:t.params.staff_uuid,callback:function(e){t.$set(t.params,"staff_uuid",e)},expression:"params.staff_uuid"}}),s("mrc_ess_autoCompleteDepartment",{attrs:{label:t.$t("被查看组织机构"),disabled:t.readonly,multiple:!0},model:{value:t.params.org_level_uuids,callback:function(e){t.$set(t.params,"org_level_uuids",e)},expression:"params.org_level_uuids"}}),s("mrc_ess_autoCompleteStaff",{attrs:{"item-key":"staff_id",disabled:t.readonly,label:t.$t("排除人员"),multiple:!0},model:{value:t.params.exclude_staff_ids,callback:function(e){t.$set(t.params,"exclude_staff_ids",e)},expression:"params.exclude_staff_ids"}}),s("tree",{model:{value:t.params.function_uuids,callback:function(e){t.$set(t.params,"function_uuids",e)},expression:"params.function_uuids"}})],1)])},r=[],i=(s("b64b"),s("491c")),n={components:{tree:i["default"]},props:{title:{type:String},readonly:{type:Boolean,default:!1},isopen:{type:Boolean,default:!1},paramsData:{type:Object,default:function(){return{}}}},model:{prop:"isopen",event:"flag"},data:function(){return{params:{status:"1",exclude_staff_ids:""},type:0}},validations:{params:{}},computed:{},created:function(){},watch:{paramsData:function(t){Object.keys(t).length>0?this.type=1:this.type=0,this.params=this.$clone(t)}},mounted:function(){this.params=this.$clone(this.paramsData),Object.keys(this.params).length>0?this.type=1:this.type=0},methods:{cancel:function(){this.$emit("flag",!this.isopen),this.$emit("cancel")},success:function(){this.$v.params.$touch(),this.$v.params.$error||(this.$emit("getData",this.params,this.type),this.$emit("flag",!this.isopen))}}},o=n,c=s("2877"),u=Object(c["a"])(o,a,r,!1,null,"b33fcefc",null);e["default"]=u.exports},f3c9:function(t,e,s){"use strict";var a=s("307e"),r=s.n(a);r.a},ff68:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mrc_ess_myDialog",{attrs:{isopen:t.isopen,width:550,title:t.title,disabled:!0},on:{cancel:t.cancel,success:t.success}},[s("mrc_ess_prompt",{staticClass:"mt-5",attrs:{errMsg:t.$errors("params","name",t.requiredRule),rules:!1,label:"含功能名称",placeholeder:"功能名称/短编码",obj:"language_client"},model:{value:t.params.name,callback:function(e){t.$set(t.params,"name",e)},expression:"params.name"}})],1)},r=[],i=s("b5ae"),n={components:{},props:{title:{type:String},isopen:{type:Boolean,default:!1},paramsData:{type:Object,default:function(){}}},model:{prop:"isopen",event:"flag"},data:function(){return{params:{name:""}}},validations:{params:{name:{required:i["required"]}}},computed:{},created:function(){},watch:{},mounted:function(){},methods:{cancel:function(){this.$emit("flag",!this.isopen),this.$emit("cancel")},success:function(){this.$v.params.$touch(),this.$v.params.$error||(this.$emit("getData",this.params),this.$emit("flag",!this.isopen))}}},o=n,c=s("2877"),u=Object(c["a"])(o,a,r,!1,null,"6627683d",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-38c08e6f.5a450ae1.js.map