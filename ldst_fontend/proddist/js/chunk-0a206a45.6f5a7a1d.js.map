{"version":3,"sources":["webpack:///./src/views/forget-password/index.vue?9f8a","webpack:///./src/views/forget-password/module/confirm.vue?10fc","webpack:///src/views/forget-password/module/confirm.vue","webpack:///./src/views/forget-password/module/confirm.vue?5411","webpack:///./src/views/forget-password/module/confirm.vue","webpack:///./src/views/forget-password/index.vue?c6cb","webpack:///src/views/forget-password/index.vue","webpack:///./src/views/forget-password/index.vue?d39b","webpack:///./src/views/forget-password/index.vue","webpack:///./src/views/forget-password/module/confirm.vue?4969","webpack:///./src/service/api/forgot-password.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","dialog","on","$event","action","style","width","screenSize","height","borderRadius","minWidth","staticClass","padding","fontSize","_v","staticStyle","paddingTop","_s","email","loading","staticRenderFns","components","props","type","Boolean","default","String","data","webPc","model","prop","event","validations","computed","created","that","document","documentElement","clientWidth","resize","watch","mounted","methods","status","$emit","window","addEventListener","fn","component","title","$errors","requiredRule","sendEmailHandler","$v","sendEmailParams","user_account","$touch","value","callback","$$v","$set","trim","expression","backHandler","_e","$t","backToLogin","resendEmail","openDialog","login_url","regxMsg","regxRule","disabled","successBackgroundColor","urlParams","icon","sendMail","savePwdParams","user_pwd","sameAsPassword","token","is_showPassword","required","isChina","val","passwordStrengthRegxRule","RegExp","test","location","href","table","savePwd","params","Promise","resolve","reject","http","post","then","res","err","sendEmail","checkToken","updatePassword","passwordStrength"],"mappings":"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","file":"js/chunk-0a206a45.6f5a7a1d.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2a63c826&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2a63c826&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('v-overlay',{attrs:{\"value\":_vm.dialog,\"dark\":false},on:{\"click\":function($event){return _vm.action(false)}}},[_c('v-card',{style:({\n                      width: _vm.screenSize>750? '600px': '80vw',\n                      height: _vm.screenSize>750? '242px': '250px',\n                      borderRadius: _vm.screenSize>750? '4px': '14px',\n                      minWidth: '245px'\n                    })},[_c('v-card-title',{staticClass:\"pa-8 forgetTitle\",style:({padding: _vm.screenSize>750? '32px': '16px !important', fontSize:_vm.screenSize>750? '24px': '5.5vw !important' })},[_vm._v(\" Please Check Mailbox \")]),_c('v-card-text',{staticClass:\"px-8 pb-8\",staticStyle:{\"text-align\":\"left\",\"color\":\"#000000\"},style:({padding: _vm.screenSize>750? '32px': '16px !important',paddingTop: 0})},[_vm._v(\" An email has been sent to the following email address: \"+_vm._s(_vm.email)+\"，\"),_c('br'),_vm._v(\" Please follow the instruction to change the password. \")]),_c('v-card-actions',{staticClass:\"pa-0 justify-end mr-8\"},[_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"primary\",\"text\":\"\",\"loading\":_vm.loading},on:{\"click\":function($event){return _vm.action(false)}}},[_vm._v(_vm._s(_vm.screenSize>750?'Resend Email': 'Cancel'))]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.action(true)}}},[_vm._v(_vm._s(_vm.screenSize>750?'Back to Login': 'Ok'))])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Autor: lwq\r\n * @Date: 2020-08-18 11:56:30\r\n * @LastEditors: lwq\r\n * @LastEditTime: 2020-08-28 17:13:36\r\n * @FilePath: \\mrc-base-server-view\\src\\views\\forget-password\\module\\confirm.vue\r\n-->\r\n<template>\r\n  <transition name=\"fade\">\r\n    <v-overlay :value=\"dialog\"\r\n               :dark='false'\r\n               @click=\"action(false)\">\r\n      <v-card :style=\"{\r\n                        width: screenSize>750? '600px': '80vw',\r\n                        height: screenSize>750? '242px': '250px',\r\n                        borderRadius: screenSize>750? '4px': '14px',\r\n                        minWidth: '245px'\r\n                      }\">\r\n        <v-card-title class=\"pa-8 forgetTitle\"\r\n                      :style=\"{padding: screenSize>750? '32px': '16px !important', fontSize:screenSize>750? '24px': '5.5vw !important' }\">\r\n          Please Check Mailbox\r\n        </v-card-title>\r\n\r\n        <v-card-text class=\"px-8 pb-8\"\r\n                     style=\"text-align:left;color: #000000\"\r\n                     :style=\"{padding: screenSize>750? '32px': '16px !important',paddingTop: 0}\">\r\n          An email has been sent to the following email address: {{email}}，<br />\r\n          Please follow the instruction to change the password.\r\n        </v-card-text>\r\n\r\n        <v-card-actions class=\"pa-0 justify-end mr-8\">\r\n          <v-btn class=\"text-capitalize\"\r\n                 color='primary'\r\n                 text\r\n                 :loading=\"loading\"\r\n                 @click=\"action(false)\">{{screenSize>750?'Resend Email': 'Cancel'}}</v-btn>\r\n          <v-btn class=\"text-capitalize\"\r\n                 color='primary'\r\n                 text\r\n                 @click=\"action(true)\">{{screenSize>750?'Back to Login': 'Ok'}}</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-overlay>\r\n\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport { required } from 'vuelidate/lib/validators'\r\nexport default {\r\n  components: {},\r\n  props: {\r\n    dialog: false,\r\n    loading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    email: {\r\n      type: String\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      screenSize: '',\r\n      webPc: true\r\n    };\r\n  },\r\n  model: {\r\n    prop: 'dialog',\r\n    event: 'flag'\r\n  },\r\n  validations: {},\r\n  computed: {},\r\n  created () {\r\n    const that = this\r\n    that.screenSize = document.documentElement.clientWidth\r\n    if (that.screenSize > 750) {\r\n      that.webPc = true\r\n    } else {\r\n      that.webPc = false\r\n    }\r\n    this.resize(function () {\r\n      that.screenSize = document.documentElement.clientWidth\r\n      if (that.screenSize > 750) {\r\n        that.webPc = true\r\n      } else {\r\n        that.webPc = false\r\n      }\r\n    })\r\n  },\r\n  watch: {},\r\n  mounted () { },\r\n\r\n  methods: {\r\n    action (status) {\r\n      if (status) {\r\n        this.$emit('success')\r\n        this.$emit('flag', false)\r\n      } else {\r\n        this.$emit('cancel')\r\n        this.$emit('flag', false)\r\n      }\r\n    },\r\n    resize (fn) {\r\n      window.addEventListener('resize', function () {\r\n        fn()\r\n      })\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.forgetTitle {\r\n  color: #000000;\r\n  font-family: Noto Sans CJK TC;\r\n  font-weight: regular;\r\n  line-height: 1.29;\r\n  letter-spacing: 0px;\r\n  text-align: left;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./confirm.vue?vue&type=template&id=c7754254&scoped=true&\"\nimport script from \"./confirm.vue?vue&type=script&lang=js&\"\nexport * from \"./confirm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./confirm.vue?vue&type=style&index=0&id=c7754254&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c7754254\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"forget-password\"},[(_vm.webPc)?_c('div',{staticClass:\"webPc\"},[(_vm.sendMail)?_c('v-card',{staticClass:\"webSendMail\"},[_c('div',{staticClass:\"forgot_title\"},[_vm._v(_vm._s(_vm.title))]),_c('mrc_ess_input',{staticStyle:{\"margin-top\":\"80px\"},attrs:{\"label\":\"账户名\",\"background-color\":\"#fff\",\"error-messages\":_vm.$errors('sendEmailParams','user_account',_vm.requiredRule)},on:{\"keyupEnter\":_vm.sendEmailHandler,\"input\":function($event){return _vm.$v.sendEmailParams.user_account.$touch()},\"blur\":function($event){return _vm.$v.sendEmailParams.user_account.$touch()}},model:{value:(_vm.sendEmailParams.user_account),callback:function ($$v) {_vm.$set(_vm.sendEmailParams, \"user_account\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"sendEmailParams.user_account\"}}),_c('mrc_ess_submitBtn',{attrs:{\"cancelText\":\"Back\",\"backgroundColor\":\"#fff\",\"successText\":\"Submit\",\"loading\":_vm.loading},on:{\"success\":_vm.sendEmailHandler,\"cancel\":_vm.backHandler}})],1):_vm._e()],1):_c('div',{staticClass:\"phoneH5\"},[(_vm.sendMail)?_c('v-card',{staticClass:\"sendMail\"},[_c('div',{staticClass:\"forgot_title\"},[_vm._v(_vm._s(_vm.title))]),_c('mrc_ess_input',{staticStyle:{\"margin-top\":\"14vw\"},attrs:{\"label\":\"账户名\",\"background-color\":\"#fff\",\"error-messages\":_vm.$errors('sendEmailParams','user_account',_vm.requiredRule)},on:{\"keyupEnter\":_vm.sendEmailHandler,\"input\":function($event){return _vm.$v.sendEmailParams.user_account.$touch()},\"blur\":function($event){return _vm.$v.sendEmailParams.user_account.$touch()}},model:{value:(_vm.sendEmailParams.user_account),callback:function ($$v) {_vm.$set(_vm.sendEmailParams, \"user_account\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"sendEmailParams.user_account\"}}),_c('mrc_ess_submitBtn',{staticClass:\"flex-column-reverse phoneSubmitBtn\",attrs:{\"cancelText\":\"Back\",\"backgroundColor\":\"#fff\",\"successText\":\"Submit\",\"loading\":_vm.loading},on:{\"success\":_vm.sendEmailHandler,\"cancel\":_vm.backHandler}})],1):_vm._e()],1),_c('div',{staticClass:\"bottom\"},[_c('span',{staticClass:\"ft2\"},[_vm._v(_vm._s(_vm.$t('Privary Policy')))]),_c('i',[_vm._v(\"|\")]),_c('span',{staticClass:\"ft2\"},[_vm._v(_vm._s(_vm.$t('Term of Use')))]),_c('p',{staticClass:\"ft3\"},[_vm._v(\"Copyight 2020 by MRC International Grounp Limited\")])]),_c('forgotConfirm',{attrs:{\"email\":_vm.email,\"loading\":_vm.loading},on:{\"success\":_vm.backToLogin,\"cancel\":_vm.resendEmail},model:{value:(_vm.openDialog),callback:function ($$v) {_vm.openDialog=$$v},expression:\"openDialog\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: 忘记密码， 这是个响应式的页面\r\n * @Autor: lwq\r\n * @Date: 2020-08-17 17:30:59\r\n * @LastEditors: Please set LastEditors\r\n * @LastEditTime: 2020-09-07 18:07:51\r\n * @FilePath: \\mrc-base-server-view\\src\\views\\forget-password\\index.vue\r\n-->\r\n<template>\r\n  <div class=\"forget-password\">\r\n    <!-- webPc 的页面 -->\r\n    <div class=\"webPc\"\r\n         v-if=\"webPc\">\r\n      <!-- 发送邮件 -->\r\n      <v-card class=\"webSendMail\"\r\n              v-if=\"sendMail\">\r\n        <div class=\"forgot_title\">{{title}}</div>\r\n        <mrc_ess_input label=\"账户名\"\r\n                       background-color='#fff'\r\n                       style=\"margin-top: 80px\"\r\n                       @keyupEnter='sendEmailHandler'\r\n                       @input=\"$v.sendEmailParams.user_account.$touch()\"\r\n                       @blur=\"$v.sendEmailParams.user_account.$touch()\"\r\n                       v-model.trim=\"sendEmailParams.user_account\"\r\n                       :error-messages=\"$errors('sendEmailParams','user_account',requiredRule)\"></mrc_ess_input>\r\n\r\n        <mrc_ess_submitBtn cancelText='Back'\r\n                           backgroundColor='#fff'\r\n                           successText='Submit'\r\n                           :loading='loading'\r\n                           @success='sendEmailHandler'\r\n                           @cancel='backHandler'></mrc_ess_submitBtn>\r\n      </v-card>\r\n\r\n    </div>\r\n\r\n    <!-- 这是手机的输入框 -->\r\n    <div class=\"phoneH5\"\r\n         v-else>\r\n      <v-card v-if=\"sendMail\"\r\n              class=\"sendMail\">\r\n        <div class=\"forgot_title\">{{title}}</div>\r\n        <mrc_ess_input label=\"账户名\"\r\n                       background-color='#fff'\r\n                       style=\"margin-top: 14vw\"\r\n                       @keyupEnter='sendEmailHandler'\r\n                       @input=\"$v.sendEmailParams.user_account.$touch()\"\r\n                       @blur=\"$v.sendEmailParams.user_account.$touch()\"\r\n                       v-model.trim=\"sendEmailParams.user_account\"\r\n                       :error-messages=\"$errors('sendEmailParams','user_account',requiredRule)\"></mrc_ess_input>\r\n        <mrc_ess_submitBtn cancelText='Back'\r\n                           backgroundColor='#fff'\r\n                           successText='Submit'\r\n                           :loading='loading'\r\n                           class=\"flex-column-reverse phoneSubmitBtn\"\r\n                           @success='sendEmailHandler'\r\n                           @cancel='backHandler'></mrc_ess_submitBtn>\r\n      </v-card>\r\n    </div>\r\n    <!-- 这是页面底部的版本信息 -->\r\n    <div class=\"bottom\">\r\n      <span class=\"ft2\">{{$t('Privary Policy')}}</span>\r\n      <i>|</i>\r\n      <span class=\"ft2\">{{$t('Term of Use')}}</span>\r\n      <p class=\"ft3\">Copyight 2020 by MRC International Grounp Limited</p>\r\n    </div>\r\n    <!-- 这是发送后的提示弹窗 -->\r\n    <forgotConfirm v-model=\"openDialog\"\r\n                   @success='backToLogin'\r\n                   :email='email'\r\n                   :loading='loading'\r\n                   @cancel='resendEmail'></forgotConfirm>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { required, minLength } from 'vuelidate/lib/validators'\r\nimport forgotConfirm from './module/confirm'\r\nimport { savePwd, sendEmail, checkToken, passwordStrength } from '@/service/api/forgot-password'\r\nexport default {\r\n  components: { forgotConfirm },\r\n  props: {},\r\n  data () {\r\n    return {\r\n      login_url: '',\r\n      regxMsg: '',\r\n      regxRule: '',\r\n      disabled: false,\r\n      successBackgroundColor: 'primary',\r\n      urlParams: {},\r\n      title: 'Forgot Password',\r\n      icon: 'mdi-eye-off',\r\n      type: 'password',\r\n      sendMail: false,\r\n\r\n      sendEmailParams: {\r\n        user_account: ''\r\n      },\r\n      savePwdParams: {\r\n        user_account: '',\r\n        user_pwd: '',\r\n        sameAsPassword: '',\r\n        token: ''\r\n      },\r\n      openDialog: false,\r\n      is_showPassword: false,\r\n      screenSize: '',\r\n      // 是web的尺寸 true  手机的尺寸 false\r\n      webPc: true,\r\n      loading: false,\r\n      email: ''\r\n    };\r\n  },\r\n  validations: {\r\n    sendEmailParams: {\r\n      user_account: {\r\n        required\r\n      }\r\n    },\r\n    savePwdParams: {\r\n      user_pwd: {\r\n        required,\r\n        isChina (val) {\r\n          return this.isChina(val)\r\n        },\r\n        passwordStrengthRegxRule (val) {\r\n          return new RegExp(this.regxRule).test(val)\r\n        }\r\n\r\n      },\r\n      sameAsPassword: {\r\n        required,\r\n        sameAsPassword (val) {\r\n          return val && val == this.savePwdParams.user_pwd\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  async created () {\r\n    this.login_url = new URLSearchParams(window.location.href.slice(window.location.href.indexOf('?'))).get('login_url')\r\n    this.sendMail = true\r\n    this.title = 'Forgot Password'\r\n    const that = this\r\n    that.screenSize = document.documentElement.clientWidth\r\n    if (that.screenSize > 750) {\r\n      that.webPc = true\r\n    } else {\r\n      that.webPc = false\r\n    }\r\n    this.resize(function () {\r\n      that.screenSize = document.documentElement.clientWidth\r\n      if (that.screenSize > 750) {\r\n        that.webPc = true\r\n      } else {\r\n        that.webPc = false\r\n      }\r\n    })\r\n  },\r\n  watch: {},\r\n  mounted () {\r\n\r\n  },\r\n\r\n  methods: {\r\n    // 发送邮件\r\n    async sendEmailHandler () {\r\n      this.$v.sendEmailParams.$touch()\r\n      if (this.$v.sendEmailParams.$error) return\r\n      this.loading = true\r\n\r\n      const login_url = encodeURIComponent(this.login_url) ? encodeURIComponent(this.login_url) : ''\r\n      const res = await sendEmail({ user_account: this.sendEmailParams.user_account, login_url: login_url })\r\n      this.loading = false\r\n      if (res.code == 200) {\r\n        this.email = res.data\r\n        this.openDialog = true\r\n      }\r\n    },\r\n    // back\r\n    backHandler () {\r\n      if (this.login_url) {\r\n        window.location.href = this.login_url\r\n      } else {\r\n\r\n      }\r\n    },\r\n\r\n    // 回到登录页\r\n    backToLogin () {\r\n      if (this.login_url) {\r\n        window.location.href = this.login_url\r\n      } else {\r\n\r\n      }\r\n\r\n    },\r\n    async resendEmail () {\r\n      await this.sendEmailHandler()\r\n    },\r\n    resize (fn) {\r\n      window.addEventListener('resize', function () {\r\n        fn()\r\n      })\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.forget-password {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  background: url(\"../../assets/img/loginBg.png\") no-repeat;\r\n  text-align: center;\r\n  background-color: #0f46c1;\r\n}\r\n.webResetPassword,\r\n.webSendMail {\r\n  width: 560px;\r\n  height: 420px;\r\n  border-radius: 4px;\r\n  background: #ffffff;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  padding: 0 72px;\r\n}\r\n\r\n.webSendMail {\r\n  height: 352px;\r\n}\r\n\r\n.webPc .forgot_title {\r\n  margin-top: 64px;\r\n  text-align: left;\r\n  font-size: 28px;\r\n}\r\n\r\n.forget-password /deep/ .btnGroup {\r\n  justify-content: flex-end;\r\n  height: 48px;\r\n}\r\n.forget-password /deep/ .successBtn {\r\n  width: 170px;\r\n  height: 48px;\r\n  max-height: 48px !important;\r\n  margin-left: 14px;\r\n}\r\n.forget-password /deep/ .cencelBtn {\r\n  font-weight: medium;\r\n  margin-right: 0;\r\n}\r\n\r\n.phoneH5 .sendMail,\r\n.phoneH5 .resetPassword {\r\n  height: 420px;\r\n  border-radius: 4px;\r\n  background: #ffffff;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  padding: 0 10vw;\r\n  width: 90vw;\r\n}\r\n.phoneH5 .sendMail,\r\n.phoneH5 .resetPassword {\r\n  min-width: 300px;\r\n}\r\n.phoneH5 .resetPassword {\r\n  height: 500px;\r\n}\r\n.phoneH5 .forgot_title {\r\n  margin-top: 64px;\r\n  text-align: left;\r\n  font-size: 20px;\r\n}\r\n.phoneH5 .phoneSubmitBtn /deep/ .successBtn {\r\n  margin: 20px 0;\r\n}\r\n\r\n.bottom {\r\n  color: #fff;\r\n  position: absolute;\r\n  bottom: 1px;\r\n  text-align: center;\r\n  left: 50%;\r\n  z-index: 10;\r\n  font-size: 14px;\r\n  transform: translateX(-50%);\r\n  min-width: 250px;\r\n}\r\n.bottom .ft2 {\r\n  color: #ffffff;\r\n  font-family: Noto Sans CJK TC;\r\n  font-weight: medium;\r\n  font-size: 14px;\r\n  line-height: 1.25;\r\n  letter-spacing: 1.25px;\r\n  text-align: left;\r\n}\r\n.bottom i {\r\n  display: inline-block;\r\n  width: 37px;\r\n  font-style: normal;\r\n}\r\n.bottom p {\r\n  color: #ffffff;\r\n  font-family: Noto Sans CJK TC;\r\n  font-weight: regular;\r\n  font-size: 12px;\r\n  line-height: 1.29;\r\n  letter-spacing: 0px;\r\n  text-align: center;\r\n  min-width: 303px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2a63c826&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2a63c826&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a63c826\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=style&index=0&id=c7754254&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=style&index=0&id=c7754254&scoped=true&lang=css&\"","/*\r\n * @Description: \r\n * @Autor: lwq\r\n * @Date: 2020-08-19 10:03:52\r\n * @LastEditors: lwq\r\n * @LastEditTime: 2020-08-24 18:31:54\r\n * @FilePath: \\mrc-base-server-view\\src\\service\\api\\forgot-password.js\r\n */\r\nimport http from '../httpConfig'\r\nconst table = 'mrbase_sys_users'\r\n// 保存新密码\r\nexport const savePwd = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/personalcenter/save-newpwd/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\nexport const sendEmail = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/personalcenter/send-updatePwdEmail/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n// 验证token过期\r\nexport const checkToken = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/personalcenter/check-token/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n// 修改密码\r\n\r\nexport const updatePassword = (params = {}) => {\r\n  params['~table~'] = table\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/personalcenter/save-updatepwd/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n// 获取密码强度的正则 \r\nexport const passwordStrength = (params = {}) => {\r\n  return new Promise((resolve, reject) => {\r\n    http.post('/api/personalcenter/return-security/v1', params)\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}"],"sourceRoot":""}