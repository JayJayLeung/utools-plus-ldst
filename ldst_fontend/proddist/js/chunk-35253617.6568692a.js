(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35253617","chunk-2cb7e3b1","chunk-f24a39d4","chunk-2d0d6eb6"],{"1eac":function(e,t,s){"use strict";var n=s("4035"),a=s.n(n);a.a},"365a":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("mrc_ess_iconGroup",{attrs:{is_disabled:e.$store.state.iconstatus,showReturn:!1},on:{handleEdit:e.change,handleDel:e.remove}}),e.$route.params.groupName?s("group",{attrs:{readonly:e.readonly}}):s("Levelcomponents",{attrs:{readonly:e.readonly}})],1)},a=[],o=s("ee2e"),r=s("6b0e"),l=s("7535"),i={components:{Levelcomponents:o["default"],group:r["default"]},props:{},data:function(){return{switch1:!1,readonly:null}},created:function(){},mounted:function(){this.readonly=this.$store.state.iconstatus},methods:{change:function(){this.readonly=!this.readonly,this.$store.commit("set_iconstatus",!this.$store.state.iconstatus)},remove:function(){var e=this;this.$myConfirm({content:"确认要删除吗"}).then((function(t){e.$store.state.subPage_name?Object(l["delete_postgrades_group"])({group_name:e.$store.state.subPage_name}).then((function(t){200==t.code?(e.$store.commit("newsTips",e.$t("message_The_deletion_was_successful")),e.$router.push({name:"jobs_manage"})):e.$store.commit("newsTips",t.msg)})):Object(l["delete_postgrades"])({uuid:e.$store.state.uuid}).then((function(t){200==t.code?(e.$store.commit("newsTips",e.$t("message_The_deletion_was_successful")),e.$router.push({name:"jobs_manage"})):e.$store.commit("newsTips",t.msg)}))}))["catch"]((function(e){}))}},computed:{},watch:{}},c=i,u=(s("87d7"),s("2877")),d=Object(u["a"])(c,n,a,!1,null,"169b9fea",null);t["default"]=d.exports},4035:function(e,t,s){},"4e4d":function(e,t,s){},"57da":function(e,t,s){},"6b0e":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-form",[s("v-card",[s("v-card-title",[s("mrc_ess_switch",{attrs:{"true-value":"1","false-value":"0",readonly:e.readonly,"true-text":e.$t("label_To_enable_the"),"false-text":e.$t("label_disable")},model:{value:e.levelcomponentslist.is_used,callback:function(t){e.$set(e.levelcomponentslist,"is_used",t)},expression:"levelcomponentslist.is_used"}})],1),s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_multiText",{attrs:{label:e.$t("label_Group_name")+"*",isNational:e.judegNational("group_name"),readonly:e.readonly,"error-messages":e.$errors("levelcomponentslist","group_name",e.maxLength(30).concat(e.requiredRule))},model:{value:e.levelcomponentslist.group_name,callback:function(t){e.$set(e.levelcomponentslist,"group_name",t)},expression:"levelcomponentslist.group_name"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_prompt",{attrs:{label:e.$t("label_company")+"*",disabled:e.readonly,multiple:!0,errMsg:e.$errors(null,"units",e.requiredRule),obj:e.unit},model:{value:e.units,callback:function(t){e.units=t},expression:"units"}})],1)],1),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,"sort-by":"calories","hide-default-footer":""},scopedSlots:e._u([{key:"item.actions",fn:function(t){var n=t.item;return[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v(" mdi-pencil ")]),s("v-icon",{attrs:{small:"",disabled:e.readonly},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){},proxy:!0},{key:"footer",fn:function(){return[s("v-divider"),e.readonly?e._e():s("span",{staticClass:"mt-1 pb-1 d-flex ml-5",on:{click:e.editItem}},[s("span",{staticStyle:{color:"#0F46C1","line-height":"28px","font-size":"12px"}},[e._v(e._s(e.$t("label_A_new_level")))]),s("v-icon",{staticClass:"material-icons",staticStyle:{color:"#0F46C1","font-size":"22px"}},[e._v("add")])],1)]},proxy:!0}])})],1),s("mrc_ess_submitBtn",{attrs:{loading:e.btnIsLoading},on:{success:e.success,cancel:e.cancel}})],1),s("mrc_ess_myDialog",{attrs:{title:e.$t("label_A_new_level"),disabled:!e.readonly},on:{success:e.save,cancel:e.close},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card-text",[s("v-row",{attrs:{dense:""}},[s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_multiText",{attrs:{isNational:e.judegNational("job_grade_name"),readonly:e.readonly,"error-messages":e.$errors("editedItem","job_grade_name",e.maxLength(30).concat(e.requiredRule)),label:e.$t("label_The_name_of_the_hierarchy")+"*"},model:{value:e.editedItem.job_grade_name,callback:function(t){e.$set(e.editedItem,"job_grade_name",t)},expression:"editedItem.job_grade_name"}})],1),s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_NumInput",{attrs:{readonly:e.readonly,label:e.$t("label_The_hierarchy")+"*","error-messages":e.$errors("editedItem","job_grade_class",e.between("1-50"))},model:{value:e.editedItem.job_grade_class,callback:function(t){e.$set(e.editedItem,"job_grade_class",t)},expression:"editedItem.job_grade_class"}})],1),s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_multiText",{attrs:{isNational:e.judegNational("remark"),readonly:e.readonly,label:e.$t("label_note")},model:{value:e.editedItem.remark,callback:function(t){e.$set(e.editedItem,"remark",t)},expression:"editedItem.remark"}})],1),s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_NumInput",{attrs:{readonly:!e.readonly,"error-messages":e.$errors("editedItem","sequence",e.between("1-50")),label:e.$t("label_The_sorting")+"*"},model:{value:e.editedItem.sequence,callback:function(t){e.$set(e.editedItem,"sequence",t)},expression:"editedItem.sequence"}})],1)],1)],1)],1)],1)},a=[],o=(s("99af"),s("c975"),s("a15b"),s("d81d"),s("a434"),s("b64b"),s("ac1f"),s("1276"),s("2909")),r=s("5530"),l=(s("96cf"),s("1da1")),i=s("b5ae"),c=s("7535"),u={components:{},props:{readonly:{type:Boolean,default:!1}},watch:{},data:function(){return{btnIsLoading:!1,company_uuid:"",switch1:1,levelcomponentslist:{org_level_uuid:"",group_name:"",mrbase_sys_job_post_grades:[{sequence:"",job_grade_class:"",job_grade_shortcode:"",job_grade_name:"",remark:""}],is_used:"1"},dialog:!1,deletePostmanagement:[],desserts:[],editedIndex:-1,editedItem:{job_grade_name:"",job_grade_class:0,remark:0,sequence:0},defaultItem:{job_grade_name:"",job_grade_class:0,remark:0,sequence:0},unit:null,units:[]}},validations:{levelcomponentslist:{group_name:{maxLength:Object(i["maxLength"])(30),required:i["required"]}},editedItem:{job_grade_name:{maxLength:Object(i["maxLength"])(30),required:i["required"]},job_grade_class:{between:Object(i["between"])(1,50)},remark:{maxLength:Object(i["maxLength"])(500)},sequence:{between:Object(i["between"])(1,50)}},units:{required:i["required"]}},created:function(){},mounted:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.national("mrbase_sys_job_post_grades");case 2:t=JSON.parse(localStorage.getItem("userData")).uuid,this.unit={prompt_name:"org_levels_manager_filter_company",user_uuid:t},this.$route.params.uuid&&(this.$route.meta.title=this.$store.state.subPage_name,this.initialize());case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{typedelmethods:function(e,t,s){for(var n=[],a=0;a<e.length;a++){for(var o=e[a].comparisonvalue,l=!1,i=0;i<t.length;i++)if(t[i].comparisonvalue==o){l=!0;break}l||n.push(Object(r["a"])(Object(r["a"])({},e[a]),{},{"~type~":"del"}))}return n},success:function(){var e=this;this.$v.levelcomponentslist.$touch(),this.$v.$touch(),this.$v.levelcomponentslist.$error||(this.btnIsLoading=!0,this.desserts.map((function(e){return delete e.isTrusted,e})),this.levelcomponentslist.org_level_uuid=this.units.join(),this.$route.params.uuid||this.$store.state.uuid?(this.levelcomponentslist.mrbase_sys_job_post_grades=[].concat(Object(o["a"])(this.desserts),Object(o["a"])(this.deletePost)).map((function(e){return delete e.created_by,delete e.updated_utc_datetime,delete e.updated_by,delete e.created_utc_datetime,delete e.job_grade_id,e["~table~"]="mrbase_sys_job_post_grades",e})),Object(c["update_postgrades_group"])(this.levelcomponentslist).then((function(t){"200"===t.code?e.$router.push({name:"Post_level_management"}):(e.$myConfirm({content:e.$t("message_The_modification_failed")}),e.btnIsLoading=!1)}))):(this.levelcomponentslist.mrbase_sys_job_post_grades=this.desserts,Object(c["add_postgrades_group"])(this.levelcomponentslist).then((function(t){200==t.code?e.$router.push({name:"Post_level_management"}):(e.$myConfirm({content:e.$t("message_Add_failed")}),e.btnIsLoading=!1)}))))},cancel:function(){this.$router.push({name:"Post_level_management"})},initialize:function(){var e=this;Object(c["get_postgrades_groupdetail"])({group_name:this.$route.params.groupName}).then((function(t){e.levelcomponentslist=t.data,e.units=t.data.org_level_uuid.length>0?t.data.org_level_uuid.split(","):[],e.desserts=e.levelcomponentslist.mrbase_sys_job_post_grades}))},editItem:function(e){this.$v.editedItem.$reset(),Object.keys(e)&&(this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e)),this.dialog=!0},deleteItem:function(e){var t=this,s=this.desserts.indexOf(e);this.$myConfirm({content:this.$t("message_Confirm_the_deletion")}).then((function(){var e=t.desserts.splice(s,1);(e[0].uuid||e[0].client_uuid)&&t.deletePostmanagement.push(e[0])}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.$v.editedItem.$touch(),this.$v.editedItem.$error||(this.editedIndex>-1?Object.assign(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close())}},computed:{headers:function(){return[{text:this.$t("label_The_name_of_the_hierarchy"),align:"start",sortable:!1,value:"job_grade_name"},{text:this.$t("label_The_hierarchy"),sortable:!1,value:"job_grade_class"},{text:this.$t("label_note"),sortable:!1,value:"remark"},{text:this.$t("label_The_sorting"),value:"sequence"},{text:"Actions",value:"actions",sortable:!1}]},deletePost:function(){return this.deletePostmanagement.length>0?this.deletePostmanagement.map((function(e){return Object(r["a"])(Object(r["a"])({},e),{},{"~type~":"del"})})):[]},companyName:function(){return this.company_uuid=JSON.parse(localStorage.getItem("userData")).currentCompany.uUID},formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}}},d=u,m=(s("c6c2"),s("2877")),_=Object(m["a"])(d,n,a,!1,null,"10d3ba86",null);t["default"]=_.exports},7535:function(e,t,s){"use strict";s.r(t),s.d(t,"get_postgrades",(function(){return o})),s.d(t,"get_postgradesdetail",(function(){return r})),s.d(t,"get_postgrades_groupdetail",(function(){return l})),s.d(t,"add_postgrades",(function(){return i})),s.d(t,"add_postgrades_group",(function(){return c})),s.d(t,"update_postgrades",(function(){return u})),s.d(t,"update_postgrades_group",(function(){return d})),s.d(t,"delete_postgrades",(function(){return m})),s.d(t,"delete_postgrades_group",(function(){return _}));s("d3b7");var n=s("efc9"),a="mrbase_sys_job_post_grades",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,s){n["default"].post("/api/post/grade/list-post-grades/v1",e).then((function(e){t(e)}))["catch"]((function(e){s(e)}))}))},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,s){n["default"].post("/api/post/grade/find-post-grades/v1",e).then((function(e){t(e)}))["catch"]((function(e){s(e)}))}))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,s){n["default"].post("/api/post/grade/find-post-grades-group/v1",e).then((function(e){t(e)}))["catch"]((function(e){s(e)}))}))},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,s){n["default"].post("/api/post/grade/add-post-grades/v1",e).then((function(e){t(e)}))["catch"]((function(e){s(e)}))}))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,s){n["default"].post("/api/post/grade/add-post-grades-group/v1",e).then((function(e){t(e)}))["catch"]((function(e){s(e)}))}))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,s){n["default"].post("/api/post/grade/update-post-grades/v1",e).then((function(e){t(e)}))["catch"]((function(e){s(e)}))}))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,s){n["default"].post("/api/post/grade/update-post-grades-group/v1",e).then((function(e){t(e)}))["catch"]((function(e){s(e)}))}))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,s){n["default"].post("/api/post/grade/delete-post-grades/v1",e).then((function(e){t(e)}))["catch"]((function(e){s(e)}))}))},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["~table~"]=a,new Promise((function(t,s){n["default"].post("/api/post/grade/delete-post-grades-group/v1",e).then((function(e){t(e)}))["catch"]((function(e){s(e)}))}))}},"87d7":function(e,t,s){"use strict";var n=s("57da"),a=s.n(n);a.a},c6c2:function(e,t,s){"use strict";var n=s("4e4d"),a=s.n(n);a.a},ee2e:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-form",[s("v-card",[s("v-card-title",[s("mrc_ess_switch",{attrs:{"true-value":1,"false-value":0,readonly:e.readonly,"true-text":e.$t("label_To_enable_the"),"false-text":e.$t("label_disable")},model:{value:e.levelcomponentslist.is_used,callback:function(t){e.$set(e.levelcomponentslist,"is_used",t)},expression:"levelcomponentslist.is_used"}})],1),s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("mrc_ess_multiText",{attrs:{label:e.$t("label_The_name_of_the_hierarchy")+"*",isNational:e.judegNational("job_grade_name"),"error-messages":e.$errors("levelcomponentslist","job_grade_name",e.requiredRule),readonly:e.readonly},model:{value:e.levelcomponentslist.job_grade_name,callback:function(t){e.$set(e.levelcomponentslist,"job_grade_name",t)},expression:"levelcomponentslist.job_grade_name"}})],1),s("v-col",{attrs:{cols:"6"}},[s("mrc_ess_NumInput",{attrs:{label:e.$t("label_The_hierarchy")+"*","error-messages":e.$errors("levelcomponentslist","job_grade_class",e.between("1-50")),readonly:!e.readonly},model:{value:e.levelcomponentslist.job_grade_class,callback:function(t){e.$set(e.levelcomponentslist,"job_grade_class",t)},expression:"levelcomponentslist.job_grade_class"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_multiText",{attrs:{label:e.$t("label_note"),isNational:e.judegNational("remark"),"error-messages":e.$errors("levelcomponentslist","remark",e.maxLength(200)),readonly:e.readonly},model:{value:e.levelcomponentslist.remark,callback:function(t){e.$set(e.levelcomponentslist,"remark",t)},expression:"levelcomponentslist.remark"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("mrc_ess_prompt",{attrs:{label:e.$t("label_company")+"*",disabled:e.readonly,multiple:!0,errMsg:e.$errors(null,"units",e.requiredRule),obj:e.unit},model:{value:e.units,callback:function(t){e.units=t},expression:"units"}})],1)],1),e.readonly?s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("mrc_ess_NumInput",{attrs:{label:e.$t("label_Number_of_posts_in_use"),"error-messages":e.$errors("levelcomponentslist","staff_number",e.between("1-100000")),readonly:e.readonly},model:{value:e.levelcomponentslist.staff_number,callback:function(t){e.$set(e.levelcomponentslist,"staff_number",t)},expression:"levelcomponentslist.staff_number"}})],1),s("v-col",{attrs:{cols:"6"}},[s("mrc_ess_NumInput",{attrs:{label:e.$t("label_The_sorting")+"*","error-messages":e.$errors("levelcomponentslist","sequence",e.between("1-50")),readonly:e.readonly},model:{value:e.levelcomponentslist.sequence,callback:function(t){e.$set(e.levelcomponentslist,"sequence",t)},expression:"levelcomponentslist.sequence"}})],1)],1):s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("mrc_ess_NumInput",{attrs:{label:e.$t("label_The_sorting")+"*","error-messages":e.$errors("levelcomponentslist","sequence",e.between("1-50").concat(e.requiredRule)),readonly:e.readonly},model:{value:e.levelcomponentslist.sequence,callback:function(t){e.$set(e.levelcomponentslist,"sequence",t)},expression:"levelcomponentslist.sequence"}})],1)],1)],1),e.readonly?e._e():s("mrc_ess_submitBtn",{attrs:{loading:e.btnIsLoading},on:{success:e.success,cancel:e.cancel}})],1)],1)},a=[],o=(s("a15b"),s("ac1f"),s("1276"),s("96cf"),s("1da1")),r=s("7535"),l=s("b5ae"),i={components:{},props:{readonly:{type:Boolean,default:!1}},watch:{},data:function(){return{btnIsLoading:!1,nodorules:[function(e){return!!e||"不能为空"},function(e){return String(e).length<=200||"超过输入个数"},function(e){return!/[@#$%^&()<>?/]/.test(e)||"请勿输入非法字符"},function(e){return!/^ +| +$/g.test(e)||"不能输入空格"}],userrules:[function(e){return String(e).length<=20||"超过输入个数"},function(e){return!/[^\w]/g.test(e)||"只能输入数字和字母"}],unit:null,units:[],switch1:!1,levelcomponentslist:{job_grade_name:"",job_grade_shortcode:"",job_grade_class:"",is_used:"1",sequence:"",remark:"",org_level_uuid:""}}},validations:{levelcomponentslist:{job_grade_shortcode:{maxLength:Object(l["maxLength"])(10)},job_grade_name:{maxLength:Object(l["maxLength"])(20),required:l["required"]},job_grade_class:{maxLength:Object(l["maxLength"])(10),between:Object(l["between"])(1,50)},remark:{maxLength:Object(l["maxLength"])(200)},sequence:{maxLength:Object(l["maxLength"])(10),between:Object(l["between"])(1,50),required:l["required"]},staff_number:{maxLength:Object(l["maxLength"])(10),between:Object(l["between"])(1,1e5)}},units:{required:l["required"]}},created:function(){},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.national("mrbase_sys_job_post_grades");case 2:if(t=this.$store.state.userData.uuid||JSON.parse(localStorage.getItem("userData")).uuid,this.unit={prompt_name:"org_levels_manager_filter_company",user_uuid:t},!this.$route.params.uuid&&!this.$store.state.uuid){e.next=13;break}return this.$route.meta.title=this.$store.state.subPage_name,e.next=8,Object(r["get_postgradesdetail"])({uuid:this.$store.state.uuid});case 8:s=e.sent,this.levelcomponentslist=s.data,this.units=s.data.org_level_uuid.length>0?s.data.org_level_uuid.split(","):[],e.next=13;break;case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{success:function(){var e=this;this.$v.levelcomponentslist.$touch(),this.$v.$touch(),this.$v.levelcomponentslist.$error||(this.btnIsLoading=!0,this.levelcomponentslist.org_level_uuid=this.units.join(),this.$route.params.uuid||this.$store.state.uuid?(delete this.levelcomponentslist.created_by,delete this.levelcomponentslist.updated_utc_datetime,delete this.levelcomponentslist.updated_by,delete this.levelcomponentslist.created_utc_datetime,Object(r["update_postgrades"])(this.levelcomponentslist).then((function(t){200==t.code?e.$router.push({name:"Post_level_management"}):"mrbase_sys_job_post_grades.job_grade_class.required"==t.code?(e.$myConfirm({content:e.$t("message_The_higher_the_number")}),e.btnIsLoading=!1):(e.$myConfirm({content:e.$t("message_The_modification_failed")}),e.btnIsLoading=!1)}))):Object(r["add_postgrades"])(this.levelcomponentslist).then((function(t){200==t.code?e.$router.push({name:"Post_level_management"}):"mrbase_sys_job_post_grades.job_grade_class.required"==t.code?(e.$myConfirm({content:e.$t("message_The_higher_the_number")}),e.btnIsLoading=!1):"mrbase_sys_job_post_grades.org_level_uuid.required"==t.code?(e.$myConfirm({content:e.$t("message_Unit_required")}),e.btnIsLoading=!1):(e.$myConfirm({content:e.$t("message_Add_failed")}),e.btnIsLoading=!1)})))},cancel:function(){this.$router.push({name:"Post_level_management"})}},computed:{company_uuid:function(){return this.$store.state.currentCompany}}},c=i,u=(s("1eac"),s("2877")),d=Object(u["a"])(c,n,a,!1,null,"4de4b2ae",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-35253617.6568692a.js.map